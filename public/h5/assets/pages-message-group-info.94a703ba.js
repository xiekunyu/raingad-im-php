import{_ as t,u as a,s as o,G as i,n as s,o as n,f as e,w as c,m as r,g as d,i as p,v as u,p as l,y as g,A as f}from"./index-bcce18ca.js";const h=a(o);const _=t({data:()=>({contact:{},group_id:0}),onLoad(t){this.group_id=t.group_id?t.group_id:"",this.getGroupInfo()},methods:{getGroupInfo(){this.$api.msgApi.groupInfo({group_id:this.group_id}).then((t=>{let a=t.data;this.contact=a}))},applyGroup(){if(0==this.contact.setting.invite)return i({title:"该群聊已经关闭加群申请",icon:"none"});this.$api.msgApi.joinGroup({group_id:this.group_id,inviteUid:this.contact.inviteUid}).then((t=>{0==t.code&&(this.contact.is_group=1,h.appendContacts(this.contact),this.openChat())}))},openChat(){s({url:"/pages/message/chat?id="+this.group_id})}}},[["render",function(t,a,o,i,s,h){const _=l("cu-custom"),m=g,x=r,C=f;return n(),e(x,null,{default:c((()=>[d(_,{bgColor:"bg-gradual-green",isBack:!0},{backText:c((()=>[])),content:c((()=>[p("群信息")])),_:1}),d(x,{align:"center",class:"groupInfo"},{default:c((()=>[d(m,{src:s.contact.avatar,mode:"widthFix",style:{width:"120px",height:"120px","border-radius":"12rpx"}},null,8,["src"]),d(x,{class:"f-14 mt-10"},{default:c((()=>[p(u(s.contact.name)+" ("+u(s.contact.groupUserCount)+") ",1)])),_:1})])),_:1}),s.contact.isJoin?(n(),e(x,{key:1,class:"padding flex flex-direction mt-10"},{default:c((()=>[d(C,{class:"cu-btn bg-green lg",onClick:h.openChat},{default:c((()=>[p(" 进入聊天 ")])),_:1},8,["onClick"])])),_:1})):(n(),e(x,{key:0,class:"padding flex flex-direction mt-10"},{default:c((()=>[d(C,{class:"cu-btn bg-green lg",onClick:h.applyGroup},{default:c((()=>[p(" 加入群聊 ")])),_:1},8,["onClick"])])),_:1}))])),_:1})}],["__scopeId","data-v-53dfffb9"]]);export{_ as default};
