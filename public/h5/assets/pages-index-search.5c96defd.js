import{_ as t,x as a,p as s,o as e,c as l,w as c,i as o,f as n,h as u,t as i,n as r,b as d,d as p,F as h,g,r as y,j as m,J as f}from"./index-eb2f9fef.js";const _=t({name:"search",data:()=>({title:"搜索聊天",keywords:"",allContacts:[],contacts:[],groupList:[],type:1}),watch:{keywords(t){this.search()}},onLoad(t){this.type=t.type,2==this.type?this.title="搜索联系人":3==this.type?this.title="搜索群聊":this.title="搜索聊天"},mounted(){this.allContacts=a("allContacts")},methods:{search(){const t=this.$util.searchObject(this.allContacts,["displayName","name_py"],this.keywords),a=[],s=[];t.forEach((t=>{1==t.is_group?s.push(t):a.push(t)})),this.groupList=s,this.contacts=a},openDetails(t){2==this.type&&0==t.is_gourp&&s({url:"/pages/contacts/detail?id="+t.id}),s({url:"/pages/message/chat?id="+t.id})}}},[["render",function(t,a,s,_,k,x){const C=y("cu-custom"),b=m,w=f,v=o,L=y("Empty");return e(),l(v,null,{default:c((()=>[n(C,{bgColor:"bg-gradual-green",isBack:!0},{backText:c((()=>[])),content:c((()=>[u(i(k.title),1)])),_:1}),n(v,{class:"cu-bar bg-white search fixed",style:r([{top:t.CustomBar+"px"}])},{default:c((()=>[n(v,{class:"search-form round"},{default:c((()=>[n(b,{class:"cuIcon-search"}),n(w,{type:"text",modelValue:k.keywords,"onUpdate:modelValue":a[0]||(a[0]=t=>k.keywords=t),placeholder:"输入搜索的关键词","confirm-type":"search"},null,8,["modelValue"])])),_:1})])),_:1},8,["style"]),n(v,{style:{"margin-top":"120rpx"}},{default:c((()=>[k.type<3&&k.contacts.length>0?(e(),l(v,{key:0},{default:c((()=>[n(v,{class:"padding"},{default:c((()=>[u("联系人")])),_:1}),n(v,{class:"cu-list menu-avatar no-padding"},{default:c((()=>[(e(!0),d(h,null,p(k.contacts,((t,a)=>(e(),l(v,{class:"cu-item",key:a,onClick:a=>x.openDetails(t)},{default:c((()=>[n(v,{class:"cu-avatar lg radius mr-15",style:r([{backgroundImage:"url("+t.avatar+")"}])},null,8,["style"]),n(v,{class:"content"},{default:c((()=>[n(v,{class:"text-grey"},{default:c((()=>[u(i(t.displayName),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):g("",!0),k.groupList.length>0?(e(),l(v,{key:1},{default:c((()=>[n(v,{class:"padding"},{default:c((()=>[u("群聊")])),_:1}),n(v,{class:"cu-list menu-avatar no-padding"},{default:c((()=>[(e(!0),d(h,null,p(k.groupList,((t,a)=>(e(),l(v,{class:"cu-item",key:a,onClick:a=>x.openDetails(t)},{default:c((()=>[n(v,{class:"cu-avatar lg radius mr-15",style:r([{backgroundImage:"url("+t.avatar+")"}])},null,8,["style"]),n(v,{class:"content"},{default:c((()=>[n(v,{class:"text-grey"},{default:c((()=>[u(i(t.displayName),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):g("",!0),k.groupList.length||k.contacts.length?g("",!0):(e(),l(v,{key:2},{default:c((()=>[n(L,{noDatatext:"暂无数据",textcolor:"#999"})])),_:1}))])),_:1})])),_:1})}]]);export{_ as default};
