(function(){var e={4539:function(e,t,s){"use strict";s.d(t,{Z:function(){return A}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"chat-main"},[t("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入关键字搜索聊天"},model:{value:e.params.keywords,callback:function(t){e.$set(e.params,"keywords",t)},expression:"params.keywords"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchMessage},slot:"append"})],1),t("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"全部",name:"all"}},[t("div",{staticClass:"el-tab-body-list"},[t("el-scrollbar",[e.dataList.length?e._l(e.dataList,(function(e,s){return t("ChatItem",{key:s,attrs:{data:e}})})):t("div",[t("el-empty",{attrs:{description:"暂无数据"}})],1)],2)],1)]),t("el-tab-pane",{attrs:{label:"文本",name:"text"}},[t("div",{staticClass:"el-tab-body-list"},[e.dataList.length?[t("el-scrollbar",e._l(e.dataList,(function(e,s){return t("ChatItem",{key:s,attrs:{data:e}})})),1)]:t("div",[t("el-empty",{attrs:{description:"暂无数据"}})],1)],2)]),t("el-tab-pane",{attrs:{label:"图片",name:"image"}},[t("div",{staticClass:"el-tab-body-list"},[e.dataList.length?[t("el-scrollbar",[t("el-row",{staticStyle:{}},e._l(e.dataList,(function(s,i){return t("ChatImage",{key:i,attrs:{data:s,previewUrl:e.previewList}})})),1)],1)]:t("div",[t("el-empty",{attrs:{description:"暂无数据"}})],1)],2)]),t("el-tab-pane",{attrs:{label:"视频",name:"video"}},[t("div",{staticClass:"el-tab-body-list"},[e.dataList.length?[t("el-scrollbar",e._l(e.dataList,(function(e,s){return t("ChatItem",{key:s,attrs:{data:e}})})),1)]:t("div",[t("el-empty",{attrs:{description:"暂无数据"}})],1)],2)]),t("el-tab-pane",{attrs:{label:"文件",name:"file"}},[t("div",{staticClass:"el-tab-body-list"},[e.dataList.length?[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dataList,height:"450"}},[t("el-table-column",{attrs:{prop:"fileName",label:"文件",width:"300"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{staticClass:"chat-file"},[t("div",[t("el-image",{staticClass:"fileExt",attrs:{fit:"cover",src:e.fileExt(s.row.fileName)}})],1),t("div",{staticClass:"fileName"},[e._v(e._s(s.row.fileName))])])]}}],null,!1,1885044645)}),t("el-table-column",{attrs:{prop:"sendTime",label:"上传时间",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatTime(t.row.sendTime))+" ")]}}],null,!1,349674723)}),t("el-table-column",{attrs:{prop:"fileSize",label:"大小",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.fileSize(t.row.fileSize))+" ")]}}],null,!1,3523241436)}),t("el-table-column",{attrs:{prop:"fromUser.realname",label:"上传者",width:"100"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.downloadFile(s.row)}}},[e._v("下载")])]}}],null,!1,2401469366)})],1)]:t("div",[t("el-empty",{attrs:{description:"暂无数据"}})],1)],2)])],1),t("el-pagination",{attrs:{background:"","hide-on-single-page":e.singlePage,"page-size":e.params.limit,"current-page":e.params.page,layout:"prev, pager, next",total:e.total},on:{"update:pageSize":function(t){return e.$set(e.params,"limit",t)},"update:page-size":function(t){return e.$set(e.params,"limit",t)},"update:currentPage":function(t){return e.$set(e.params,"page",t)},"update:current-page":function(t){return e.$set(e.params,"page",t)},"current-change":e.handleCurrentChange}})],1)},a=[],n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"chat-list-item"},[t("div",{staticClass:"chat-list-avatar",on:{click:function(t){return e.$user(e.data.fromUser.id)}}},[t("el-avatar",{attrs:{shape:"square",size:"medium",src:e.data.fromUser.avatar}})],1),t("div",{staticClass:"chat-list-body"},[t("div",{staticClass:"chat-list-title"},[e._v(" "+e._s(e.data.fromUser.realname)+" "),t("span",{staticClass:"time"},[e._v(" "+e._s(e.formatTime(e.data.sendTime)))])]),"text"==e.data.type?t("div",{staticClass:"chat-list-text",domProps:{innerHTML:e._s(e.data.content)}}):e._e(),"text"==e.data.type?t("div",{staticClass:"chat-list-tools"},[t("el-tooltip",{attrs:{effect:"dark",content:"复制文本",placement:"top"}},[t("i",{staticClass:"el-icon-document-copy",on:{click:function(t){return e.copyText(e.data.content)}}})])],1):e._e(),"image"==e.data.type?t("div",{staticClass:"chat-list-image"},[t("el-image",{staticStyle:{"max-width":"300px"},attrs:{src:e.data.content,"z-index":3e3,"preview-src-list":[e.data.content],fit:"contain"}})],1):e._e(),"video"==e.data.type?t("div",{staticClass:"chat-list-video"},[t("video",{staticStyle:{"max-width":"300px"},attrs:{src:e.data.content,controls:""}})]):e._e(),"file"==e.data.type?t("div",{staticClass:"chat-list-file"},[t("el-card",{staticStyle:{width:"260px"},attrs:{"body-style":{padding:"10px 10px 0 10px"}}},[t("div",{staticClass:"chat-file-content"},[t("div",{staticClass:"chat-file-ext"},[t("el-image",{staticStyle:{width:"35px"},attrs:{src:e.fileExt(e.data.fileName),fit:"fill"}})],1),t("div",{staticClass:"chat-file-title"},[t("div",{staticClass:"chat-file-name"},[t("span",{staticClass:"fileName"},[e._v(e._s(e.data.fileName)+" ")]),t("span",{staticClass:"fileSize"},[e._v("("+e._s(e.fileSize(e.data.fileSize))+")")])]),t("div",{staticClass:"chat-file-remark"},[e._v(" 文件已成功发送, 文件助手永久保存 ")])])]),t("hr"),t("div",{staticClass:"bottom clearfix",attrs:{align:"right"}},[t("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(t){return e.downloadFile(e.data)}}},[e._v("下载")]),t("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(t){return e.onlinePreview(e.data)}}},[e._v("在线预览")])],1)])],1):e._e()])])},o=[],r=s(2325),l=s(3817),c={name:"chatItem",props:{data:{type:Object,default:{}}},computed:{formatTime(){return function(e){return e=parseInt(e/1e3),(0,r.hT)("Y/m/d H:i:s",e)}},fileSize(){return function(e){return(0,l.hR)(e)}},fileExt(){return function(e){return(0,l.AC)(e)}}},data(){return{}},methods:{copyText(e){this.$clipboard(e),this.$message({type:"success",message:"复制成功!"})},onlinePreview(e){this.$preview(e.preview)},downloadFile(e){(0,l.LR)(e.content,e.fileName)}},created(){}},d=c,u=s(1001),p=(0,u.Z)(d,n,o,!1,null,"294ef229",null),m=p.exports,h=function(){var e=this,t=e._self._c;return t("div",[t("el-col",{staticStyle:{padding:"0 12px 12px 0"},attrs:{span:6}},["image"==e.data.type?t("el-card",{attrs:{"body-style":{padding:"0px"}}},[t("el-image",{staticStyle:{width:"100%",height:"120px"},attrs:{src:e.data.content,"preview-src-list":e.previewUrl,"z-index":9999,fit:"cover"}}),t("div",{staticStyle:{padding:"10px"}},[t("div",{staticClass:"bottom clearfix"},[t("time",{staticClass:"time"},[e._v(e._s(e.data.fromUser.realname)+" 上传于 "+e._s(e.formatTime(e.data.sendTime)))])])])],1):e._e()],1)],1)},g=[],f={name:"chatImage",props:{data:{type:Object,default:{}},previewUrl:{type:Array,default:function(){return[]}}},computed:{formatTime(){return function(e){return e=parseInt(e/1e3),(0,r.hT)("Y/m/d",e)}},fileSize(){return function(e){return(0,l.hR)(e)}},fileExt(){return function(e){return(0,l.AC)(e)}}},data(){return{currentDate:new Date}},methods:{copyText(e){this.$clipboard(e),this.$message({type:"success",message:"复制成功!"})},downloadFile(e){(0,l.LR)(e.content,e.fileName)}},created(){}},v=f,C=(0,u.Z)(v,h,g,!1,null,"94e9276a",null),b=C.exports,y={name:"chatRecord",components:{ChatItem:m,ChatImage:b},props:{contact:{type:Object,default:{}},condition:{type:Object,default:{}}},computed:{formatTime(){return function(e){return e/=1e3,(0,r.hT)("Y/m/d H:i:s",e)}},fileSize(){return function(e){return(0,l.hR)(e)}},fileExt(){return function(e){return(0,l.AC)(e)}}},data(){return{activeName:"all",total:0,singlePage:!1,dataList:[],previewList:[],params:{toContactId:this.contact.id,is_group:this.contact.is_group,type:"all",keywords:"",page:1,limit:20}}},methods:{handleClick(e,t){this.params.page=1,this.params.type=e.name,this.getMessage()},searchMessage(){this.getMessage()},getMessage(){this.$api.imApi.getMessageListAPI(this.params).then((e=>{this.dataList=e.data,this.total=e.count,e.count<=this.params.limit?this.singlePage=!0:this.singlePage=!1,"image"==this.params.type&&(this.previewList=(0,r.Nj)(e.data,"content",!1))})).catch((e=>{console.log(e)}))},handleCurrentChange(e){this.params.page=e,this.getMessage()},downloadFile(e){(0,l.LR)(e.content,e.fileName,e.type)}},created(){this.params=Object.assign(this.params,this.condition),this.getMessage()},mounted(){}},w=y,x=(0,u.Z)(w,i,a,!1,null,"3e801cec",null),A=x.exports},6038:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.title,visible:e.visible,modal:!0,width:e.width,"append-to-body":""},on:{close:e.closeDialog}},[t("el-transfer",{attrs:{filterable:"",titles:e.createChatTitles,"filter-placeholder":"请输入关键词",props:e.contactsProps,data:e.allUser},model:{value:e.selectUid,callback:function(t){e.selectUid=t},expression:"selectUid"}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.comfirmChat}},[e._v("确 定")])],1)],1)},a=[],n={name:"manageGroup",props:{title:{type:String,default:"选择聊天"},visible:{type:Boolean,default:!1},width:{type:String,default:"612px"},allUser:{type:Array,default:()=>[]}},data(){return{createChatTitles:["用户列表","已选用户"],selectUid:[],contactsProps:{key:"id",label:"realname"}}},mounted(){},methods:{closeDialog(){this.$emit("update:visible",!1),this.selectUid=[]},comfirmChat(){0!==this.selectUid.length?this.$emit("selectChat",this.selectUid):this.$message.error("请选择聊天对象")}}},o=n,r=s(1001),l=(0,r.Z)(o,i,a,!1,null,null,null),c=l.exports},4773:function(e,t,s){"use strict";s.d(t,{Z:function(){return p}});var i=function(){var e=this,t=e._self._c;return t("el-container",{staticStyle:{height:"100%"}},[t("el-header",{staticClass:"file-header"},[t("div",{staticClass:"file-header-title"},[e._v("文件列表")]),t("div",{staticClass:"file-header-search"},[t("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入关键字搜索","prefix-icon":"el-icon-search"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getFileList.apply(null,arguments)}},model:{value:e.params.keywords,callback:function(t){e.$set(e.params,"keywords",t)},expression:"params.keywords"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getFileList},slot:"append"})],1)],1)]),t("el-container",[t("el-aside",{staticClass:"lz-flex group-box",attrs:{width:"150px"}},[t("div",{staticClass:"group-box-list"},e._l(e.fileType,(function(s){return t("div",{key:s.id,staticClass:"chat-item",class:e.params.cate==s.id?"active":"",on:{click:function(t){return e.openFolder(s)}}},[e._v(" "+e._s(s.name)+" ")])})),0)]),t("el-main",{staticClass:"lz-flex group-box group-user-box no-padding"},[e.fileList.length?t("div",{staticClass:"group-box-list"},[t("el-scrollbar",[t("div",{staticClass:"file-list"},e._l(e.fileList,(function(s,i){return t("el-tooltip",{key:i,staticClass:"item",attrs:{effect:"dark",placement:"right"}},[t("template",{slot:"content"},[t("p",{staticClass:"mb-5"},[e._v("名称："+e._s(s.name))]),t("p",[e._v("大小："+e._s(e.getFileSize(s.size)))])]),t("div",{staticClass:"file-item",on:{dblclick:function(t){return e.openFile(s.preview)}}},[t("div",{staticClass:"file-img"},[t("el-image",{staticClass:"img",attrs:{fit:"contain",src:s.extUrl}})],1),t("div",{staticClass:"file-name mt-5",attrs:{align:"center"}},[e._v(e._s(s.name))]),t("div",{staticClass:"file-opt"},[t("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.openFile(s.preview)}}},[e._v("查看")]),t("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.downloadFile(s)}}},[e._v("下载")]),t("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return t.stopPropagation(),e.openDialog(s)}}},[e._v("发送")])],1)])],2)})),1)])],1):t("div",{staticClass:"pd-40"},[t("el-empty")],1),e.singlePage?e._e():t("div",{staticClass:"group-box-page",attrs:{align:"center"}},[t("el-pagination",{attrs:{background:"","hide-on-single-page":e.singlePage,"current-page":e.params.page,"page-sizes":[20,50,100,200,300,400,500],"page-size":e.params.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleChange,"current-change":e.getFileList,"update:currentPage":function(t){return e.$set(e.params,"page",t)},"update:current-page":function(t){return e.$set(e.params,"page",t)},"update:pageSize":function(t){return e.$set(e.params,"limit",t)},"update:page-size":function(t){return e.$set(e.params,"limit",t)}}})],1),t("ChooseDialog",{attrs:{visible:e.visible,title:"发送到聊天",allUser:e.$store.state.allContacts},on:{"update:visible":function(t){e.visible=t},selectChat:e.sendChat}})],1)],1)],1)},a=[],n=(s(7658),s(6038)),o=s(3817),r=s(2325),l={components:{ChooseDialog:n.Z},props:{isAll:{type:Number,default:0}},computed:{getFileSize(){return function(e){return o.hR(e)}}},data(){return{params:{page:1,limit:20,keywords:"",cate:0,is_all:this.isAll,role:0},visible:!1,singlePage:!0,total:0,curFile:{},fileType:[{id:0,name:"所有文件",icon:""},{id:1,name:"文档",icon:""},{id:2,name:"图片",icon:""},{id:3,name:"音频",icon:""},{id:4,name:"视频",icon:""},{id:5,name:"其他文件",icon:""}],fileList:[]}},mounted(){this.getFileList()},methods:{changeRole(e){this.params.role=e,this.getFileList()},openFolder(e){this.params.cate=e.id,this.getFileList()},getFileList(){this.$api.imApi.getFileList(this.params).then((e=>{0==e.code&&(this.fileList=e.data,this.total=e.count,this.singlePage=e.count<=this.params.limit,this.params.page=e.page)}))},handleChange(e){this.params.limit=e,this.getFileList()},openFile(e){e?this.$preview(e):this.$message.error("文件不存在")},downloadFile(e){e.download&&(window.location=e.download)},openDialog(e){this.visible=!0,this.curFile=e},sendChat(e){if(e.length>5)return this.$message.error("转发的人数不能超过5人！");let t=this.$store.state.userInfo;this.forwardBox=!1;let s={type:this.curFile.msg_type,content:this.curFile.src,file_name:this.curFile.name,file_size:this.curFile.size,file_id:this.curFile.file_id,fromUser:{id:t.user_id,displayName:t.realname,avatar:t.avatar,account:t.account}};var i=[];e.forEach((e=>{let t=e.toString(),a=JSON.parse(JSON.stringify(s));a.id=r.NW(),a.status="successd",a.sendTime=(new Date).getTime(),a.toContactId=t,a.is_group=0,-1!=t.indexOf("group")&&(a.is_group=1),i.push(this.test(a))})),Promise.all(i).then((e=>{})).catch((e=>{console.log("error",e)})),this.$message.success("发送成功！"),this.visible=!1},fn(e){return new Promise(((t,s)=>{this.$api.imApi.sendMessageAPI(e).then((e=>{0===e.code?t(e):this.$message.error(e.msg)})).catch((e=>{}))}))},async test(e){let t=await this.fn(e);return t}}},c=l,d=s(1001),u=(0,d.Z)(c,i,a,!1,null,"029f4e7e",null),p=u.exports},284:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.title,visible:e.visible,modal:!0,width:e.width,"append-to-body":""},on:{open:e.openDialog,close:e.closeDialog}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isAdd,expression:"isAdd"}],staticClass:"mb-20"},[e._v(" 群聊名称："),t("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入群聊名称"},model:{value:e.groupName,callback:function(t){e.groupName=t},expression:"groupName"}}),e._v(" "),t("span",{staticClass:"ml-10 c-999"},[e._v(" （必填项）")])],1),t("el-transfer",{attrs:{filterable:"",titles:e.createChatTitles,"filter-placeholder":"请输入关键词",props:e.defaultProps,data:e.allUser},model:{value:e.selectUid,callback:function(t){e.selectUid=t},expression:"selectUid"}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.closeDialog}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.manageGroup}},[e._v("确 定")])],1)],1)},a=[],n={name:"manageGroup",props:{title:{type:String,default:"创建群聊"},visible:{type:Boolean,default:!1},userIds:{type:Array,default:()=>[]},isAdd:{type:Number,default:0},width:{type:String,default:"612px"},groupId:{type:String,default:""}},data(){return{createChatTitles:["用户列表","已选用户"],selectUid:[],allUser:[],groupName:"",defaultProps:{key:"user_id",label:"realname",pinyin:"name_py"}}},mounted(){},methods:{openDialog(){let e={};this.userIds.length>0&&(e.user_ids=this.userIds),this.groupId&&2==this.isAdd&&(e.group_id=this.groupId),this.getAllUser(e)},closeDialog(){this.$emit("update:visible",!1),this.selectUid=[]},manageGroup(){switch(this.isAdd){case 0:if(this.selectUid.length<1)return void this.$message.error("请选择要添加的成员");break;case 1:if(this.selectUid.length<2)return void this.$message.error("群聊人数不能少于2人");if(""==this.groupName||this.groupName.length<2||this.groupName.length>20)return void this.$message.error("请输入正确的群聊名称");break;case 2:if(1!=this.selectUid.length)return void this.$message.error("只能选择一位成员！");break}this.$emit("manageGroup",this.selectUid,this.isAdd,this.groupName)},getAllUser(e){this.$api.imApi.getAllUserAPI(e).then((e=>{const t=e.data;this.allUser=t}))}}},o=n,r=s(1001),l=(0,r.Z)(o,i,a,!1,null,null,null),c=l.exports},6066:function(e,t,s){"use strict";var i=s(3032),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},n=[],o=(s(7658),s(4462)),r=s.n(o),l={name:"App",data(){return{msg:"Welcome to Your Vue.js App"}},created(){let e=r().get("UserInfo"),t=r().get("globalConfig");t&&(document.title=t.sysInfo.name,this.$store.commit("setGlobalConfig",t)),e&&this.$store.commit("SET_USERINFO",e),this.$store.dispatch("getSystemInfo").then((e=>{0!=e.data.sysInfo.state||this.$router.push({path:"/404",query:{msg:e.data.sysInfo.closeTips}})}))},watch:{"$store.state.globalConfig"(e){document.title=e.sysInfo.name}}},c=l,d=s(1001),u=(0,d.Z)(c,a,n,!1,null,null,null),p=u.exports,m=s(8499),h=s.n(m),g=function(){var e=this,t=e._self._c;return t("div",{staticClass:"user-card-box"},[t("el-container",{directives:[{name:"outside",rawName:"v-outside",value:e.closeDialog,expression:"closeDialog"}],staticClass:"container"},[t("el-header",{staticClass:"no-padding header",attrs:{height:"180px"}},[t("i",{staticClass:"close el-icon-error cur-handle",on:{click:e.closeDialog}}),t("div",{staticClass:"img-banner"}),t("div",{staticClass:"user-header"},[t("div",{staticClass:"avatar"},[t("div",{staticClass:"avatar-box"},[t("img",{attrs:{src:e.detail.avatar}})])]),t("div",{staticClass:"username"},[t("i",{staticClass:"iconfont icon-qianming"}),t("span",[e._v(e._s(e.detail.realname||"未设置昵称"))])])])]),t("el-main",{staticClass:"no-padding main"},[t("div",{staticClass:"user-sign"},[t("div",{staticClass:"sign-arrow"}),t("i",{staticClass:"iconfont icon-bianji"}),t("span",[e._v(e._s(e.detail.motto||"这家伙有点懒，什么都没留下！")+" ")])]),t("div",{staticClass:"card-rows no-select"},[t("div",{staticClass:"card-row"},[t("div",{staticClass:"label"},[e._v("账号")]),t("div",[e._v(e._s(e.detail.account))])]),t("div",{staticClass:"card-row"},[t("div",{staticClass:"label"},[e._v(e._s(2==e.globalConfig.sysInfo.runMode?"昵称":"姓名"))]),t("div",[e._v(e._s(e.detail.realname))])]),e.detail.friend&&2==e.globalConfig.sysInfo.runMode?t("div",{staticClass:"card-row"},[t("div",{staticClass:"label"},[e._v("备注")]),t("div",[e._v(e._s(e.detail.friend.nickname||"未设置")+" "),t("i",{staticClass:"el-icon-edit ml-10",attrs:{title:"设置备注"},on:{click:e.setNickname}})])]):e._e(),t("div",{staticClass:"card-row"},[t("div",{staticClass:"label"},[e._v("性别")]),t("div",[e._v(e._s(e._f("sex")(e.detail.sex)))])]),t("div",{staticClass:"card-row"},[t("div",{staticClass:"label"},[e._v("邮箱")]),t("div",[e._v(e._s(e.detail.email||"未设置"))])]),parseInt(e.globalConfig.sysInfo.ipregion)&&e.isFriend?t("div",{staticClass:"card-row"},[t("div",{staticClass:"label"},[e._v("IP")]),e.detail.last_login_ip?t("div",[e._v(e._s(e.detail.last_login_ip||"未知")+" （"+e._s(e.detail.location||"未知")+"）")]):t("div",[e._v("未知")])]):e._e()])]),t("el-footer",{staticClass:"footer"},[e.isFriend?t("el-button",{staticStyle:{width:"150px"},attrs:{type:"primary",round:""},on:{click:function(t){return e.openChat()}}},[e._v("发消息")]):e._e(),2!=e.globalConfig.sysInfo.runMode||e.detail.friend||e.user_id==e.userInfo.user_id?e._e():t("el-button",{staticStyle:{width:"150px"},attrs:{type:"primary",round:""},on:{click:function(t){return e.addFriend()}}},[e._v("加好友")]),e.options.isManage?t("el-button",{staticStyle:{width:"150px"},attrs:{round:""},on:{click:e.editUser}},[e._v("编辑资料")]):e._e()],1)],1)],1)},f=[],v=s(3822),C={name:"UserCard",props:{user_id:{type:[Number,String],default:0},options:{type:Object,default:()=>({isManage:!1})}},computed:{...(0,v.rn)({userInfo:e=>e.userInfo,globalConfig:e=>e.globalConfig}),isFriend(){return this.userInfo.user_id!=this.detail.user_id&&(this.detail.friend||1==this.globalConfig.sysInfo.runMode)}},filters:{sex(e){let t=["女","男","未知"];return t[e]||"未知"}},data(){return{detail:{}}},mounted(){this.getUserDetal()},methods:{closeDialog(){this.$emit("close")},getUserDetal(){this.$api.imApi.getUserInfo({user_id:this.user_id}).then((e=>{0==e.code&&(this.detail=e.data)}))},openChat(){this.closeDialog(),this.$store.commit("openChat",this.detail.user_id)},editUser(){this.$emit("editUser",this.detail)},addFriend(){this.closeDialog(),this.$prompt("请填写验证信息，让朋友知道你！","添加好友",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((({value:e})=>{if(!e)return this.$message.error("请输入验证信息"),!1;this.$api.friendApi.addFriend({user_id:this.detail.user_id,remark:e}).then((e=>{0==e.code&&this.$message.success("已发送好友申请")}))})).catch((e=>{this.$message({type:"warning",message:e})}))},setNickname(){let e=this.detail.friend.friend_id??"";if(!this.detail.friend)return this.$message.error("该用户不是您的好友"),!1;this.closeDialog();let t=this.detail.friend.nickname?this.detail.friend.nickname:this.detail.realname;this.$prompt("请填写备注信息","设置备注",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:t}).then((({value:t})=>{if(!t)return this.$message.error("请输入备注信息"),!1;this.$api.friendApi.setNickname({friend_id:e,nickname:t}).then((e=>{0==e.code&&(this.$message.success("设置成功"),this.detail.realname=t)}))})).catch((()=>{}))}}},b=C,y=(0,d.Z)(b,g,f,!1,null,"499318c8",null),w=y.exports,x={install(e){function t(t,s){let i=this;const a=new e({router:i.$router,store:i.$store,render(e){return e(w,{on:{close:()=>{a.$destroy(),document.body.removeChild(a.$el)},editUser:e=>{s.editDataCallbak&&s.editDataCallbak(e),a.$destroy(),document.body.removeChild(a.$el)}},props:{user_id:t,options:s}})}}).$mount();document.body.appendChild(a.$el)}e.prototype.$user=t}},A=function(){var e=this,t=e._self._c;return t("div",[t("transition",{attrs:{name:"fade-user"}},[t("div",{staticClass:"previewBox"},[t("el-button",{staticClass:"drawer-close",attrs:{type:"danger",icon:"el-icon-close",circle:""},on:{click:e.closeDrawer}}),t("iframe",{attrs:{src:e.url,frameborder:"0",width:"100%",height:"100%"}})],1)])],1)},k=[],_={name:"preview",props:{url:{type:String,default:""}},data(){return{}},methods:{closeDrawer(){this.$emit("close")}}},I=_,S=(0,d.Z)(I,A,k,!1,null,"022a2c23",null),U=S.exports,T={install(e){function t(t,s){let i=this;const a=new e({router:i.$router,store:i.$store,render(e){return e(U,{on:{close:()=>{a.$destroy(),document.body.removeChild(a.$el)}},props:{url:t,options:s}})}}).$mount();document.body.appendChild(a.$el)}e.prototype.$preview=t}},M=s(6760),B=s.n(M),E=s(2631),R=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-container"},[t("div",{staticClass:"im-title"},[t("div",{staticClass:"logo"},[t("el-image",{staticStyle:{width:"80px",height:"80px"},attrs:{src:e.$packageData.logo,fit:"cover"}})],1),t("div",{staticClass:"im-content"},[t("div",{staticClass:"im-name"},[t("div",{staticClass:"text f-36"},[e._v(e._s(e.$packageData.name))]),t("div",{staticClass:"version ml-5"},[t("el-tag",{attrs:{size:"mini",type:"primary",effect:"plain"}},[e._v("v"+e._s(e.$packageData.version))])],1)]),t("div",{staticClass:"im-des"},[e._v(e._s(e.$packageData.description))])])]),t("div",{staticClass:"code-url"},[t("div",{staticClass:"ml-15 mb-15"},[e._v(" 前端地址： "),t("a",{attrs:{href:e.$packageData.frontUrl,target:"_blank"}},[t("el-image",{attrs:{src:e.$packageData.frontUrl+"/badge/star.svg?theme=white",alt:"star"}})],1)]),t("div",{staticClass:"ml-15 mb-15"},[e._v(" 后端地址："),t("a",{attrs:{href:e.$packageData.backstageUrl,target:"_blank"}},[t("el-image",{attrs:{src:e.$packageData.backstageUrl+"/badge/star.svg?theme=dark",alt:"star"}})],1)]),t("div",{staticClass:"ml-15 mb-15"},[t("el-button",{attrs:{type:"warning",plain:"",size:"mini",round:""}},[t("a",{attrs:{href:e.$packageData.qqGroupUrl,target:"_blank"}},[e._v("QQ交流群:336921267")])])],1)]),t("el-alert",{staticClass:"mt-15 mb-15",attrs:{"show-icon":"",closable:!1,title:"请仔细阅读一下文档！进群请先Star项目。（webrtc一对一音视频通话需要自己搭建turn服务器，本文底部有搭建链接，通话中稳定但有一定的BUG）。",type:"warning"}}),t("el-alert",{staticClass:"mt-15 mb-15",attrs:{"show-icon":"",closable:!1,title:"该项目服务端和web端都属于全开源项目，仅用于个人学习，任何个人和单位不得对源码进行售卖；捐赠后获得的移动端源码也仅供学习使用，不可对源码进行二次售卖。",type:"error"}}),t("el-tabs",{staticClass:"mb-20",attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"程序介绍"}},[t("div",{staticClass:"tip"},e._l(e.introduce,(function(s,i){return t("p",{staticClass:"mb-5"},[t("i",{class:s.icon}),e._v(" "),t("span",{domProps:{innerHTML:e._s(s.text)}})])})),0)]),t("el-tab-pane",{attrs:{label:"支持功能"}},[t("div",{staticClass:"success"},e._l(e.$packageData.funcList,(function(s){return t("p",{staticClass:"mb-5"},[t("i",{class:s.icon}),e._v(" "),t("span",{domProps:{innerHTML:e._s(s.text)}})])})),0)]),t("el-tab-pane",{attrs:{label:"技术栈"}},[t("div",{staticClass:"info"},e._l(e.techStack,(function(s,i){return t("p",{staticClass:"mb-5"},[t("i",{class:s.icon}),e._v(" "),t("span",{domProps:{innerHTML:e._s(s.text)}})])})),0)])],1),e._m(0),t("div",{staticClass:"demo-btn"},[t("div",{staticClass:"flex-box-center mb-15",on:{click:function(t){return e.showMessageBox()}}},[t("el-badge",{staticClass:"item",attrs:{value:e.unread,max:99,hidden:!e.unread}},[t("el-button",[e._v("窗口模式")])],1)],1),t("div",{staticClass:"mb-15 mr-15",on:{click:function(t){return e.$router.push({path:"/chat"})}}},[t("el-button",[e._v("纯享模式")])],1),t("div",{staticClass:"mb-15 mr-15",on:{click:function(t){return e.$router.push({path:"/manage/index"})}}},[t("el-button",[e._v("管理后台")])],1),t("div",{staticClass:"mb-15 mr-15"},[t("el-tooltip",{attrs:{placement:"right-start",effect:"light"}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("el-image",{staticStyle:{width:"200px"},attrs:{src:"https://emoji.raingad.com/file/h5.png"}})],1),t("el-button",[t("a",{attrs:{href:e.$packageData.mobileUrl,target:"_blank"}},[e._v("H5体验")])])],1)],1),t("div",{staticClass:"mb-15 mr-15"},[t("el-tooltip",{attrs:{placement:"right-start",effect:"light"}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("el-image",{staticStyle:{width:"200px"},attrs:{src:"https://emoji.raingad.com/file/app.png"}})],1),t("el-button",[t("a",{attrs:{href:"https://emoji.raingad.com/file/raingad.apk",target:"_blank"}},[e._v("安卓APP体验")])])],1)],1),t("div",{staticClass:"mb-15"},[t("el-button",{on:{click:e.downApp}},[t("a",{attrs:{target:"_blank"}},[e._v("客户端下载")])])],1)]),t("div",{staticClass:"contact-main"},[e._m(1),e._l(e.allContacts,(function(s){return 0==s.is_group&&s.id<6?t("div",{key:s.id,staticClass:"contact-box"},[t("div",{staticClass:"contact-item"},[t("el-avatar",{attrs:{src:s.avatar}}),t("span",[e._v(e._s(s.realname))]),t("div",[t("el-button",{attrs:{plain:"",size:"mini",round:""},on:{click:function(t){return e.$store.commit("openChat",s.id)}}},[e._v("发消息")])],1)],1)]):e._e()}))],2),t("div",{staticClass:"tip mb-20"},[e._m(2),e._m(3),t("p",{staticClass:"mt-10"},[t("el-image",{staticClass:"mr-40 mb-20",staticStyle:{width:"300px"},attrs:{src:"https://emoji.raingad.com/file/wx.jpg"}}),t("el-image",{staticStyle:{width:"280px"},attrs:{src:"https://emoji.raingad.com/file/zfb.jpg"}})],1),t("p",[e._v("开源不易，如果需要以下功能，捐赠相应金额，作者可提供服务，进群后咨询作者！或者进群后直接扫码支付，联系群主提供支付凭证即可！")]),e._m(4),e._m(5),e._m(6),e._m(7),e._m(8),t("p",[e._v("5. 技术指导服务："),t("b",[t("a",{staticStyle:{color:"#409EFF"},attrs:{href:e.$packageData.qqGroupUrl,target:"_blank"}},[e._v("进群联系作者")])]),e._v(" ，包含远程指导，代码解析，开发思路等，付费之日起一个月内有效。")]),t("p",[e._v("6. 团队安心包："),t("b",[t("a",{staticStyle:{color:"#409EFF"},attrs:{href:e.$packageData.qqGroupUrl,target:"_blank"}},[e._v("进群联系作者")])]),e._v(" ，包含上述前4项服务，根据需求选择，以及安卓APP和H5打包（需要提供Dcloud账号【打包】、服务器、域名、证书等，APP还需要提供应用名称和LOGO）")]),e._m(9)]),e._m(10),t("div",{staticClass:"other-pro"},[t("h2",[e._v("其他项目")]),t("br"),t("div",{staticClass:"mb-15"},[t("el-link",{attrs:{type:"primary",href:"https://gitee.com/raingad/j-preview"}},[e._v("纯JS文件预览插件")])],1)]),t("div",{staticClass:"other-pro"},[t("h2",[e._v("其他资料")]),t("br"),t("div",{staticClass:"mb-15"},[t("el-link",{attrs:{type:"primary",href:"https://lemon.raingad.com"}},[e._v("Lemon-IMUI使用文档")])],1),t("div",{staticClass:"mb-15"},[t("el-link",{attrs:{type:"primary",href:"https://www.npmjs.com/package/chatarea"}},[e._v("聊天输入框插件【chatarea】")])],1),t("div",{staticClass:"mb-15"},[t("el-link",{attrs:{type:"primary",href:"https://blog.csdn.net/ruiye99/article/details/130992960"}},[e._v("WebRTC 网络中继 Coturn 服务安装及部署")])],1)]),t("Message",{ref:"Message",attrs:{dialogTableVisible:e.dialogTableVisible},on:{"update:dialogTableVisible":function(t){e.dialogTableVisible=t},"update:dialog-table-visible":function(t){e.dialogTableVisible=t}}})],1)},N=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"mb-15"},[t("b",{staticStyle:{"font-size":"20px"}},[e._v("体验")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"title"},[t("b",{staticStyle:{"font-size":"20px"}},[e._v("联系人")]),e._v("（仅展示部分用于演示）")])},function(){var e=this,t=e._self._c;return t("h3",{staticClass:"mb-5"},[t("b",[e._v("服务介绍")])])},function(){var e=this,t=e._self._c;return t("p",[e._v(" 详细的使用方法在源码中基本上都有备注，如果您觉得这个项目对您有帮助，欢迎star，如果有问题可以加QQ群交流，如果您有更好的建议，欢迎提出。 "),t("b",[e._v("如果觉得项目不错，不如请作者喝杯奶茶吧~")])])},function(){var e=this,t=e._self._c;return t("p",{staticClass:"m-5"},[t("b",[e._v("（作者8年phper，前端水平一般，不接外包。但是有开发团队资源，功能和价格合适可接！）")])])},function(){var e=this,t=e._self._c;return t("p",[e._v("1. 服务端协助部署："),t("b",[e._v("200元/次")]),e._v("（仅提供服务端远程 [todesk] 技术指导，需要提供纯净的centOS服务器一台）")])},function(){var e=this,t=e._self._c;return t("p",[e._v("2. uniapp移动端源码："),t("b",{staticStyle:{"text-decoration":"line-through"}},[e._v("原价600元/套")]),t("b",{staticClass:"c-red"},[e._v(" 限时优惠价488元/套。")]),e._v("(源码无加密，仅提供源码，"),t("b",[e._v("不提供专业指导和部署 ")]),e._v(")")])},function(){var e=this,t=e._self._c;return t("p",[e._v("3. 桌面端源码："),t("b",{staticStyle:{"text-decoration":"line-through"}},[e._v("原价600元/套")]),t("b",{staticClass:"c-red"},[e._v(" 限时优惠价488元/套。")]),e._v("（使用vue+electron前端技术打包，和web端功能一样，支持后台运行和消息通知。赠送打包一次，单次打包200元/次）")])},function(){var e=this,t=e._self._c;return t("p",[e._v("4. webRTC中继服务器："),t("b",[e._v("200元/次")]),e._v("（原则上参考底部的教程链接来自行安装，确需服务，也可联系作者协助）")])},function(){var e=this,t=e._self._c;return t("p",[e._v("7、其他未列出的服务，请进群咨询作者！"),t("b",{staticClass:"c-red"},[e._v(" 进群请先star项目，任何一个都可以，未star不予通过")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"danger mb-20"},[t("h3",{staticClass:"mb-5"},[t("b",[e._v("注意事项")])]),t("p",{staticClass:"m-5"},[e._v(" 1、凡是捐赠达到200元以上即可赠送API文档，包含：接口说明、安装教程、常见问题的解决方法等。"),t("br"),e._v(" 2、源码作者不保证无任何问题，可能存在兼容性问题或者一些小的BUG，需要自行优化升级，望悉知。"),t("br"),e._v(" 3、捐赠获得的源码仅供学习或二次开发使用，不可对源码进行二次售卖。"),t("br"),e._v(" 4、请勿将源码用于违法活动，如有发现，报警处理！"),t("br"),e._v(" 5、价格或服务内容可能会有变动，"),t("b",{staticClass:"c-red"},[e._v("随着功能的增加，价格会上涨")]),e._v("，以咨询作者时给的服务方案为准！ ")])])}],F=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.dialogTableVisible,expression:"dialogTableVisible"}],staticClass:"messageBoxStyle"},[t("el-dialog",{attrs:{visible:e.dialogIsShow,modal:!1,"custom-class":"sideMenu-message","show-close":!1,width:"1000px","close-on-press-escape":!0},on:{"update:visible":function(t){e.dialogIsShow=t},close:e.closeDialog}},[t("rainagdIm",{on:{newChat:e.contactSync,close:e.closeDialog}})],1)],1)},L=[],P=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"chat-box"},[t("lemon-imui",{ref:"IMUI",staticStyle:{"min-height":"600px"},attrs:{user:e.user,width:e.curWidth,height:e.curHeight,contextmenu:e.contextmenu,"contact-contextmenu":e.contactContextmenu,theme:e.setting.theme,"hide-message-name":e.setting.hideMessageName,"hide-message-time":e.setting.hideMessageTime,avatarCricle:e.setting.avatarCricle,sendKey:e.setSendKey,wrapKey:e.wrapKey,latelyContacts:e.latelyContact},on:{"menu-avatar-click":e.openSetting,"change-contact":e.handleChangeContact,"pull-messages":e.handlePullMessages,"message-click":e.handleMessageClick,send:e.handleSend},scopedSlots:e._u([{key:"cover",fn:function(){return[t("div",[t("div",{staticClass:"cover"},[t("i",{staticClass:"lemon-icon-message"}),t("p",[t("b",[e._v(e._s(e.globalConfig.sysInfo.name??""))])])])])]},proxy:!0},{key:"sidebar-message",fn:function(s){return[t("div",{staticClass:"lemon-contact-item",class:1==s.is_top?"bg-gray":""},[t("el-badge",{staticClass:"lemon-badge lemon-contact__avatar",attrs:{value:s.unread,max:99,"is-dot":0==s.is_notice,hidden:s.unread<=0}},[t("span",{staticClass:"lemon-avatar",class:{"lemon-avatar--circle":e.setting.avatarCricle},staticStyle:{width:"40px",height:"40px","line-height":"40px","font-size":"20px"}},[t("img",{attrs:{src:s.avatar}})])]),t("div",{staticClass:"lemon-contact__inner"},[t("p",{staticClass:"lemon-contact__label"},[t("span",{staticClass:"lemon-contact__name"},[s.is_online&&0==s.is_group&&1==e.globalConfig.chatInfo.online?t("OnlineStatus",{attrs:{title:"在线",type:"success"}}):e._e(),e._v(" "+e._s(s.displayName)+" ")],1),t("span",{staticClass:"lemon-contact__time",domProps:{textContent:e._s(e.formatTime(s.lastSendTime))}})]),t("p",{staticClass:"lemon-contact__content lemon-last-content"},[t("span",{staticClass:"lastContent"},[s.is_at>0?t("span",{staticClass:"c-red"},[e._v("[有"+e._s(s.is_at)+"人@我] ")]):e._e(),t("span",{domProps:{innerHTML:e._s(s.lastContent)}})]),0==s.is_notice?t("span",{staticClass:"el-icon-close-notification f-16"}):e._e()])])],1)]}},{key:"message-title",fn:function(s){return[t("div",{staticClass:"message-title-box"},[t("div",[0==e.isEdit?t("span",[1==e.is_group?t("span",{staticClass:"displayName",on:{click:function(t){e.isEdit=!0}}},[e._v(" "+e._s(s.displayName)),t("span",{staticClass:"mr-5"},[e._v("("+e._s(e.groupUserCount)+")")]),s.setting&&1==s.setting.nospeak?t("el-tag",{attrs:{size:"mini",type:"warning"}},[e._v("仅群管理员可发言")]):e._e(),s.setting&&2==s.setting.nospeak?t("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("全员禁言中")]):e._e()],1):e._e(),0==e.is_group?t("span",{staticClass:"displayName"},[e.globalConfig.chatInfo.online?t("OnlineStatus",{attrs:{type:s.is_online?"success":"info",pulse:s.is_online}}):e._e(),e._v(" "+e._s(s.displayName))],1):e._e(),parseInt(e.globalConfig.sysInfo.ipregion)&&s.last_login_ip?t("span",{staticClass:"c-999 f-12 ml-5"},[e.globalConfig.chatInfo.online&&!s.is_online?t("span",[e._v("(离线)")]):e._e(),e._v(e._s(s.last_login_ip)+" "+e._s(s.location))]):e._e()]):e._e(),1==e.isEdit?t("input",{directives:[{name:"model",rawName:"v-model",value:e.displayName,expression:"displayName"}],staticClass:"editInput",domProps:{value:e.displayName},on:{blur:function(t){return e.saveGroupName(s)},input:function(t){t.target.composing||(e.displayName=t.target.value)}}}):e._e()]),t("div",{staticClass:"message-title-tools"},[e.globalConfig.chatInfo.webrtc?[!s.is_group&&parseInt(e.globalConfig.chatInfo.webrtc)?t("i",{staticClass:"el-icon-phone-outline ml-10",attrs:{title:"语音通话"},on:{click:function(t){return e.called(0)}}}):e._e(),!s.is_group&&parseInt(e.globalConfig.chatInfo.webrtc)?t("i",{staticClass:"el-icon-video-camera ml-10",attrs:{title:"视频通话"},on:{click:function(t){return e.called(1)}}}):e._e()]:e._e(),s.is_group?t("i",{staticClass:"iconfont icon-ico ml-10 f-22",attrs:{title:"群二维码"},on:{click:function(t){e.groupQrShow=!0}}}):e._e(),s.is_group?e._e():t("i",{staticClass:"el-icon-more ml-10",attrs:{title:"基本资料"},on:{click:function(t){return e.$user(s.id)}}}),s.is_group&&1==e.currentChat.role?t("i",{staticClass:"el-icon-more ml-10",attrs:{title:"群管理"},on:{click:function(t){return e.openGroupSetting(!1)}}}):e._e()],2)])]}},{key:"sidebar-message-fixedtop",fn:function(s){return[e.wsStatus?e._e():t("div",{staticClass:"lz-flex no-internet pd-10 mb-10 lz-space-between lz-align-items-center"},[t("div",{staticClass:"el-icon-info"}),t("div",[e._v("当前网络无法实时接收消息")]),t("div",{staticClass:"el-icon-refresh cur-handle",attrs:{title:"重新链接"},on:{click:e.reconnect}})]),t("div",{staticClass:"contact-fixedtop-box"},[t("el-input",{staticClass:"input-with-select",attrs:{placeholder:"搜索联系人","prefix-icon":"el-icon-search"},on:{blur:e.closeSearch,focus:function(t){e.searchResult=!0}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),2==e.globalConfig.sysInfo.runMode?t("div",{staticStyle:{"margin-left":"10px"}},[t("el-dropdown",{on:{command:e.handleCommand}},[t("el-button",{attrs:{icon:"el-icon-plus",circle:""}}),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"addFriend"}},[e._v("添加朋友")]),e.globalConfig.chatInfo.groupChat?t("el-dropdown-item",{attrs:{command:"addGroup"}},[e._v("创建群聊")]):e._e()],1)],1)],1):e._e(),1==e.globalConfig.sysInfo.runMode&&e.globalConfig.chatInfo.groupChat?t("div",{staticStyle:{"margin-left":"10px"}},[t("el-button",{attrs:{title:"创建群聊",icon:"el-icon-plus",circle:""},on:{click:e.openCreateGroup}})],1):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.searchResult,expression:"searchResult"}],staticClass:"search-list"},[e._l(e.searchList,(function(i,a){return e.searchList.length>0?t("div",{key:a,staticClass:"search-list-item"},[t("lemon-contact",{attrs:{contact:i},on:{click:function(t){return e.openChat(i.id,s)}}})],1):e._e()})),0==e.searchList.length?t("div",{staticStyle:{margin:"20px"},attrs:{align:"center"}},[e._v(" 暂无 ")]):e._e()],2)],1),t("im-tab",{attrs:{values:e.tabList,height:40},on:{change:e.changeTab}})]}},{key:"sidebar-message-top",fn:function(s){return[e.chatTopList.length>0?t("div",{staticClass:"chat-top-list"},e._l(e.chatTopList,(function(i,a){return t("ChatTop",{key:a,attrs:{contact:i,avatarCricle:e.setting.avatarCricle,currentId:e.currentChat.id},nativeOn:{click:function(t){return e.openChat(i.id,s)}}})})),1):e._e()]}},{key:"sidebar-contact-fixedtop",fn:function(s){return[t("div",{staticStyle:{margin:"15px 10px"}},[e._v(" 联系人 ")])]}},{key:"message-side",fn:function(s){return[1==s.is_group?t("div",{staticClass:"slot-group-list lemon-wrapper",class:"blue"==e.setting.theme?"lemon-wrapper--theme-blue":""},[t("div",{staticClass:"group-side-box lemon-container"},[t("div",{staticClass:"group-notice"},[t("div",{staticClass:"group-side-title"},[t("h4",[e._v("群公告")]),t("div",[s.role<3||0==s.setting.manage?t("span",{staticClass:"el-icon-edit f-18 cur-handle",on:{click:function(t){e.noticeBox=!0}}}):e._e()])]),t("hr"),s.notice?t("div",{staticClass:"group-side-body",on:{click:e.openNotice}},[e._v(" "+e._s(s.notice)+" ")]):e._e(),s.notice?e._e():t("div",{staticClass:"group-side-body"},[e._v(" 暂无公告 ")])]),t("div",{staticClass:"group-user"},[t("div",{staticClass:"group-side-title"},[t("h4",[e._v("群成员")]),t("div",[s.role<3||1==s.setting.invite?t("span",{staticClass:"el-icon-circle-plus-outline f-18 cur-handle",on:{click:e.openAddGroupUser}}):e._e()])]),t("hr"),t("div",{staticClass:"group-user-body",style:[{height:"calc("+e.curHeight+" - 230px)",background:"blue"==e.setting.theme?"#ffffff":"#f4f4f4"}],attrs:{id:"group-user"}},[t("el-scrollbar",{staticStyle:{height:"100%"}},e._l(e.groupUser,(function(s,i){return t("lemon-contact",{directives:[{name:"lemon-contextmenu",rawName:"v-lemon-contextmenu.contact",value:e.groupMenu,expression:"groupMenu",modifiers:{contact:!0}}],key:i,staticClass:"user-list",attrs:{contact:s}},[t("div",{staticClass:"user-avatar"},[t("el-avatar",{attrs:{size:20,src:s.userInfo.avatar}})],1),t("div",{staticClass:"user-name"},[s.userInfo.id==e.user.id?t("span",{staticClass:"fc-danger"},[e._v(e._s(s.userInfo.displayName)+"（我）")]):e._e(),s.userInfo.id!=e.user.id?t("span",[e._v(e._s(s.userInfo.displayName))]):e._e()]),t("div",{staticClass:"user-role"},[1==s.role?t("el-tag",{attrs:{type:"danger",size:"mini"}},[e._v("群主")]):e._e(),2==s.role?t("el-tag",{attrs:{type:"warning",size:"mini"}},[e._v("管理员")]):e._e()],1)])})),1)],1)])])]):e._e()]}},{key:"message-after",fn:function(s){return[s.fromUser.id==e.user.id&&0==s.is_group?t("span",{staticStyle:{visibility:"visible"}},[s.is_read||"succeed"!=s.status?e._e():t("span",[e._v(" 未读 ")]),s.is_read&&"succeed"==s.status?t("span",{staticClass:"fc-success"},[e._v(" 已读 ")]):e._e()]):e._e()]}},{key:"editor-footer",fn:function(){return[t("div",{staticClass:"lz-flex lz-space-between lz-align-items-center"},[e.currentChat.is_at?t("div",{staticClass:"at-item cur-handle mr-10",on:{click:function(t){return e.openMsgBox()}}},[e._v("有"+e._s(e.currentChat.is_at)+"人提到你")]):e._e(),e.quote?t("div",{staticClass:"message-quote cur-handle mr-10 lz-flex lz-space-between lz-align-items-center"},[t("div",{staticClass:"text-overflow"},[e._v(e._s(e.quote.content))]),t("div",{staticClass:"el-icon-close",on:{click:function(t){return e.closeQuote()}}})]):e._e(),t("div"),t("div",[e._v(e._s(1==e.setting.sendKey?"使用 Ctrl + Enter 换行":"使用 Ctrl + Enter 发送消息"))])])]},proxy:!0}])})],1),t("Group",{attrs:{visible:e.createChatBox,title:e.dialogTitle,isAdd:e.isAdd,userIds:e.userIds,groupId:e.group_id},on:{"update:visible":function(t){e.createChatBox=t},manageGroup:e.manageGroup}}),t("el-dialog",{attrs:{title:"发布公告",visible:e.noticeBox,modal:!0,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.noticeBox=t}}},[t("el-input",{attrs:{type:"textarea",rows:10,placeholder:"请输入内容"},model:{value:e.notice,callback:function(t){e.notice=t},expression:"notice"}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.noticeBox=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.publishNotice}},[e._v("确 定")])],1)],1),t("addFriend",{attrs:{visible:e.addFriendBox},on:{"update:visible":function(t){e.addFriendBox=t}}}),t("ChooseDialog",{attrs:{visible:e.forwardBox,title:"转发聊天",allUser:e.allUser},on:{"update:visible":function(t){e.forwardBox=t},selectChat:e.forwardUser}}),t("el-dialog",{attrs:{title:"消息管理器",visible:e.messageBox,modal:!0,width:"800px","append-to-body":""},on:{"update:visible":function(t){e.messageBox=t}}},[t("ChatRecord",{key:e.componentKey,attrs:{contact:e.currentChat,condition:e.ChatRecordMap}})],1),t("el-dialog",{attrs:{title:"群设置",visible:e.groupSetting,modal:!0,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.groupSetting=t}}},[t("ChatSet",{key:e.componentKey,attrs:{contact:e.contactSetting},on:{changeOwner:e.changeOwner}})],1),t("el-dialog",{attrs:{title:"语音录制","custom-class":"no-padding",visible:e.VoiceStatus,modal:!0,width:"500px","append-to-body":"","destroy-on-close":""},on:{"update:visible":function(t){e.VoiceStatus=t}}},[t("voice-recorder",{on:{send:e.sendVoice}})],1),t("group-qr",{attrs:{contact:e.currentChat,visible:e.groupQrShow},on:{"update:visible":function(t){e.groupQrShow=t}}}),t("Socket",{ref:"socket"}),t("webrtc",{key:e.componentKey,ref:"webrtc",attrs:{contact:e.currentChat,config:e.webrtcConfig,alias:e.$packageData.name,userInfo:e.user},on:{message:e.rtcMsg}})],1)},D=[],j=(s(2801),s(3408),s(4590),[{label:"表情",children:[{name:"1f600",title:"微笑",src:"https://emoji.raingad.com/72x72/1f600.png"},{name:"1f62c",title:"微笑",src:"https://emoji.raingad.com/72x72/1f62c.png"},{name:"1f601",title:"微笑",src:"https://emoji.raingad.com/72x72/1f601.png"},{name:"1f602",title:"微笑",src:"https://emoji.raingad.com/72x72/1f602.png"},{name:"1f923",title:"微笑",src:"https://emoji.raingad.com/72x72/1f923.png"},{name:"1f973",title:"微笑",src:"https://emoji.raingad.com/72x72/1f973.png"},{name:"1f603",title:"微笑",src:"https://emoji.raingad.com/72x72/1f603.png"},{name:"1f604",title:"微笑",src:"https://emoji.raingad.com/72x72/1f604.png"},{name:"1f605",title:"微笑",src:"https://emoji.raingad.com/72x72/1f605.png"},{name:"1f606",title:"微笑",src:"https://emoji.raingad.com/72x72/1f606.png"},{name:"1f607",title:"微笑",src:"https://emoji.raingad.com/72x72/1f607.png"},{name:"1f609",title:"微笑",src:"https://emoji.raingad.com/72x72/1f609.png"},{name:"1f60a",title:"微笑",src:"https://emoji.raingad.com/72x72/1f60a.png"},{name:"1f642",title:"微笑",src:"https://emoji.raingad.com/72x72/1f642.png"},{name:"1f643",title:"微笑",src:"https://emoji.raingad.com/72x72/1f643.png"},{name:"1263a",title:"微笑",src:"https://emoji.raingad.com/72x72/263a.png"},{name:"1f60b",title:"微笑",src:"https://emoji.raingad.com/72x72/1f60b.png"},{name:"1f60c",title:"微笑",src:"https://emoji.raingad.com/72x72/1f60c.png"},{name:"1f60d",title:"微笑",src:"https://emoji.raingad.com/72x72/1f60d.png"},{name:"1f970",title:"微笑",src:"https://emoji.raingad.com/72x72/1f970.png"},{name:"1f618",title:"微笑",src:"https://emoji.raingad.com/72x72/1f618.png"},{name:"1f617",title:"微笑",src:"https://emoji.raingad.com/72x72/1f617.png"},{name:"1f619",title:"微笑",src:"https://emoji.raingad.com/72x72/1f619.png"},{name:"1f61a",title:"微笑",src:"https://emoji.raingad.com/72x72/1f61a.png"},{name:"1f61c",title:"微笑",src:"https://emoji.raingad.com/72x72/1f61c.png"},{name:"1f92a",title:"微笑",src:"https://emoji.raingad.com/72x72/1f92a.png"},{name:"1f928",title:"微笑",src:"https://emoji.raingad.com/72x72/1f928.png"},{name:"1f9d0",title:"微笑",src:"https://emoji.raingad.com/72x72/1f9d0.png"},{name:"1f61d",title:"微笑",src:"https://emoji.raingad.com/72x72/1f61d.png"},{name:"1f61b",title:"微笑",src:"https://emoji.raingad.com/72x72/1f61b.png"},{name:"1f911",title:"微笑",src:"https://emoji.raingad.com/72x72/1f911.png"},{name:"1f913",title:"微笑",src:"https://emoji.raingad.com/72x72/1f913.png"},{name:"1f60e",title:"微笑",src:"https://emoji.raingad.com/72x72/1f60e.png"},{name:"1f929",title:"微笑",src:"https://emoji.raingad.com/72x72/1f929.png"},{name:"1f921",title:"微笑",src:"https://emoji.raingad.com/72x72/1f921.png"},{name:"1f920",title:"微笑",src:"https://emoji.raingad.com/72x72/1f920.png"},{name:"1f917",title:"微笑",src:"https://emoji.raingad.com/72x72/1f917.png"},{name:"1f60f",title:"微笑",src:"https://emoji.raingad.com/72x72/1f60f.png"},{name:"1f636",title:"微笑",src:"https://emoji.raingad.com/72x72/1f636.png"},{name:"1f610",title:"微笑",src:"https://emoji.raingad.com/72x72/1f610.png"},{name:"1f611",title:"微笑",src:"https://emoji.raingad.com/72x72/1f611.png"},{name:"1f612",title:"微笑",src:"https://emoji.raingad.com/72x72/1f612.png"},{name:"1f644",title:"微笑",src:"https://emoji.raingad.com/72x72/1f644.png"},{name:"1f914",title:"微笑",src:"https://emoji.raingad.com/72x72/1f914.png"},{name:"1f925",title:"微笑",src:"https://emoji.raingad.com/72x72/1f925.png"},{name:"1f92d",title:"微笑",src:"https://emoji.raingad.com/72x72/1f92d.png"},{name:"1f92b",title:"微笑",src:"https://emoji.raingad.com/72x72/1f92b.png"},{name:"1f92c",title:"微笑",src:"https://emoji.raingad.com/72x72/1f92c.png"},{name:"1f92f",title:"微笑",src:"https://emoji.raingad.com/72x72/1f92f.png"},{name:"1f633",title:"微笑",src:"https://emoji.raingad.com/72x72/1f633.png"},{name:"1f61e",title:"微笑",src:"https://emoji.raingad.com/72x72/1f61e.png"},{name:"1f61f",title:"微笑",src:"https://emoji.raingad.com/72x72/1f61f.png"},{name:"1f620",title:"微笑",src:"https://emoji.raingad.com/72x72/1f620.png"},{name:"1f621",title:"微笑",src:"https://emoji.raingad.com/72x72/1f621.png"}]},{label:"收藏",children:[{name:"1f62c",title:"微笑",src:"https://emoji.raingad.com/72x72/1f62c.png"},{name:"1f621",title:"微笑",src:"https://emoji.raingad.com/72x72/1f621.png"}]}]),Q=s(2325),z=function(){var e=this;e._self._c;return e._m(0)},V=[function(){var e=this,t=e._self._c;return t("div",[t("audio",{attrs:{id:"chatAudio"}},[t("source",{attrs:{src:s(1315),type:"audio/ogg"}}),t("source",{attrs:{src:s(444),type:"audio/mpeg"}}),t("source",{attrs:{src:s(8611),type:"audio/wav"}})])])}],G={name:"socket",data(){return{is_open_socket:!1,websocket:null,pingInterval:30,connectNum:1,manMade:!0,timeout:3e4,heartbeatInterval:null,reconnectTimeOut:null}},methods:{getWsUrl(){let e={NODE_ENV:"production",BASE_URL:""}.VUE_APP_BASE_API,t=window.location.protocol,s="ws://";e=window.location.host,"https:"==t&&(s="wss://");const i=s+e+"/wss";return i},initWebSocket(){const e=this.getWsUrl();this.websocket=new WebSocket(e),this.start(),this.is_open_socket=!0,this.websocket.onmessage=this.websocketOnMessage,this.websocket.onclose=this.websocketClose,i["default"].prototype.$websocket=this.websocket,this.$store.state.wsStatus=!0},websocketOnMessage(e){const t=JSON.parse(e.data);let s=r().get("UserInfo"),i=r().get("authToken");switch(t["type"]){case"ping":this.websocketSend({type:"pong"});break;case"init":r().set("client_id",t["client_id"]),this.$api.commonApi.bindClientIdAPI({client_id:t["client_id"],user_id:s.user_id}).then((e=>{this.websocketSend({type:"bindUid",user_id:s.user_id,token:i}),console.log(t["client_id"],"消息服务启动成功")})).catch((e=>{console.log("连接失败")}));break;default:this.$store.commit("catchSocketAction",t);break}},websocketClose(e){if(console.log("websocket连接关闭"),this.is_open_socket=!1,clearInterval(this.heartbeatInterval),clearInterval(this.reconnectTimeOut),this.connectNum<3)return this.manMade=!1,this.reconnect(),void(this.connectNum+=1);this.$store.state.wsStatus=!1,this.connectNum=1,this.websocket=null;let t=r().get("UserInfo");this.$api.commonApi.offlineAPI({user_id:t.user_id}).then((t=>{console.log("connection closed ("+e.code+")")}))},start(){this.heartbeatInterval=setInterval((()=>{this.websocketSend({type:"ping"})}),this.timeout)},websocketSend(e){var t=JSON.stringify(e);this.checkStatus&&this.websocket.send(t)},checkStatus(){return!(!this.websocket||[2,3].includes(this.websocket.readyState))||(console.log("未链接！"),!1)},close(){this.is_open_socket&&this.websocket.close()},reconnect(){console.log("正在重连..."),clearInterval(this.heartbeatInterval),this.is_open_socket||0!=this.manMade||(console.log("5秒后重新连接..."),this.reconnectTimeOut=setInterval((()=>{this.initWebSocket()}),5e3))},playAudio(){const e=document.getElementById("chatAudio");e.currentTime=0,e.play()}},created(){this.initWebSocket()}},J=G,O=(0,d.Z)(J,z,V,!1,null,null,null),$=O.exports,q=s(4539),Y=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"group-item"},[t("div",{staticClass:"group-avatar"},[t("el-avatar",{attrs:{shape:"square",src:e.contact.avatar}})],1),t("div",{staticClass:"group-content"},[t("div",{staticClass:"group-title"},[e._v(e._s(e.contact.displayName)+" "),t("span",[e._v("("+e._s(e.groupInfo.groupUserCount)+")")])]),t("div",{staticClass:"group-user"},[e._v("群主："+e._s(e.groupInfo.ownerName))])])]),t("div",{staticClass:"setting-item"},[t("div",{staticClass:"setting-title"},[e._v("群管理：")]),t("div",{staticClass:"setting-option"},[t("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},on:{change:e.groupSetting},model:{value:e.setting.manage,callback:function(t){e.$set(e.setting,"manage",t)},expression:"setting.manage"}})],1),e._m(0)]),t("div",{staticClass:"setting-item"},[t("div",{staticClass:"setting-title"},[e._v("群成员邀请：")]),t("div",{staticClass:"setting-option"},[t("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},on:{change:e.groupSetting},model:{value:e.setting.invite,callback:function(t){e.$set(e.setting,"invite",t)},expression:"setting.invite"}})],1),e._m(1)]),t("div",{staticClass:"setting-item"},[t("div",{staticClass:"setting-title"},[e._v("群成员隐私：")]),t("div",{staticClass:"setting-option"},[t("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},on:{change:e.groupSetting},model:{value:e.setting.profile,callback:function(t){e.$set(e.setting,"profile",t)},expression:"setting.profile"}})],1),e._m(2)]),t("div",{staticClass:"setting-item"},[t("div",{staticClass:"setting-title"},[e._v("群禁言：")]),t("div",{staticClass:"setting-option"},[t("el-radio-group",{attrs:{size:"mini"},on:{change:e.groupSetting},model:{value:e.setting.nospeak,callback:function(t){e.$set(e.setting,"nospeak",t)},expression:"setting.nospeak"}},[t("el-radio-button",{attrs:{label:"0"}},[e._v("关闭")]),t("el-radio-button",{attrs:{label:"1"}},[e._v("仅管理员可发言")]),t("el-radio-button",{attrs:{label:"2"}},[e._v("仅群主可发言")])],1)],1)]),t("div",{staticClass:"setting-item"},[t("div",{staticClass:"setting-title"},[e._v("其他操作：")]),t("div",{staticClass:"setting-option"},[t("el-button",{attrs:{size:"mini"},on:{click:e.changeOwner}},[e._v("转让群主")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:e.clearMessage}},[e._v("清空聊天记录")])],1)])])},Z=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"setting-description"},[t("div",{staticClass:"des-title"},[e._v("仅群主和群管理员可以管理")]),t("div",{staticClass:"des-comment"},[e._v("启用后，其他成员不能修改群名称，编辑公告等")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"setting-description"},[t("div",{staticClass:"des-title"},[e._v("允许群成员邀请")]),t("div",{staticClass:"des-comment"},[e._v("启用后，其他成员可以邀请其他人加入群聊")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"setting-description"},[t("div",{staticClass:"des-title"},[e._v("允许添加群成员为好友")]),t("div",{staticClass:"des-comment"},[e._v("启用后，成员可以互相查看资料并添加为好友或发消息")])])}],W={name:"chatSet",props:{contact:{type:Object,default:{}}},data(){return{setting:{},groupInfo:{}}},methods:{groupSetting(){this.$api.imApi.groupSettingAPI({id:this.contact.id,setting:this.setting})},changeOwner(){this.$emit("changeOwner",this.contact.id)},clearMessage(){this.$confirm("确定情况该群组的所有聊天记录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$api.imApi.clearMessageAPI({id:this.contact.id})})).catch((()=>{this.$message({type:"info",message:"已取消"})}))}},created(){this.$api.imApi.getGroupInfoAPI({group_id:this.contact.id}).then((e=>{var t=e.data;this.groupInfo=t,this.setting=t.setting}))}},K=W,H=(0,d.Z)(K,Y,Z,!1,null,"6e02ebab",null),X=H.exports,ee=function(){var e=this,t=e._self._c;return t("div",{staticClass:"chatTop"},[t("el-tooltip",{attrs:{content:e.contact.displayName,placement:"top-start",effect:"light"}},[t("div",{staticClass:"top-item",class:e.currentId==e.contact.id?"active":""},[t("div",{staticClass:"avatar"},[t("el-avatar",{attrs:{shape:e.avatarCricle?"circle":"square",size:"small",src:e.contact.avatar}})],1),t("div",{staticClass:"username"},[e._v(" "+e._s(e.contact.displayName)+" ")])])])],1)},te=[],se={name:"chatTop",props:{contact:{type:Object,default:{}},currentId:[String,Number],avatarCricle:{type:Boolean,default:!1}},data(){return{}},methods:{},created(){}},ie=se,ae=(0,d.Z)(ie,ee,te,!1,null,"069c0360",null),ne=ae.exports,oe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"lum-dialog-mask animated fadeIn"},[t("el-container",{staticClass:"lum-dialog-box"},[t("el-main",{staticClass:"no-padding mian"},[t("div",{staticClass:"music"},[t("span",{staticClass:"line line1",class:{"line-ani":e.animation}}),t("span",{staticClass:"line line2",class:{"line-ani":e.animation}}),t("span",{staticClass:"line line3",class:{"line-ani":e.animation}}),t("span",{staticClass:"line line4",class:{"line-ani":e.animation}}),t("span",{staticClass:"line line5",class:{"line-ani":e.animation}})]),t("div",{staticStyle:{"margin-top":"35px",color:"#676262","font-weight":"300"}},[0==e.recorderStatus?[t("p",{staticStyle:{"font-size":"13px","margin-top":"5px"}},[t("span",[e._v("语音消息，让聊天更简单方便 ...")])])]:1==e.recorderStatus||2==e.recorderStatus||3==e.recorderStatus?[t("p",[e._v(e._s(e.datetime))]),t("p",{staticStyle:{"font-size":"13px","margin-top":"5px"}},[1==e.recorderStatus?t("span",[e._v("正在录音...")]):2==e.recorderStatus?t("span",[e._v("已暂停录音")]):3==e.recorderStatus?t("span",[e._v("录音时长")]):e._e()])]:4==e.recorderStatus||5==e.recorderStatus||6==e.recorderStatus?[t("p",[e._v(e._s(e.formatPlayTime))]),t("p",{staticStyle:{"font-size":"13px","margin-top":"5px"}},[4==e.recorderStatus?t("span",[e._v("正在播放")]):5==e.recorderStatus?t("span",[e._v("已暂停播放")]):6==e.recorderStatus?t("span",[e._v("播放已结束")]):e._e()])]:e._e()],2)]),t("el-footer",{staticClass:"footer",attrs:{height:"60px"}},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.recorderStatus,expression:"recorderStatus == 0"}],attrs:{type:"primary",size:"small",round:"",icon:"el-icon-microphone"},on:{click:e.startRecorder}},[e._v("开始录音 ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.recorderStatus,expression:"recorderStatus == 1"}],attrs:{type:"warning",size:"small",round:"",icon:"el-icon-video-pause"},on:{click:e.pauseRecorder}},[e._v("暂停录音 ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:2==e.recorderStatus,expression:"recorderStatus == 2"}],attrs:{type:"primary",size:"small",round:"",icon:"el-icon-microphone"},on:{click:e.resumeRecorder}},[e._v("继续录音 ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:(2==e.recorderStatus||1==e.recorderStatus)&&e.duration>1,expression:"(recorderStatus == 2 || recorderStatus == 1) && duration>1"}],attrs:{type:"danger",size:"small",round:"",icon:"el-icon-microphone"},on:{click:e.stopRecorder}},[e._v("结束录音 ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:3==e.recorderStatus||6==e.recorderStatus,expression:"recorderStatus == 3 || recorderStatus == 6"}],attrs:{type:"success",size:"small",round:"",icon:"el-icon-video-play"},on:{click:e.playRecorder}},[e._v("播放录音 ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:3==e.recorderStatus||5==e.recorderStatus||6==e.recorderStatus,expression:"\n          recorderStatus == 3 || recorderStatus == 5 || recorderStatus == 6\n        "}],attrs:{type:"warning",size:"small",round:"",icon:"el-icon-refresh-right"},on:{click:e.startRecorder}},[e._v("重新录音 ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:4==e.recorderStatus,expression:"recorderStatus == 4"}],attrs:{type:"info",size:"small",round:"",icon:"el-icon-video-pause"},on:{click:e.pausePlayRecorder}},[e._v("暂停播放 ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:5==e.recorderStatus,expression:"recorderStatus == 5"}],attrs:{type:"success",size:"small",round:"",icon:"el-icon-video-play"},on:{click:e.resumePlayRecorder}},[e._v("继续播放 ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:3==e.recorderStatus||5==e.recorderStatus||6==e.recorderStatus,expression:"\n          recorderStatus == 3 || recorderStatus == 5 || recorderStatus == 6\n        "}],attrs:{type:"primary",size:"small",round:""},on:{click:e.submit}},[e._v("立即发送 ")])],1)],1)],1)},re=[],le=s(7362),ce=s.n(le),de={name:"voiceRecorder",data(){return{recorder:null,duration:0,playTime:0,animation:!1,recorderStatus:0,playTimeout:null}},computed:{datetime(){let e=parseInt(this.duration/60/60%24),t=parseInt(this.duration/60%60),s=parseInt(this.duration%60);return e<10&&(e=`0${e}`),t<10&&(t=`0${t}`),s<10&&(s=`0${s}`),`${e}:${t}:${s}`},formatPlayTime(){let e=parseInt(this.playTime/60/60%24),t=parseInt(this.playTime/60%60),s=parseInt(this.playTime%60);return e<10&&(e=`0${e}`),t<10&&(t=`0${t}`),s<10&&(s=`0${s}`),`${e}:${t}:${s}`}},destroyed(){this.recorder&&this.destroyRecorder()},methods:{closeBox(){null!=this.recorder?(1==this.recorderStatus?this.stopRecorder():4==this.recorderStatus&&this.pausePlayRecorder(),this.destroyRecorder((()=>{this.$emit("close",!1)}))):this.$emit("close",!1)},startRecorder(){let e=this;this.recorder=new(ce()),this.recorder.onprocess=t=>{t=parseInt(t),e.duration=t},this.recorder.start().then((()=>{this.recorderStatus=1,this.animation=!0}),(e=>{console.log(`${e.name} : ${e.message}`)}))},pauseRecorder(){this.recorder.pause(),this.recorderStatus=2,this.animation=!1},resumeRecorder(){this.recorderStatus=1,this.recorder.resume(),this.animation=!0},stopRecorder(){this.recorderStatus=3,this.recorder.stop(),this.animation=!1},playRecorder(){this.recorderStatus=4,this.recorder.play(),this.playTimeouts(),this.animation=!0},pausePlayRecorder(){this.recorderStatus=5,this.recorder.pausePlay(),clearInterval(this.playTimeout),this.animation=!1},resumePlayRecorder(){this.recorderStatus=4,this.recorder.resumePlay(),this.playTimeouts(),this.animation=!0},destroyRecorder(e){this.recorder.destroy().then((()=>{this.recorder=null,e&&e()}))},recorderSize(){return this.recorder.fileSize},playTimeouts(){this.playTimeout=setInterval((()=>{let e=parseInt(this.recorder.getPlayTime());this.playTime=e,e==this.duration&&(clearInterval(this.playTimeout),this.animation=!1,this.recorderStatus=6)}),100)},submit(){let e=this.recorder.getWAVBlob(),t=new File([e],"在线录音.wav",{type:e.type,lastModified:Date.now()});this.$emit("send",this.duration,t)}}},ue=de,pe=(0,d.Z)(ue,oe,re,!1,null,"dcd1bb58",null),me=pe.exports,he=s(284),ge=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:"群二维码分享",visible:e.visible,modal:!0,width:"340px","append-to-body":""},on:{close:e.closeDialog}},[t("el-image",{staticStyle:{width:"300px",height:"432px"},attrs:{src:e.image}},[t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline f-20"}),t("p",{staticClass:"ml-10 f-18"},[e._v("二维码生成中...")])])]),t("div",{staticClass:"mt-20",attrs:{align:"center"}},[t("el-button",{on:{click:e.saveBase64Image}},[e._v("保存到电脑")])],1),t("vue-canvas-poster",{staticStyle:{display:"none"},attrs:{widthPixels:1e3,painting:e.painting},on:{success:e.success,fail:e.fail}})],1)},fe=[],ve=s(2484),Ce={components:{VueCanvasPoster:ve.VueCanvasPoster},props:{contact:{type:Object,default:()=>({})},visible:{type:Boolean,default:!1}},data(){return{painting:{width:"500px",height:"720px",background:"#ffffff",views:[]},image:""}},watch:{visible(e){e&&this.getGroupUserInfo()}},methods:{success(e){this.image=e},fail(e){},closeDialog(){this.$emit("update:visible",!1),this.image=""},saveBase64Image(){var e=document.createElement("a");e.href=this.image,e.download=this.contact.displayName+".png",e.click()},getGroupUserInfo(){this.$api.imApi.getGroupInfoAPI({group_id:this.contact.id}).then((e=>{var t=e.data;this.painting.views=[{type:"image",url:t.avatar,css:{top:"40px",left:"200px",borderRadius:"8px",width:"100px",height:"100px"}},{type:"text",text:"群聊："+t.name,css:{top:"160px",left:"50px",width:"400px",maxLines:1,fontSize:"30px",textAlign:"center",color:"#000000",fontWeight:"bloder"}},{type:"qrcode",content:t.qrUrl,css:{top:"240px",left:"70px",color:"#000",width:"360px",height:"360px"}},{type:"text",text:"该二维码7天内（"+t.qrExpire+"前）有效",css:{top:"640px",left:"50px",width:"400px",maxLines:1,fontSize:"20px",textAlign:"center",color:"#999"}}]}))}}},be=Ce,ye=(0,d.Z)(be,ge,fe,!1,null,null,null),we=ye.exports,xe=s(6038),Ae=function(){var e=this,t=e._self._c;return t("el-container",[t("el-header",{staticClass:"slider-aside"},[t("el-tabs",{staticClass:"tab-diy",attrs:{"tab-position":"bottom"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"所有文件",name:"all"}}),t("el-tab-pane",{attrs:{label:"我发送的",name:"send"}}),t("el-tab-pane",{attrs:{label:"我收到的",name:"receive"}})],1)],1),t("el-main",{staticClass:"no-padding"},[t("fileItems",{ref:"fileItem"})],1)],1)},ke=[],_e=s(4773),Ie={name:"files",components:{fileItems:_e.Z},props:{title:{type:String,default:"创建群聊"}},data(){return{selectUid:[],allUser:[],activeName:"all"}},methods:{handleClick(e){"all"==e.name?this.$refs.fileItem.changeRole(0):"send"==e.name?this.$refs.fileItem.changeRole(1):"receive"==e.name&&this.$refs.fileItem.changeRole(2)}}},Se=Ie,Ue=(0,d.Z)(Se,Ae,ke,!1,null,"37188710",null),Te=Ue.exports,Me=function(){var e=this,t=e._self._c;return t("el-tabs",{staticStyle:{height:"100%"},attrs:{"tab-position":"left"}},[t("el-tab-pane",{staticClass:"pd-20",attrs:{label:"账号设置"}},[t("div",{staticClass:"user-center"},[t("div",{staticClass:"user-avatar"},[t("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{multiple:!1,action:e.getUrl,"show-file-list":!1,data:{type:1},headers:e.getToken,"on-success":e.handleAvatarSuccess,"auto-upload":!1,"on-change":e.change,"before-upload":e.before,"http-request":e.request}},[t("el-image",{staticClass:"m-20",staticStyle:{width:"160px","border-radius":"8px",overflow:"hidden"},attrs:{src:e.user.avatar}}),t("el-button",{staticClass:"replace-picture-button mab-30",attrs:{size:"mini"}},[e._v("更换头像")])],1),t("el-dialog",{attrs:{title:"头像剪裁","close-on-click-modal":!1,visible:e.cropperDialogVisible,width:"580px","append-to-body":!0,"show-close":!0},on:{"update:visible":function(t){e.cropperDialogVisible=t},closed:function(t){return e.$refs.upload.clearFiles()}},scopedSlots:e._u([{key:"footer",fn:function(){return[t("el-button",{on:{click:function(t){e.cropperDialogVisible=!1,e.$refs.upload.clearFiles()}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.cropperSave}},[e._v("确 定")])]},proxy:!0}])},[t("Cropper",{key:e.componentsKey,ref:"cropper",attrs:{src:e.cropperImg,compress:e.compress,aspectRatio:e.aspectRatio}})],1),t("div",{staticClass:"mt-20"},[t("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.editInfo(1)}}},[e._v("修改密码")])],1)],1),t("div",{staticClass:"user-info"},[t("el-form",{ref:"userinfo",attrs:{model:e.user,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"登陆账号",prop:"account"}},[e._v(" "+e._s(e.user.account)+" "),t("span",{staticClass:"fc-primary ml-10 cur-handle",on:{click:function(t){return e.editInfo(0)}}},[e._v("修改")])]),1==e.$store.state.globalConfig.sysInfo.runMode?t("el-form-item",{attrs:{label:"姓名"}},[e._v(" "+e._s(e.user.realname)+" ")]):t("el-form-item",{attrs:{label:"昵称"}},[t("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入昵称",maxlength:"20"},model:{value:e.user.realname,callback:function(t){e.$set(e.user,"realname",t)},expression:"user.realname"}})],1),t("el-form-item",{attrs:{label:"e-mail"}},[t("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入邮箱地址",maxlength:"120"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),t("el-form-item",{attrs:{label:"性别"}},[t("el-radio-group",{model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}},[t("el-radio",{attrs:{label:2,border:""}},[e._v("未知")]),t("el-radio",{attrs:{label:1,border:""}},[e._v("男")]),t("el-radio",{attrs:{label:0,border:""}},[e._v("女")])],1)],1),t("el-form-item",{attrs:{label:"个性签名"}},[t("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:3,maxlength:"100","show-word-limit":""},model:{value:e.user.motto,callback:function(t){e.$set(e.user,"motto",t)},expression:"user.motto"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("保存")])],1)],1)],1)]),t("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialog,modal:!0,width:"400px","append-to-body":""},on:{"update:visible":function(t){e.dialog=t}}},[t("el-form",{attrs:{"label-width":"100px"}},[t("el-form-item",{attrs:{label:"当前账号"}},[e._v(" "+e._s(e.user.account)+" ")]),t("el-alert",{staticClass:"mb-20",attrs:{title:"验证账户的真实性，绑定后请使用新账户来重新登录！",type:"warning"}}),e.user.is_auth?t("el-form-item",{attrs:{label:"验证码"}},[t("el-input",{staticStyle:{width:"260px"},attrs:{placeholder:"请输入验证码",maxlength:"6"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}},[t("el-button",{attrs:{slot:"append",loading:e.loading},on:{click:function(t){return e.sendCode(!0)}},slot:"append"},[e._v("发送验证码")])],1)],1):e._e(),!e.editPass||e.globalConfig.sysInfo.regauth&&e.user.is_auth?e._e():t("el-form-item",{attrs:{label:"原密码"}},[t("el-input",{attrs:{"show-password":"",placeholder:"请输入原来的密码"},model:{value:e.originalPassword,callback:function(t){e.originalPassword=t},expression:"originalPassword"}})],1),e.editPass?e._e():t("el-form-item",{attrs:{label:"新账号"}},[t("el-input",{attrs:{placeholder:"请输入新的账号"},model:{value:e.account,callback:function(t){e.account=t},expression:"account"}})],1),e.editPass?e._e():t("el-form-item",{attrs:{label:"新账号验证码"}},[t("el-input",{staticStyle:{width:"260px"},attrs:{placeholder:"请输入新账号验证码",maxlength:"6"},model:{value:e.newCode,callback:function(t){e.newCode=t},expression:"newCode"}},[t("el-button",{attrs:{slot:"append",loading:e.loading},on:{click:function(t){return e.sendCode(!1)}},slot:"append"},[e._v("发送验证码")])],1)],1),e.editPass?t("el-form-item",{attrs:{label:"新密码"}},[t("el-input",{attrs:{"show-password":"",placeholder:"请输入密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1):e._e(),e.editPass?t("el-form-item",{attrs:{label:"重复密码"}},[t("el-input",{attrs:{"show-password":"",placeholder:"请输入重复输入密码"},model:{value:e.repass,callback:function(t){e.repass=t},expression:"repass"}})],1):e._e(),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editPassword()}}},[e._v("保存")])],1)],1)],1),t("div",{staticClass:"mt-40",attrs:{align:"center"}},[t("el-button",{staticStyle:{width:"150px"},attrs:{type:"danger",plain:"",round:""},on:{click:e.logout}},[e._v("退出登录")])],1)],1),t("el-tab-pane",{staticClass:"pd-20",attrs:{label:"通用设置"}},[t("el-form",{ref:"form",attrs:{model:e.setting,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"发送消息："}},[t("el-radio-group",{model:{value:e.setting.sendKey,callback:function(t){e.$set(e.setting,"sendKey",t)},expression:"setting.sendKey"}},[t("el-radio-button",{attrs:{label:"1"}},[e._v("Enter")]),t("el-radio-button",{attrs:{label:"2"}},[e._v("Ctrl + Enter")])],1)],1),t("el-form-item",{attrs:{label:"系统主题："}},[t("el-radio-group",{model:{value:e.setting.theme,callback:function(t){e.$set(e.setting,"theme",t)},expression:"setting.theme"}},[t("el-radio-button",{attrs:{label:"default"}}),t("el-radio-button",{attrs:{label:"blue"}})],1)],1)],1),t("div",{staticClass:"setting-switch"},[t("el-switch",{model:{value:e.setting.isVoice,callback:function(t){e.$set(e.setting,"isVoice",t)},expression:"setting.isVoice"}}),e._v(" 开启新消息声音提醒 ")],1),t("div",{staticClass:"setting-switch"},[t("el-switch",{model:{value:e.setting.avatarCricle,callback:function(t){e.$set(e.setting,"avatarCricle",t)},expression:"setting.avatarCricle"}}),e._v(" 开启聊天圆形头像（需要刷新） ")],1),t("div",{staticClass:"setting-switch"},[t("el-switch",{model:{value:e.setting.hideMessageName,callback:function(t){e.$set(e.setting,"hideMessageName",t)},expression:"setting.hideMessageName"}}),e._v(" 是否隐藏聊天窗口内的联系人名字 ")],1),t("div",{staticClass:"setting-switch"},[t("el-switch",{model:{value:e.setting.hideMessageTime,callback:function(t){e.$set(e.setting,"hideMessageTime",t)},expression:"setting.hideMessageTime"}}),e._v(" 是否隐藏聊天窗口内的消息发送时间 ")],1)],1),1==parseInt(e.globalConfig.demon_mode)?t("el-tab-pane",{staticClass:"pd-20",attrs:{label:"关于 IM"}},[t("div",{staticClass:"about-logo"},[t("el-avatar",{attrs:{src:e.$packageData.logo,size:50}}),t("br"),t("br"),t("p",[t("span",{staticClass:"fc-primary"},[e._v(" "+e._s(e.$packageData.name)+" ")]),e._v("for "+e._s(e.$packageData.version)+" ")])],1),t("div",{staticClass:"setting-version"},[t("b",[e._v(" 已经支持功能：")]),e._l(e.$packageData.funcList,(function(s){return t("p",{key:s.icon},[t("i",{class:s.icon}),e._v(" "+e._s(s.text))])}))],2)]):e._e(),1==parseInt(e.globalConfig.demon_mode)?t("el-tab-pane",{staticClass:"pd-20",attrs:{label:"开源"}},[t("div",{staticClass:"about-logo"},[t("el-avatar",{attrs:{src:e.$packageData.logo,size:50}}),t("br"),t("br"),t("p",[t("span",{staticClass:"fc-primary"},[e._v(" "+e._s(e.$packageData.name)+" ")]),e._v("for "+e._s(e.$packageData.version)+" ")])],1),t("div",{staticClass:"setting-version"},[t("p",[e._v(" 前端地址："),t("a",{staticClass:"fc-primary",attrs:{href:e.$packageData.frontUrl,target:"_blank"}},[e._v("[链接] im-chat-front")])]),t("p",[e._v(" 后端地址："),t("a",{staticClass:"fc-primary",attrs:{href:e.$packageData.backstageUrl,target:"_blank"}},[e._v("[链接] im-instant-chat")])])]),t("div",{staticClass:"setting-version",staticStyle:{color:"#a6a6a6"}},[t("p",[e._v("前端技术栈：vue+Lemon-IMUI+element-UI")]),t("p",[e._v("后端技术栈：thinkphp6+workerman")])]),t("div",{staticClass:"setting-version"},[t("p",[e._v(" QQ交流群： "),t("a",{staticClass:"fc-primary",attrs:{href:e.$packageData.qqGroupUrl,target:"_blank"}},[e._v("336921267")])])])]):e._e()],1)},Be=[],Ee=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sc-cropper"},[t("div",{staticClass:"sc-cropper__img"},[t("img",{ref:"img",attrs:{src:e.src}})]),t("div",{staticClass:"sc-cropper__preview"},[t("h4",[e._v("图像预览")]),t("div",{ref:"preview",staticClass:"sc-cropper__preview__img"})])])},Re=[],Ne=s(255),Fe=s.n(Ne),Le={props:{src:{type:String,default:""},compress:{type:Number,default:1},aspectRatio:{type:Number,default:NaN}},data(){return{crop:null}},watch:{aspectRatio(e){this.crop.setAspectRatio(e)}},mounted(){this.init()},methods:{init(){this.crop=new(Fe())(this.$refs.img,{viewMode:2,dragMode:"move",responsive:!1,aspectRatio:this.aspectRatio,preview:this.$refs.preview})},setAspectRatio(e){this.crop.setAspectRatio(e)},getCropData(e,t="image/jpeg"){e(this.crop.getCroppedCanvas().toDataURL(t,this.compress))},getCropBlob(e,t="image/jpeg"){this.crop.getCroppedCanvas().toBlob((t=>{e(t)}),t,this.compress)},getCropFile(e,t="fileName.jpg",s="image/jpeg"){this.crop.getCroppedCanvas({width:240,height:240}).toBlob((i=>{let a=new File([i],t,{type:s});e(a)}),s,this.compress)}}},Pe=Le,De=(0,d.Z)(Pe,Ee,Re,!1,null,"5f07d210",null),je=De.exports;r().get("UserInfo");var Qe={name:"manageGroup",props:{},components:{Cropper:je},data(){return{componentsKey:1,maxSize:5,compress:1,aspectRatio:1,cropperDialogVisible:!1,cropper:!0,cropperImg:"",tempImg:"",dialogVisible:!1,dialog:!1,dialogTitle:"修改密码",editPass:1,originalPassword:"",account:"",password:"",repass:"",code:"",newCode:"",loading:!1}},computed:{...(0,v.rn)({setting:e=>e.setting,user:e=>e.userInfo,globalConfig:e=>e.globalConfig}),getUrl(){return window.BASE_URL+"/common/upload/uploadAvatar"},getToken(){const e=r().get("authToken");return{Authorization:e}}},watch:{setting:{handler(e,t){this.$api.imApi.settingAPI(e);let s=r().get("UserInfo");s.setting=e,r().set("UserInfo",s)},deep:!0},editPass(e){this.dialogTitle=1==e?"修改密码":"修改账号"}},methods:{logout(){this.$confirm("确定退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$store.dispatch("LogOut").then((()=>{this.$router.push("/login")}))})).catch((()=>{}))},submitForm(){if(""==this.user.realname)return this.$message.error("请输入昵称"),!1;let e={realname:this.user.realname,email:this.user.email,sex:this.user.sex,motto:this.user.motto};this.$api.imApi.updateUserInfo(e).then((e=>{if(0==e.code){this.$message.success("修改成功");let e=JSON.parse(JSON.stringify(this.user));this.$store.commit("SET_USERINFO",e)}}))},isImg(e){var t="(.jpg|.png|.gif|.jpeg)$",s=new RegExp(t);s.test(e.toLowerCase())?this.fileIsImg=!0:this.fileIsImg=!1},change(e){if(this.cropper&&"ready"==e.status){if(this.isImg(e.name),!this.fileIsImg)return this.$message.error("选择的文件非图像类文件"),!1;this.componentsKey++,this.cropperDialogVisible=!0,this.cropperImg=URL.createObjectURL(e.raw)}},before(e){e=this.cropper?this.cropperUploadFile:e;const t=e.size/1024/1024<this.maxSize;if(!t)return this.$message.warning(`上传文件大小不能超过 ${this.maxSize}MB!`),!1;this.isImg(e.name),this.tempImg=URL.createObjectURL(e)},request(e){const t=this.$loading({lock:!0,text:"Loading"}),s=new FormData;var i=this.cropper?this.cropperUploadFile:e.file;s.append("file",i),s.append("type",1),this.$api.commonApi.uploadAvatar(s).then((s=>{this.cropperImg="",t.close(),this.handleAvatarSuccess(s),e.onSuccess(s)})).catch((s=>{t.close(),e.onError(s)}))},cropperSave(){var e=this.$refs.upload.uploadFiles[0].raw;this.$refs.cropper.getCropFile((e=>{this.cropperUploadFile=e,this.$refs.upload.submit(),this.cropperDialogVisible=!1}),e.name,e.type)},handleAvatarSuccess(e,t){let s=this.$store.state.userInfo;this.$set(s,"avatar",e.data),this.$store.commit("SET_USERINFO",s)},editInfo(e){this.dialog=!0,this.editPass=e},editPassword(){if(""==this.code&&this.user.is_auth)return this.$message({message:"请输入验证码",type:"warning"}),!1;if(this.editPass){if(""==this.password||this.password.length<6||this.password.length>16)return this.$message({message:"请输入6-16个字符串的密码",type:"warning"}),!1;if(this.password!=this.repass)return this.$message({message:"两次密码不一致",type:"warning"}),!1;if(!this.originalPassword)return this.$message({message:"请输入原密码",type:"warning"}),!1;let e={password:this.password,code:this.code,originalPassword:this.originalPassword};this.$api.imApi.editPassword(e).then((e=>{0==e.code&&(this.dialog=!1,this.password="",this.repass="",this.$message({message:e.msg,type:"success"}))}))}else{if(""==this.account)return this.$message({message:"请输入账号",type:"warning"}),!1;if(""==this.newCode)return this.$message({message:"请输入新账户验证码",type:"warning"}),!1;let e={account:this.account,code:this.code,newCode:this.newCode};this.$api.imApi.editAccount(e).then((e=>{0==e.code&&(this.dialog=!1,this.account="",this.code="",this.newCode="",this.$message({message:e.msg,type:"success"}),this.$store.dispatch("LogOut").then((()=>{this.$router.push("/login")})))}))}},sendCode(e){let t=e?this.user.account:this.account,s=this.editPass?3:4;if(""==t)return this.$message({message:"请输入新的账号",type:"warning"}),!1;this.loading=!0,this.$store.dispatch("sendCode",{type:s,account:t}).then((e=>{this.$message.success("发送成功"),this.loading=!1})).catch((()=>{this.loading=!1}))}}},ze=Qe,Ve=(0,d.Z)(ze,Me,Be,!1,null,"0479fba6",null),Ge=Ve.exports,Je=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:"添加好友",visible:e.visible,modal:!0,width:e.width,"append-to-body":""},on:{close:e.closeDialog}},[t("div",{staticClass:"mb-20"},[t("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入账号进行搜索","prefix-icon":"el-icon-search"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleChange.apply(null,arguments)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleChange},slot:"append"})],1)],1),t("div",{staticClass:"dialog-main"},[t("div",{staticClass:"member-list"},e._l(e.list,(function(s){return t("div",{key:s.user_id,staticClass:"member-item",on:{click:function(t){return e.$user(s.user_id)}}},[t("div",{staticClass:"member-avatar"},[t("img",{attrs:{src:s.avatar,alt:"avatar"}})]),t("div",{staticClass:"member-content"},[t("div",{staticClass:"member-header"},[t("span",{staticClass:"member-name"},[e._v(e._s(s.realname))]),t("span",{staticClass:"member-account"},[e._v(e._s(s.account))])]),t("div",{staticClass:"member-actions"},[t("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("查看")])],1)])])})),0),0==e.list.length?t("el-empty"):e._e()],1)])},Oe=[],$e={name:"addFriend",props:{visible:{type:Boolean,default:!1},width:{type:String,default:"612px"}},data(){return{keywords:"",list:[]}},mounted(){},methods:{closeDialog(){this.$emit("update:visible",!1),this.selectUid=[]},handleChange(){this.keywords&&this.$api.imApi.searchUser({keywords:this.keywords}).then((e=>{this.list=e.data}))}}},qe=$e,Ye=(0,d.Z)(qe,Je,Oe,!1,null,"18f3aea4",null),Ze=Ye.exports,We=function(){var e=this,t=e._self._c;return t("span",{staticClass:"sc-state",class:[{"sc-status-processing":e.pulse},"sc-state-bg--"+e.type]})},Ke=[],He={props:{type:{type:String,default:"primary"},pulse:{type:[Boolean,Number],default:!0}}},Xe=He,et=(0,d.Z)(Xe,We,Ke,!1,null,"bf2f9cfc",null),tt=et.exports,st=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tab-main lz-flex lz-justify-content-start lz-align-items-center",style:{height:e.height+"px"}},e._l(e.values,(function(s,i){return t("div",{staticClass:"tab-item",class:e.active==i?"active":"",style:{height:e.itemHeight+"px",borderRadius:e.itemHeight+"px",lineHeight:e.itemHeight+"px"},on:{click:function(t){return e.changeItem(s,i)}}},[e._v(" "+e._s(s.name)+" "),s.count>0?t("span",[e._v(e._s(s.count>99?"99+":s.count))]):e._e()])})),0)},it=[],at={name:"im-tab",components:{},props:{values:{type:Array,default:function(){return[]}},height:{type:Number,default:40}},data(){return{active:0,itemHeight:24}},created:function(){this.itemHeight=this.height-16},methods:{changeItem(e,t){this.active=t,this.$emit("change",e,t)}}},nt=at,ot=(0,d.Z)(nt,st,it,!1,null,"e57a8f0a",null),rt=ot.exports,lt=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"status"}],staticClass:"webrtc-box"},[e._m(0),e._m(1),t("video",{directives:[{name:"show",rawName:"v-show",value:e.localStream&&e.is_video,expression:"localStream && is_video"}],ref:"localvideo",staticClass:"localvideo",attrs:{autoplay:"",playsinline:"",muted:""},domProps:{muted:!0}}),t("video",{directives:[{name:"show",rawName:"v-show",value:e.remoteStream&&e.is_video,expression:"remoteStream && is_video"}],ref:"remotevideo",staticClass:"remotevideo",attrs:{autoplay:"",playsinline:""}}),t("div",[e.caller?t("div",{staticClass:"call-user"},[2==e.status&&e.is_video?e._e():t("img",{staticClass:"avatar",attrs:{src:e.caller.avatar,alt:""}}),t("div",{staticClass:"text"},[e.is_video||2!=e.status?e._e():t("b",[e._v(e._s(e.caller.displayName))]),2!=e.status?t("span",[e.isReceived?t("span",[e._v(" "+e._s(e.caller.displayName)+" 正在请求与您"+e._s(e.is_video?"视频":"语音")+"通话")]):t("span",[e._v("您正对 "),t("b",[e._v(e._s(e.caller.displayName))]),e._v(" 发起"+e._s(e.is_video?"视频":"语音")+"通话")])]):e._e()]),e.callTime&&2==e.status?t("div",{staticClass:"call-time"},[e._v(" "+e._s(e.setCallTime())+" ")]):e._e()]):e._e(),t("div",{staticClass:"calling-button"},[e.caller&&3==e.status?t("div",{staticClass:"button"},[t("img",{staticClass:"image",attrs:{src:s(8516)},on:{click:function(t){return e.answer()}}}),t("div",{staticClass:"text"},[e._v("接听")])]):e._e(),2==e.status?t("div",{staticClass:"button"},[t("img",{staticClass:"image-icon",attrs:{src:e.voiceStatus?e.voiceIcon:e.voiceOffIcon},on:{click:function(t){return e.switchVoice()}}})]):e._e(),e.caller&&0!=e.status?t("div",{staticClass:"button"},[t("img",{staticClass:"image",attrs:{src:s(8421)},on:{click:function(t){return e.hangup(!0)}}}),t("div",{staticClass:"text"},[e._v("挂断")])]):e._e(),2==e.status?t("div",{staticClass:"button"},[e.is_video?t("img",{staticClass:"image-icon",attrs:{src:e.videoStatus?e.videoIcon:e.videoOffIcon},on:{click:function(t){return e.switchVideo()}}}):t("div",{staticClass:"image-icon"})]):e._e()])])])},ct=[function(){var e=this,t=e._self._c;return t("audio",{attrs:{id:"music1"}},[t("source",{attrs:{src:s(7420)}})])},function(){var e=this,t=e._self._c;return t("audio",{attrs:{id:"music2"}},[t("source",{attrs:{src:s(1739)}})])}],dt={name:"webrtc",props:{contact:{type:Object,default:{}},userInfo:{type:Object,default:{}},config:{type:Object,default:{}},alias:{type:String,default:"raingad"}},data(){return{voiceIcon:s(2942),voiceOffIcon:s(2414),videoIcon:s(9072),videoOffIcon:s(5617),pc:null,status:0,localVideo:"",remoteVideo:"",remoteStream:null,localStream:null,caller:null,is_video:1,isReceived:!1,videoStatus:!0,voiceStatus:!0,cutdown:40,timer:null,offerParams:{},callTime:0,timerIntervalId:null}},mounted(){this.localVideo=this.$refs.localvideo,this.remoteVideo=this.$refs.remotevideo},methods:{initPeer(e){let t=this.config,s={iceServers:[{urls:["stun:stun.xten.com","stun:stun.l.google.com:19302","stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302","stun:stun3.l.google.com:19302","stun:stun4.l.google.com:19302"]},{urls:t.stun?[t.stun]:["stun:stun.callwithus.com"],username:t.stunUser??null,credential:t.stunPass??null}]};this.pc=new RTCPeerConnection(s),this.pc.ontrack=e=>{this.localVideo&&(this.remoteStream=e.streams[0],this.remoteVideo.srcObject=e.streams[0])},this.localStream=e,e.getTracks().forEach((t=>{this.pc.addTrack(t,e)})),this.localVideo.srcObject=this.localStream},initLocalStream(e,t){this.offerParams=t?{offerToRecieveAudio:1,offerToRecieveVideo:1}:{offerToRecieveAudio:1,offerToRecieveVideo:0};let s=1==t;var i=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;i({video:s,audio:{echoCancellation:!0}},(t=>{this.initPeer(t),e?(this.$emit("message",{event:"calling"}),this.status=1,this.timer=setInterval((()=>{this.cutdown--,0==this.cutdown&&this.hangup(!0)}),1e3)):(this.$emit("message",{event:"acceptRtc",code:904}),this.startTime())}),(e=>{let s=1==t?"摄像头":"麦克风";this.$message.error("请连接"+s+"设备，并开启"+s+"权限"),this.caller=null,this.hangup(!1)}))},called(e){if(console.log(this.status,this.caller),this.status||this.caller)return!1;this.is_video=e,this.caller=this.contact,this.initLocalStream(!0,e),this.playMusicCall("state")},answer(){this.status=2,this.initLocalStream(!1,this.is_video),this.playMusicCall("close")},startTime(){this.timerIntervalId=setInterval((()=>{this.callTime++}),1e3)},setCallTime(){let e=this.callTime;const t=Math.floor(e/3600),s=Math.floor((e-3600*t)/60),i=e-3600*t-60*s;return`${t.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`},hangup(e){clearInterval(this.timer),clearInterval(this.timerIntervalId),2!=this.status&&this.playMusicCall("close");let t=902;2==this.status?t=906:3==this.status?t=903:4==this.status&&(t=907),this.status&&(this.status=0,this.closeLocalMedia(),this.remoteStream=null,this.playMusicHandup(),this.isReceived=!1,this.caller=null,this.voiceStatus=!0,this.videoStatus=!0),this.$emit("message",{event:"hangup",code:t,isbtn:e,callTime:this.callTime}),this.callTime=0},closeLocalMedia(){this.localStream&&this.localStream.getTracks()&&this.localStream.getTracks().forEach((e=>{e.stop()})),this.localStream=null},switchVoice(){if(null==this.localStream)return alert("请打开音视频"),!1;const e=this.localStream.getTracks();this.voiceStatus?(e.forEach((e=>{"audio"===e.kind&&(e.enabled=!1)})),this.voiceStatus=!1):(e.forEach((e=>{"audio"===e.kind&&(e.enabled=!0)})),this.voiceStatus=!0)},switchVideo(){if(null==this.localStream)return alert("请打开音视频"),!1;const e=this.localStream.getTracks();this.videoStatus?(e.forEach((e=>{"video"===e.kind&&(e.enabled=!1)})),this.videoStatus=!1):(e.forEach((e=>{"video"===e.kind&&(e.enabled=!0)})),this.videoStatus=!0)},webrtcAction(e){let t=e.extends;switch(t.event){case"calling":this.caller=e.fromUser,this.is_video=parseInt(t.type),this.status=3,this.isReceived=!0,this.playMusicCall("state");break;case"hangup":this.hangup(!1);break;case"busy":this.status=4,this.hangup(!1);break;case"acceptRtc":this.status=2,clearInterval(this.timer),this.startTime(),this.playMusicCall("close"),this.createOffer(),this.onicecandidate();break;case"turndown":break;case"answer":this.pc.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:t.sdp}));break;case"iceCandidate":setTimeout((()=>{"object"===typeof t.iceCandidate?this.pc.addIceCandidate(new RTCIceCandidate(t.iceCandidate)):this.pc.addIceCandidate(new RTCIceCandidate(JSON.parse(t.iceCandidate)))}),100);break;case"offer":this.pc.setRemoteDescription(new RTCSessionDescription({type:"offer",sdp:t.sdp})),this.createAnswer();break}},createOffer(){this.pc.createOffer(this.offerParams).then((e=>{this.pc.setLocalDescription(e),this.$emit("message",{event:"offer",sdp:e.sdp})}))},createAnswer(){this.pc.createAnswer(this.offerParams).then((e=>{this.pc.setLocalDescription(e),this.$emit("message",{event:"answer",sdp:e.sdp}),this.onicecandidate()}))},onicecandidate(){this.pc.onicecandidate=e=>{var t=e.candidate;t&&this.$emit("message",{event:"iceCandidate",iceCandidate:JSON.parse(JSON.stringify(t))})}},playMusicCall(e){var t=document.getElementById("music1");if("close"===e)return t.pause();t.loop="state"===e,t.paused?t.play():t.pause()},playMusicHandup(){var e=document.getElementById("music2");e.play()}}},ut=dt,pt=(0,d.Z)(ut,lt,ct,!1,null,"37ed194d",null),mt=pt.exports,ht=function(){var e=this,t=e._self._c;return t("el-container",[t("el-header",{staticClass:"slider-aside"},[t("el-tabs",{staticClass:"tab-diy",attrs:{"tab-position":"bottom"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"我收到的",name:"receive"}}),t("el-tab-pane",{attrs:{label:"我发送的",name:"send"}})],1)],1),t("el-main",{staticClass:"no-padding"},[t("div",{staticClass:"apply-list"},[t("div",{staticClass:"apply-list-main"},[t("el-scrollbar",[t("el-alert",{staticClass:"mt-10 mb-10",attrs:{"show-icon":"",title:"未处理的邀请消息会在每次初始化或者页面刷新时会重新提示！",type:"warning"}}),e._l(e.list,(function(s,i){return t("div",{key:i,staticClass:"apply-list-item"},[t("div",{staticClass:"avatar"},[e.params.is_mine?e._e():t("el-avatar",{attrs:{src:s.create_user_info.avatar}}),e.params.is_mine?t("el-avatar",{attrs:{src:s.user_id_info.avatar}}):e._e()],1),t("div",{staticClass:"main"},[e.params.is_mine?e._e():t("div",{on:{click:function(t){return e.$user(s.create_user_info.user_id)}}},[t("span",{staticClass:"fc-primary cur-handle"},[e._v(e._s(s.create_user_info.realname))]),e._v(" 申请添加为好友 "),1==s.status?t("el-tag",{attrs:{type:"success"}},[e._v("已同意")]):e._e()],1),e.params.is_mine?t("div",{on:{click:function(t){return e.$user(s.user_id_info.user_id)}}},[e._v(" 请求添加 "),t("span",{staticClass:"fc-primary cur-handle"},[e._v(e._s(s.user_id_info.realname))]),e._v(" 为好友 "),1==s.status?t("el-tag",{attrs:{type:"success"}},[e._v("已同意")]):e._e()],1):e._e(),t("div",{staticClass:"f-12 c-999"},[e._v(e._s(s.remark))])]),e.params.is_mine?t("div",{staticClass:"option"},[1==s.status?t("span",{staticClass:"fc-primary cur-handle",on:{click:function(t){return e.$store.commit("openChat",s.user_id_info.user_id)}}},[e._v("发消息")]):e._e(),2==s.status?t("el-tag",{attrs:{type:"warning"}},[e._v("待同意")]):e._e(),0==s.status?t("el-tag",{attrs:{type:"danger"}},[e._v("已拒绝")]):e._e()],1):t("div",{staticClass:"option"},[2==s.status?t("el-popconfirm",{attrs:{title:"您确定接受该好友的申请吗？"},on:{confirm:function(t){return e.acceptApply(s.friend_id,!0)}}},[t("el-button",{attrs:{slot:"reference",type:"success",circle:"",plain:"",icon:"el-icon-check"},slot:"reference"})],1):e._e(),2==s.status?t("el-popconfirm",{staticClass:"ml-15",attrs:{title:"您确定拒绝该好友的申请吗？"},on:{confirm:function(t){return e.acceptApply(s.friend_id,!1)}}},[t("el-button",{attrs:{slot:"reference",type:"danger",circle:"",plain:"",icon:"el-icon-close"},slot:"reference"})],1):e._e(),1==s.status?t("span",{staticClass:"fc-primary cur-handle",on:{click:function(t){return e.$store.commit("openChat",s.create_user_info.user_id)}}},[e._v("发消息")]):e._e(),0==s.status?t("el-tag",{attrs:{type:"danger"}},[e._v("已拒绝")]):e._e()],1)])})),0==e.list.length?t("div",[t("el-empty",{attrs:{description:"暂无数据"}})],1):e._e()],2)],1),e.singlePage?e._e():t("div",{staticClass:"apply-list-page",attrs:{align:"center"}},[t("el-pagination",{attrs:{background:"","hide-on-single-page":e.singlePage,"current-page":e.params.page,"page-sizes":[20,50,100,200,300,400,500],"page-size":e.params.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleChange,"current-change":e.getList,"update:currentPage":function(t){return e.$set(e.params,"page",t)},"update:current-page":function(t){return e.$set(e.params,"page",t)},"update:pageSize":function(t){return e.$set(e.params,"limit",t)},"update:page-size":function(t){return e.$set(e.params,"limit",t)}}})],1)])])],1)},gt=[],ft={name:"apply",data(){return{singlePage:!0,total:0,list:[],activeName:"receive",params:{page:1,limit:20,is_mine:0}}},mounted(){this.getList()},methods:{handleClick(e){"send"==e.name?this.params.is_mine=1:"receive"==e.name&&(this.params.is_mine=0),this.params.page=1,this.getList()},acceptApply(e,t){let s=t?1:0;this.$api.friendApi.acceptFriend({friend_id:e,status:s}).then((e=>{this.$message.success("操作成功"),this.getList()}))},getList(){this.$api.friendApi.getApplyList(this.params).then((e=>{this.list=e.data,this.total=e.count,this.singlePage=this.total<=this.params.limit}))},handleChange(e){this.params.limit=e,this.getList()}}},vt=ft,Ct=(0,d.Z)(vt,ht,gt,!1,null,"5aced73a",null),bt=Ct.exports,yt=s.p+"assets/img/invite.108c2fc8.png",wt=s(2176);const xt=()=>(new Date).getTime(),At=r().get("UserInfo");var kt={name:"app",components:{Socket:$,ChatRecord:q.Z,ChatSet:X,ChatTop:ne,VoiceRecorder:me,webrtc:mt,Group:he.Z,groupQr:we,Files:Te,addFriend:Ze,Setting:Ge,ChooseDialog:xe.Z,OnlineStatus:tt,imTab:rt,Apply:bt},props:{width:{type:String,default:"1000px"},height:{type:String,default:"640px"},fullScreen:{type:Boolean,default:!1}},data(){const e=this.$createElement;var t=this;let s=this.$store.state.globalConfig.chatInfo;return{noSimpleTips:"系统已关闭单聊，或者群已开启禁言，无法发送消息",isFullscreen:!1,curWidth:this.width,curHeight:this.height,unread:0,atUnread:0,webrtcConfig:s,wsData:null,webrtcLock:!1,caller:"",is_video:1,curFile:null,componentKey:1,searchResult:!1,addFriendBox:!1,createChatBox:!1,forwardBox:!1,noticeBox:!1,messageBox:!1,webrtcBox:!1,groupSetting:!1,VoiceStatus:!1,groupQrShow:!1,ChatRecordMap:{},contactSetting:{},groupUserCount:0,dialogTitle:"创建群聊",isAdd:1,userIds:[],notice:"",searchList:[],keywords:"",displayName:"",oldName:"",isEdit:!1,user:{id:At.user_id,displayName:At.realname,avatar:At.avatar,account:At.account},params:{page:1,limit:10},is_group:0,group_id:"",contacts:[],allUser:[],groupUser:[],currentChat:{},currentMessage:{},lastMessages:[],chatTopList:[],playAudio:null,activeTab:0,tabList:[{name:"所有",count:0},{name:"未读",count:0},{name:"@我",count:0}],quote:"",groupMenu:[{text:"发送消息",click:(e,t,s)=>{const{IMUI:i,contact:a}=t;i.changeContact(a.user_id),s()},visible:e=>e.contact.user_id!=this.user.id&&1==this.globalConfig.sysInfo.runMode},{text:"@TA",click:(e,t,s)=>{const{IMUI:i,contact:a}=t;i.setUserTag(a.userInfo),s()},visible:e=>e.contact.user_id!=this.user.id},{text:"设置管理员",click:(e,t,s)=>{const{IMUI:i,contact:a}=t;s(),this.$confirm("确定设置该成员为管理员吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$api.imApi.setManagerAPI({id:this.group_id,user_id:a.user_id,role:2}),this.$message({type:"success",message:"设置成功!"})}))},visible:e=>3==e.contact.role&&this.currentChat.owner_id==this.user.id},{text:"取消管理员",click:(e,t,s)=>{const{IMUI:i,contact:a}=t;s(),this.$confirm("确定取消该成员的管理员权限吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$api.imApi.setManagerAPI({id:this.group_id,user_id:a.user_id,role:3}),this.$message({type:"success",message:"取消成功!"})}))},visible:e=>2==e.contact.role&&this.currentChat.owner_id==this.user.id},{text:"查看资料",click:(e,t,s)=>{const{IMUI:i,contact:a}=t;s();let n=this.getContact(a.user_id),o=i.getCurrentContact();1==o.setting.profile||o.role<3||n||a.user_id==this.user.id?this.$user(a.user_id):this.$message.error("已开启隐私，无法查看资料")},visible:e=>e.contact.user_id!=this.user.id},{text:"移出群聊",color:"red",click:(e,t,s)=>{const{IMUI:i,contact:a}=t;s(),this.$confirm("确定移除该成员吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$api.imApi.removeUserAPI({id:this.group_id,user_id:a.user_id})}))},visible:e=>e.contact.user_id!=this.user.id&&this.currentChat.owner_id!=e.contact.user_id&&this.currentChat.role<=2}],contactContextmenu:[{click(e,s,i){const{IMUI:a,contact:n}=s;t.$user(n.user_id),i()},icon:"el-icon-tickets",text:"查看资料",visible:e=>0==e.contact.is_group},{icon:"el-icon-upload2",text:"置顶聊天",click:(e,s,i)=>{const{IMUI:a,contact:n}=s;t.$api.imApi.setChatTopAPI({id:n.id,is_top:1,is_group:n.is_group}).then((e=>{0==e.code&&a.updateContact({id:n.id,is_top:1})})),i()},visible:e=>0==e.contact.is_top},{icon:"el-icon-download",text:"取消置顶",click:(e,s,i)=>{const{IMUI:a,contact:n}=s;t.$api.imApi.setChatTopAPI({id:n.id,is_top:0,is_group:n.is_group}).then((e=>{0==e.code&&a.updateContact({id:n.id,is_top:0})})),i()},visible:e=>1==e.contact.is_top},{click(e,s,i){const{IMUI:a,contact:n}=s;i(),t.$api.imApi.isNoticeAPI({id:n.id,is_notice:0,is_group:n.is_group}),a.updateContact({id:n.id,is_notice:0})},icon:"el-icon-bell",text:"消息免打扰",visible:e=>1==e.contact.is_notice&&"system"!=e.contact.id},{click(e,s,i){const{IMUI:a,contact:n}=s;i(),t.$api.imApi.isNoticeAPI({id:n.id,is_notice:1,is_group:n.is_group}),a.updateContact({id:n.id,is_notice:1})},icon:"el-icon-close-notification",text:"取消免打扰",visible:e=>0==e.contact.is_notice&&"system"!=e.contact.id},{click(e,s,i){const{IMUI:a,contact:n}=s;i(),t.$confirm("确定删除该好友吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{t.$api.friendApi.delFriend({id:n.id}).then((e=>{0==e.code&&(t.$message({type:"success",message:"删除成功!"}),t.removeContact(n.id))}))})).catch((()=>{}))},icon:"el-icon-delete",color:"red",text:"删除好友",visible:e=>2==t.globalConfig.sysInfo.runMode&&0==e.contact.is_group},{click(e,s,i){const{IMUI:a,contact:n}=s;i(),t.$confirm("确定解散该群聊吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{t.$api.imApi.removeGrouprAPI({id:n.id})})).catch((()=>{}))},icon:"el-icon-delete",color:"red",text:"解散群聊",visible:e=>e.contact.owner_id==t.user.id&&1==e.contact.is_group},{click(e,s,i){const{IMUI:a,contact:n}=s;i(),t.$confirm("确定退出该群聊吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{t.$api.imApi.removeUserAPI({id:n.id,user_id:t.user.id}).then((e=>{0==e.code&&(t.$message({type:"success",message:"退出成功!"}),t.removeContact(n.id))}))})).catch((()=>{}))},icon:"el-icon-remove-outline",color:"red",text:"退出群聊",visible:e=>e.contact.owner_id!=t.user.id&&1==e.contact.is_group}],contextmenu:[{click:(t,s,i)=>{const{IMUI:a}=s,n=JSON.parse(JSON.stringify(s.message));this.$api.imApi.undoMessageAPI({id:n.id}).then((t=>{const s={id:n.id,type:"event",content:e("div",[e("span",["你撤回了一条消息"," ",e("span",{directives:[{name:"show",value:"text"==n.type}],style:"color:#409EFF;cursor:pointer",attrs:{content:n.content,data:n.type},on:{click:e=>{a.setEditorValue(e.target.getAttribute("content"))}}},["重新编辑"])])]),toContactId:n.toContactId,sendTime:n.sendTime};a.updateMessage(s);const i=a.getMessages(n.toContactId);n.id==i[i.length-1].id&&a.updateContact({id:n.toContactId,lastContent:"你撤回了一条消息"})})).catch((e=>{this.$message.error("发生错误"+e)})),i()},visible:e=>{const{IMUI:t,message:s}=e;let i=3;if(1==e.message.is_group){let e=t.getCurrentContact();i=e.role}return e.message.fromUser.id==this.user.id&&xt()-e.message.sendTime<12e4||i<3},text:"撤回消息"},{text:"@TA",click:(e,t,s)=>{const{IMUI:i,message:a}=t;i.setUserTag(a.fromUser),s()},visible:e=>e.message.fromUser.id!=this.user.id&&1==e.message.is_group},{text:"转发",click:(e,t,s)=>{this.currentMessage=t.message;const{IMUI:i}=this.$refs,a=i.getContacts(),n=i.getCurrentContact();this.allUser=Q.L4(a,"id",n.id),s(),this.forwardBox=!0}},{text:"引用",click:(e,t,s)=>{let i=t.message,a=/<[^>]+>/g,n=i.content.replace(a,"");"text"!=i.type&&(n=Q.nZ(i.type));let o={msg_id:i.msg_id,content:i.fromUser.displayName+"："+n,user_id:i.fromUser.id,realname:i.fromUser.displayName};if(this.quote=o,this.is_group&&o.user_id!=this.user.id){const{IMUI:e}=this.$refs;e.setUserTag(i.fromUser)}s()}},{visible:e=>"image"==e.message.type,text:"复制图片",click:async(e,t,s)=>{s();try{const{message:e}=t,s=await fetch(e.download),i=await s.blob(),a=new Blob([i],{type:"image/png"}),n=new ClipboardItem({"image/png":a});await navigator.clipboard.write([n]),this.$message({type:"success",message:"图片复制成功!"})}catch(i){this.$message.error("复制图片失败: "+i)}}},{visible:e=>"text"==e.message.type,text:"复制文字",click:(e,t,s)=>{this.$clipboard(t.message.content),this.$message({type:"success",message:"复制成功!"}),s()}},{visible:e=>"image"==e.message.type,text:"下载图片",click:(e,t,s)=>{const{message:i}=t;s(),i.download&&(window.location=i.download)}},{visible:e=>"file"==e.message.type,text:"下载文件",click:(e,t,s)=>{const{message:i}=t;window.open(i.download),s()}}]}},computed:{...(0,v.rn)({wsStatus:e=>e.wsStatus,socketAction:e=>e.socketAction,contactId:e=>e.toContactId,contactSync:e=>e.contactSync,setting:e=>e.setting,userInfo:e=>e.userInfo,globalConfig:e=>e.globalConfig}),formatTime(){return function(e){return Q.i$(e)}}},watch:{isFullscreen(e){r().set("isFullscreen",e),this.curWidth=e?"100vw":this.width,this.curHeight=e?"100vh":this.height},playAudio(e){if(e&&this.currentMessage){let e=this.currentMessage;var t=this;const{IMUI:s}=this.$refs;this.playAudio.addEventListener("ended",(function(){console.log("声音停止"),t.playAudio=null,t.currentMessage=null,s.updateMessage({id:e.id,status:"successd",isPlay:0})}),!1)}},contactSync(e){this.$emit("newChat",e);const{IMUI:t}=this.$refs;t.changeContact(this.contactId)},unread(e){this.tabList[1].count=e,this.$store.commit("updateUnread",e)},atUnread(e){this.tabList[2].count=e},keywords(){const{IMUI:e}=this.$refs,t=e.getContacts();this.searchContact(t)},socketAction(e){const t=this.$createElement;let s=e.data;const{IMUI:i}=this.$refs;let a=r().get("client_id");switch(e.type){case"isOnline":i.updateContact({id:s.id,is_online:s.is_online}),s.is_online||this.webrtcLock!=s.id||(this.webrtcLock=!1);break;case"offline":s.id!=this.user.id||s.client_id==a||s.isMobile||(this.$message.error="您的账号在其他地方登录，已被迫下线！",this.$store.dispatch("LogOut").then((()=>{this.$router.push({path:"/login"})})));break;case"simple":case"group":if(s.fromUser.id!=this.user.id){var n=this.getContact(s.toContactId);if(1==s.is_group&&s.toContactId!=this.currentChat.id){let e=0;s.at.includes(this.user.id)&&(e=1),this.$refs.IMUI.updateContact({id:s.toContactId,is_at:n.is_at+e}),this.atUnread+=e}this.setting.isVoice&&1==n.is_notice&&s.toContactId!=this.currentChat.id&&this.popNotice(s)}this.recieveMsg(s);break;case"undoMessage":if(s.from_user==this.user.id&&0==s.isMobile&&xt()-s.sendTime<12e4)return!1;i.updateMessage(s);const o=i.getMessages(s.toContactId);s.id==o[o.length-1].id&&i.updateContact({id:s.toContactId,lastContent:"对方撤回了一条消息"});break;case"setChatTop":i.updateContact({id:s.id,is_top:s.is_top});break;case"setIsNotice":i.updateContact({id:s.id,is_notice:s.is_notice});break;case"editGroupName":i.updateContact({id:s.id,displayName:s.displayName});const l={id:Q.NW(),type:"event",content:t("div",[t("span",[s.editUserName," 修改了群名为 ",s.displayName])]),toContactId:s.id,sendTime:xt()};i.appendMessage(l,!0);break;case"isRead":this.setLocalMsgIsRead(s);break;case"readAll":let c=i.getMessages(s.toContactId);c.forEach((e=>{if(0==e.is_read){const t={id:e.id,is_read:1,status:"succeed",content:e.content+" "};i.updateMessage(t)}}));break;case"addGroup":s.owner_id!=this.user.id&&i.appendContact(s),this.$api.commonApi.bindGroupAPI({client_id:a,group_id:s.id});break;case"setManager":case"addGroupUser":case"removeUser":s.group_id==this.group_id&&this.getGroupUserList(s.group_id),"removeUser"==e.type&&s.user_id==this.user.id?this.removeContact(s.group_id):i.updateContact({id:s.group_id,avatar:s.avatar});break;case"removeGroup":this.removeContact(s.group_id);break;case"clearMessage":i.clearMessages(s.group_id),this.groupSetting=!1,i.updateContact({id:s.group_id,lastContent:""}),s.group_id==this.currentChat.id&&(i.changeContact(null),setTimeout((()=>{i.changeContact(s.group_id)}),100));break;case"setNotice":i.updateContact({id:s.group_id,notice:s.notice}),i.appendMessage({id:Q.NW(),type:"event",content:t("div",[t("span",["管理员 发布了公告： ",s.notice])]),toContactId:s.group_id,sendTime:xt()},!0);break;case"groupSetting":i.updateContact({id:s.group_id,setting:s.setting});break;case"appendContact":i.appendContact(s);break;case"webrtc":if(s.fromUser.id==this.user.id){let e=s.extends,t=r().get("wsData");return[902,903,905,906,907].includes(parseInt(e.code))&&(t.content=s.content,i.updateMessage(t),this.webrtcLock=!1),0==e.isMobile||"calling"==e.event?void("calling"==e.event&&(r().set("wsData",s),this.recieveMsg(s))):void("otherOpt"==e.event&&(t.content=s.content,i.updateMessage(t),this.wsData=null,this.caller="",this.webrtcLock=!1,this.$refs.webrtc.hangup(!1)))}if(this.wsData&&this.wsData.id!=s.id)this.$api.imApi.sendToMsg({toContactId:s.fromUser.user_id,type:s.extends.type,event:"busy",status:s.extends.status,code:907,id:s.id,msg_id:s.msg_id});else{if("calling"==s.extends.event)this.recieveMsg(s),this.wsData=s,r().set("wsData",s),this.caller=s.fromUser;else if("offer"==s.extends.event||"answer"==s.extends.event)this.webrtcLock=s.fromUser.user_id;else if("hangup"==s.extends.event){let e=r().get("wsData");e.content=s.content,i.updateMessage(e),this.webrtcLock=!1}this.wsData&&this.wsData.id==s.id&&this.$refs.webrtc.webrtcAction(JSON.parse(JSON.stringify(s)))}break}}},created(){let e=this.$store.state.userInfo;e&&(this.user={id:e.user_id,displayName:e.realname,avatar:e.avatar,account:e.account}),window.Notification?"granted"==Notification.permission?console.log("允许通知"):"denied"!=Notification.permission&&(console.log("需要通知权限"),Notification.requestPermission((e=>{}))):console.error("浏览器不支持Notification")},mounted(){this.fullScreen&&(this.isFullscreen=r().get("isFullscreen")),this.searchResult&&document.addEventListener("click",(function(e){that.$refs.configforms.contains(e.target)||(that.searchResult=!1)})),this.getSimpleChat()},methods:{called(e){return parseInt(this.globalConfig.chatInfo.webrtc)?this.globalConfig.chatInfo.simpleChat?void(this.webrtcLock?this.$message.error("其他端正在通话中"):(this.webrtcBox=!0,this.is_video=e,this.caller=this.currentChat,this.$refs.webrtc.called(e))):this.$message.error("当前系统已关闭单聊功能"):this.$message.error("当前系统未开启音视频通话功能")},changeTab(e,t){this.activeTab=t},latelyContact(e){let t=[];return t=1==this.activeTab?e.filter((e=>e.unread>0)):2==this.activeTab?e.filter((e=>e.is_at>0)):e.filter((e=>e.lastContent||e.unread>0)),t.sort(((e,t)=>t.lastSendTime-e.lastSendTime)),t.sort(((e,t)=>t.is_top-e.is_top)),t},getSimpleChat(e){const t=this.$createElement;this.$nextTick((()=>{const s=this.$refs.IMUI;this.IMUI=s,s.setLastContentRender("voice",(e=>"[语音]")),s.setLastContentRender("video",(e=>"[视频]")),s.setLastContentRender("webrtc",(e=>"[音视频通话]"));let i=[{name:"emoji"},{name:"screenShot",title:"发送截屏",click:()=>{this.shotScreen()},render:()=>t("i",{class:"el-icon el-icon-scissors f-18",style:"vertical-align: middle;font-weight: 600;"})},{name:"uploadImage",title:"发送图片"},{name:"sendVoice",title:"发送语音",click:()=>{this.VoiceStatus=!0},render:()=>t("i",{class:"el-icon el-icon-microphone f-18",style:"vertical-align: middle;font-weight: 600;"})},{name:"uploadVideo",title:"发送视频",click:()=>{var e=this.$refs.uploadVideo;e.click()},render:()=>t("i",{class:"el-icon el-icon-video-play f-18",style:"vertical-align: middle;font-weight: 600;"},[t("input",{style:"display:none",attrs:{type:"file",accept:"video/*"},ref:"uploadVideo",on:{change:e=>{this.uploadVideo(e)}}})])},{name:"uploadFile",title:"发送文件"},{name:"msgBox",title:"消息管理器",click:()=>{this.ChatRecordMap={},this.messageBox=!0,this.componentKey+=1},render:()=>t("i",{class:"el-icon el-icon-time f-18",style:"vertical-align: middle;"}),isRight:!0}];s.initEditorTools(i),s.initEmoji(j),this.$api.imApi.getContactsAPI().then((i=>{const a=i.data;this.contacts=a;var n={};if(a.forEach(((t,i)=>{t.type&&(n.type=t.type,n.content=t.lastContent,a[i]["lastContent"]=s.lastContentRender(n)),t.unread&&!e&&1==t.is_notice&&(this.unread+=t.unread),t.is_at&&(this.atUnread+=t.is_at)})),2==this.globalConfig.sysInfo.runMode){const e={id:"system",displayName:"新邀请",name_py:"xinyaoqing",avatar:yt,index:"[1]系统消息",click(e){e()},renderContainer:()=>t(bt),lastSendTime:i.page,lastContent:i.page?"新的申请":"",unread:parseInt(i.count),is_notice:1};this.unread+=i.count,a.push({...e})}this.$store.commit("initContacts",a),s.initContacts(a),this.lastMessages=s.lastMessages,this.initMenus(s)}))}))},shotScreen(){new wt.Z({enableWebRtc:!0,level:999999,completeCallback:this.callback,closeCallback:this.closeShotScreen})},closeShotScreen(){console.log("关闭截图")},callback(e){let t=new Image;t.src=e.base64,t.onload=()=>{let e=this.convertImageToCanvas(t),s=e.toDataURL("image/jpeg"),i=window.atob(s.split(",")[1]),a=new ArrayBuffer(i.length),n=new Uint8Array(a);for(let t=0;t<i.length;t++)n[t]=i.charCodeAt(t);let o=new File([a],"screenShot"+Q.NW()+".jpg",{type:"image/jpeg"});this.$confirm("<img src="+t.src+' style="width:390px;height:100%;max-height:360px;object-fit:contain">',"发送截图",{dangerouslyUseHTMLString:!0,confirmButtonText:"发送",showCancelButton:!0,callback:(e,t)=>{if("confirm"==e){let e={content:URL.createObjectURL(o),fromUser:this.user,id:Q.NW(),sendTime:xt(),status:"going",toContactId:this.currentChat.id,type:"image"};this.diySendMessage(e,o)}else t.close()}})}},convertImageToCanvas(e){let t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t},initMenus(e){const t=this.$createElement;let s=[{name:"messages",unread:this.unread},{name:"contacts"},{name:"files",title:"文件",unread:0,render:e=>t("i",{class:"el-icon-folder"}),renderContainer:()=>t(Te,{attrs:{title:this.dialogTitle}})},{name:"mobile",title:"客户端下载",unread:0,render:e=>t("i",{class:"el-icon-mobile"}),click:()=>{window.open(window.BASE_URL+"downapp","_blank")},isBottom:!0},{name:"setting",title:"设置",unread:0,render:e=>t("i",{class:"el-icon-setting"}),renderContainer:()=>t(Ge),isBottom:!0}];this.fullScreen&&s.push({name:"fullscrren",title:"全屏/窗口",unread:0,click:()=>{this.isFullscreen=!this.isFullscreen},render:e=>t("i",{class:"el-icon-full-screen"})}),(At.role>0||this.globalConfig.demon_mode)&&s.push({name:"manage",title:"后台管理",unread:0,click:()=>{this.$route.path.indexOf("manage")>-1?this.$emit("close"):this.$router.push("/manage/index")},render:e=>t("i",{class:"el-icon-s-operation"}),isBottom:!0}),e.initMenus(s)},getContact(e){const{IMUI:t}=this.$refs;return t.findContact(e)},wrapKey(e){return 1==this.setting.sendKey?13==e.keyCode&&e.ctrlKey:13==e.keyCode&&!e.ctrlKey&&!e.shiftKey},setSendKey(e){return 1==this.setting.sendKey?13==e.keyCode&&!e.ctrlKey&&!e.shiftKey:13==e.keyCode&&e.ctrlKey},handleMessageClick(e,t,s,i){if("status"==t)return i.updateMessage({id:s.id,status:"going"}),s.status="going",void this.diySendMessage(s,this.curFile);if("avatar"!=t){if("voice"==s.type){if(!this.playAudio)return this.currentMessage=s,this.playVoice(s,i);this.playAudio.pause(),this.playAudio=null,i.updateMessage({id:this.currentMessage.id,status:"successd",isPlay:0}),s.id!=this.currentMessage.id&&(this.currentMessage=s,this.playVoice(s,i))}var a=["image","file","video"];if(a.includes(s.type)){if(!s.preview)return this.$message.error("没有配置预览接口");this.$preview(s.preview)}else"webrtc"==s.type&&this.called(parseFloat(s.extends.type))}else{if(1==s.is_group&&0==this.currentChat.setting.profile&&this.currentChat.role>2)return void this.$message.error("已开启隐私，无法查看资料");if(s.fromUser.id!=this.user.id)return;this.$user(s.fromUser.id)}},playVoice(e,t){this.playAudio=new Audio(e.content),this.playAudio.play(),t.updateMessage({id:e.id,status:"succeed",isPlay:1})},openChat(e,t){this.keywords="",t.changeContact(e)},handleChangeContact(e,t){t.updateContact({id:e.id,unread:0}),1==e.is_notice&&(this.unread-=e.unread);const{IMUI:s}=this.$refs;this.initMenus(s),this.params.page=1,this.displayName=e.displayName,this.oldName=e.displayName,this.currentChat=e,1==e.is_group&&(this.group_id!=e.id?this.getGroupUserList(e.id):this.setAtUserList(this.groupUser)),this.is_group=e.is_group,1==this.is_group?(this.group_id=e.id,this.notice=e.notice):s.setAtUserList([],!1);for(var i=[],a=s.getMessages(e.id),n=0;a.length>n;n++)0==a[n].is_read&&a[n].fromUser.id!=this.user.id&&i.push(a[n]);i.length>0&&this.$api.imApi.setMsgIsReadAPI({is_group:e.is_group,toContactId:e.id,messages:i,fromUser:e.id}).then((e=>{0==e.code&&this.setLocalMsgIsRead(i)})),t.closeDrawer()},setAtUserList(e){let t=[],s=!1;e.forEach((e=>{e.user_id!=this.user.id?t.push(e.userInfo):e.role<3&&(s=!0)})),this.$refs.IMUI.setAtUserList(t,s)},uploadVideo(e){if(!this.globalConfig.chatInfo.simpleChat&&0==this.is_group||!this.nospeak())return this.$message.error(this.noSimpleTips),!1;let t,s=e.srcElement.files[0],i=URL.createObjectURL(s),a=new Audio(i);a.addEventListener("loadedmetadata",(function(e){t=a.duration}));let n={content:i,fromUser:this.user,id:Q.NW(),sendTime:xt(),status:"going",toContactId:this.currentChat.id,type:"video",extends:{duration:t}};this.diySendMessage(n,s),this.$refs.uploadVideo.value=""},sendVoice(e,t){if(!this.globalConfig.chatInfo.simpleChat&&0==this.is_group||!this.nospeak())return this.$message.error(this.noSimpleTips),!1;let s={content:URL.createObjectURL(t),fromUser:this.user,id:Q.NW(),sendTime:xt(),status:"going",toContactId:this.currentChat.id,type:"voice",isPlay:0,extends:{duration:e}};this.VoiceStatus=!1,this.diySendMessage(s,t)},removeContact(e){const{IMUI:t}=this.$refs,s=t.getCurrentContact();s.id==e&&t.changeContact(null),t.removeContact(e)},diySendMessage(e,t){const{IMUI:s}=this.$refs;s.appendMessage(e,!0),this.handleSend(e,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:"succeed"};s.updateContact({id:e.toContactId,lastContent:s.lastContentRender(e),lastSendTime:e.sendTime}),s.CacheDraft.remove(e.toContactId),s.updateMessage(Object.assign(e,t))}),t)},nospeak(){return!(1==this.is_group&&this.currentChat.setting.nospeak>0)||(1==this.currentChat.setting.nospeak&&this.currentChat.role<3||2==this.currentChat.setting.nospeak&&1==this.currentChat.role)},handleSend(e,t,s){const{IMUI:i}=this.$refs;if(e.is_group=this.is_group,this.curFile=s,1!=this.globalConfig.chatInfo.simpleChat&&0==this.is_group||!this.nospeak())return i.removeMessage(e.id),this.$message.error(this.noSimpleTips),!1;this.quote&&(e.pid=this.quote.msg_id,e.extends=this.quote);let a=new FormData;if(s){if(s.size>1024*this.globalConfig.fileUpload.size*1024)return i.removeMessage(e.id),this.$message.error("上传的内容不等大于"+this.globalConfig.fileUpload.size+"MB！");a.append("file",s),a.append("message",JSON.stringify(e)),this.$api.imApi.sendFileAPI(a).then((e=>{0==e.code?(i.setEditorValue(""),i.updateMessage(e.data),t()):t({status:"failed"})})).catch((e=>{t({status:"failed"})}))}else this.closeQuote(),this.$api.imApi.sendMessageAPI(e).then((e=>{0==e.code?(i.setEditorValue(""),i.updateMessage(e.data),t()):t({status:"failed"})})).catch((e=>{t({status:"failed"})}))},handlePullMessages(e,t,s){let i=this.params,a=s.getMessages(e.id);return a.length>0&&(i.last_id=a[0].msg_id,i.page=1),i.toContactId=e.id,i.is_group=e.is_group,this.$api.imApi.getMessageListAPI(i).then((e=>{this.params.page++;let s=!1,i=e.data;i.length<this.params.limit&&(s=!0),t(i,s)})).catch((e=>{t([],!0)})),!0},publishNotice(){this.noticeBox=!1,this.$api.imApi.setNoticeAPI({id:this.group_id,notice:this.notice}).then((e=>{0==e.code&&this.$message({type:"success",message:"发布成功!"})}))},openMsgBox(){this.ChatRecordMap={is_at:1},this.messageBox=!0,this.componentKey+=1,this.$refs.IMUI.updateContact({id:this.currentChat.id,is_at:0});let e=this.currentChat.is_at;this.atUnread-=e,this.currentChat.is_at=0},openNotice(){var e="<div style='white-space: break-spaces;'>"+this.notice+"</div>";this.$alert(e,"群公告",{confirmButtonText:"确定",dangerouslyUseHTMLString:!0}).then((()=>{})).catch((()=>{}))},openCreateGroup(){this.isAdd=1,this.dialogTitle="创建群聊",this.createChatBox=!0},changeOwner(){this.isAdd=2,this.dialogTitle="转让群聊",this.createChatBox=!0},openAddGroupUser(){var e=Q.Nj(this.groupUser,"user_id");this.isAdd=0,this.userIds=e,this.dialogTitle="添加群成员",this.createChatBox=!0},manageGroup(e,t,s){this.createChatBox=!1;let i=this.globalConfig.chatInfo.groupUserMax;if(0==t){if(e.length+this.groupUser.length>i&&i>0)return this.$message.error("群成员不能大于"+i+"人！");this.$api.imApi.addGroupUserAPI({user_ids:e,id:this.group_id})}else if(1==t){if(e.length>i&&i>0)return this.$message.error("群成员不能大于"+i+"人！");this.$api.imApi.addGroupAPI({user_ids:e,name:s}).then((e=>{const t=e.data,{IMUI:s}=this.$refs;0==e.code&&(s.appendContact(t),s.changeContact(t.id))}))}else this.$api.imApi.changeOwnerAPI({user_id:e[0],id:this.group_id}).then((t=>{const{IMUI:s}=this.$refs;0==t.code&&(this.$message({type:"success",message:t.msg}),this.groupSetting=!1,s.updateContact({id:this.group_id,role:3,owner_id:e[0]}),s.changeContact(null))}))},forwardUser(e){if(e.length>5)return this.$message.error("转发的人数不能超过5人！");this.forwardBox=!1;var t=this.currentMessage;this.$api.imApi.forwardMessageAPI({user_ids:e,msg_id:t.msg_id})},getGroupUserList(e){this.$api.imApi.groupUserListAPI({group_id:e}).then((e=>{if(0==e.code){let t=e.data;this.groupUser=t,this.setAtUserList(t),this.groupUserCount=t.length}}))},saveGroupName(e){if(this.displayName.length<1)return this.$notify({title:"警告",message:"名称不能为空！",type:"warning"}),this.isEdit=!1,!1;if(this.displayName!=this.oldName){const{IMUI:t}=this.$refs;this.$api.imApi.editGroupNameAPI({id:e.id,displayName:this.displayName}).then((s=>{t.updateContact({id:e.id,displayName:this.displayName})}))}this.isEdit=!1},openGroupSetting(e){this.groupSetting=!0,this.contactSetting=e||this.currentChat,this.componentKey++},closeSearch(){var e=this;setTimeout((function(){e.searchResult=!1}),300)},searchContact(e){""!=this.keywords&&(this.searchList=Q.iu(e,["displayName","name_py"],this.keywords))},setLocalMsgIsRead(e){const{IMUI:t}=this.$refs;for(let s=0;e.length>s;s++){const i={id:e[s]["id"],is_read:1,status:"succeed",content:e[s]["content"]+" "};t.updateMessage(i)}},popNotice(e){let t=this;const{IMUI:s}=this.$refs;if("granted"==Notification.permission){let i=e.fromUser.displayName||e.fromUser.realname,a=s.lastContentRender(e),n=new Notification("收到一条新消息",{body:i+"："+a,icon:e.fromUser.avatar});n.onclick=function(e){t.$nextTick((()=>{setTimeout((()=>{}),500)})),window.focus(),n.close()}}else{const e=document.getElementById("chatAudio");e.currentTime=0,e.play()}},recieveMsg(e){const{IMUI:t}=this.$refs,s=t.getCurrentContact();if(s.id==e.toContactId&&"system"!=s.id){var i=[];i.push(e),this.$api.imApi.setMsgIsReadAPI({toContactId:s.id,is_group:s.is_group,messages:i,fromUser:e.fromUser.id})}else if(this.user.id!=e.fromUser.id){let s=this.getContact(e.toContactId);1==s.is_notice&&this.unread++,this.initMenus(t)}this.user.id==e.toContactId&&(e.toContactId=e.toUser),"system"==e.toContactId&&t.updateContact({id:e.toContactId,lastContent:t.lastContentRender(e),lastSendTime:e.sendTime,unread:"+1"}),t.appendMessage(e,!0)},openMessageBox(){this.messageBox=!0,this.componentKey+=1},openSetting(){const{IMUI:e}=this.$refs;e.changeMenu("setting")},handleCommand(e){"addGroup"==e?this.openCreateGroup():this.addFriendBox=!0},rtcMsg(e){let t="",s="",i="";this.wsData&&(s=this.wsData.msg_id??"",i=this.wsData.id??"");let a=!0;switch(e.event){case"calling":i=Q.NW();break;case"hangup":907==e.code&&this.$message.error("对方忙线中"),e.isbtn||(a=!1),this.wsData="",this.webrtcLock=!1;break;case"iceCandidate":let s={};s["candidate"]=e["iceCandidate"]["candidate"],s["sdpMLineIndex"]=e["iceCandidate"]["sdpMLineIndex"],s["sdpMid"]=e["iceCandidate"]["sdpMid"],t=JSON.stringify(s);break;case"mediaDevices":a=!1;break}a&&this.$api.imApi.sendToMsg({id:i,msg_id:s,toContactId:this.caller.id,type:this.is_video?1:0,event:e.event,status:e.status??"",code:e.code??"",callTime:e.callTime??"",sdp:e.sdp??"",iceCandidate:t}).then((t=>{0==t.code&&"calling"==e.event&&(this.wsData=t.data,r().set("wsData",t.data),this.recieveMsg(t.data)),"907"==t.data.extends.code&&this.$message.error("对方不在线")}))},reconnect(){this.$refs.socket.initWebSocket()},closeSocket(){this.$refs.socket.close()},closeQuote(){this.quote=""},logout(){this.$confirm("你确定要退出聊天室吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$store.dispatch("LogOut").then((()=>{this.$router.push({path:"/login"})}))})).catch((()=>{this.$message({type:"info",message:"已取消退出"})}))}}},_t=kt,It=(0,d.Z)(_t,P,D,!1,null,"9bf5acea",null),St=It.exports;var Ut={name:"app",components:{rainagdIm:St},props:{dialogTableVisible:{type:Boolean,default:!1}},data(){return{unread:0,dialogIsShow:!0}},computed:{formatTime(){return function(e){return timeFormat(e)}}},watch:{dialogTableVisible(e){e&&this.$nextTick((()=>{this.dialogIsShow=e}))}},created(){},mounted(){},methods:{closeDialog(){this.appList=!1,this.$nextTick((()=>{this.$emit("update:dialogTableVisible",!1)}))},contactSync(e){this.dialogIsShow=!0,this.$emit("update:dialogTableVisible",!0)}}},Tt=Ut,Mt=(0,d.Z)(Tt,F,L,!1,null,"6e7fdceb",null),Bt=Mt.exports,Et={name:"Index",components:{Message:Bt},data(){return{dialogTableVisible:!1,unread:0,allContacts:[],activeName:"0",techStack:[{icon:"el-icon-cpu",text:"后端：TP6+Mysql+workerman+webRTC中继服务。 <b class='c-success'>[开源]</b>"},{icon:"el-icon-news",text:"前端：vue2+element-ui+lemon-imui。 <b class='c-success'>[开源]</b>"},{icon:"el-icon-mobile",text:"移动端：uniapp for vue3+pinia。支持编译为小程序+h5+APP。<b class='c-red'>[捐赠获取]</b>"},{icon:"el-icon-monitor",text:"桌面端：vue2(web端修改版)+electron。<b class='c-red'>[捐赠获取]</b>"}],introduce:[{icon:"el-icon-chat-dot-square",text:this.$packageData.name+"是一个<b class='c-red'>开源的即时通信demo（存在一定的BUG），主要用于学习交流，为大家提供即时通讯的开发思路</b>，许多功能需要自行开发，开发的初衷旨在快速建立企业内部通讯系统、内网交流、社区交流。"},{icon:"el-icon-cpu",text:"不建议用于商业用途，如确有需要商用，请联系作者授权，自行开发代码量必须要高于原代码量的30%以上，并注明相关的版权问题。"},{icon:"el-icon-office-building",text:"支持企业模式：类似于企业微信，初始化联系人是加载企业内的所有人员，无须加好友可以直接进行对话、创建群聊等，适用于企业内部通讯。"},{icon:"el-icon-chat-line-round",text:"支持社区模式：类似于微信或QQ，需要添加好友才能进行对话，适用于社区交流。社区模式支持加好友、删除好友、改备注等功能。"},{icon:"el-icon-discover",text:"选择适合自己项目的模式，然后在后台设置即可。社区模式体验需要自行搭建部署哦，可以在项目地址中看到相关的截图。"}]}},computed:{...(0,v.rn)({chatSocket:e=>e.unread,getContacts:e=>e.allContacts})},watch:{chatSocket(e){this.unread=e},getContacts(e){this.allContacts=e}},methods:{handleClick(e,t){console.log(e,t)},showMessageBox(){this.dialogTableVisible?this.dialogTableVisible=!1:this.dialogTableVisible=!0},scrollTo(){window.scrollTo(0,document.body.scrollHeight)},downApp(){window.open(window.BASE_URL+"downapp")}}},Rt=Et,Nt=(0,d.Z)(Rt,R,N,!1,null,"36725069",null),Ft=Nt.exports,Lt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-container",style:"background-image:url("+e.Background+")"},[t("raingadIm",{attrs:{fullScreen:!0}})],1)},Pt=[],Dt=s.p+"assets/img/login-background.4d69904c.jpg",jt={name:"app",components:{raingadIm:St},data(){return{Background:Dt}}},Qt=jt,zt=(0,d.Z)(Qt,Lt,Pt,!1,null,"f0e47f02",null),Vt=zt.exports,Gt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-wrapper",style:"background-image:url("+e.Background+")"},[t("div",{staticClass:"form-box"},[t("div",{staticClass:"form-title"},[t("img",{attrs:{src:e.globalConfig.sysInfo.logo?e.globalConfig.sysInfo.logo:e.$packageData.logo,width:"100",alt:"icon"}}),t("p",{staticClass:"mt-10 f-20"},[e._v(e._s(e.globalConfig.sysInfo.name))])]),t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"label-width":"0px"}},[t("el-form-item",{attrs:{prop:"account"}},[t("el-input",{ref:"account",attrs:{type:"text","auto-complete":"off",placeholder:"请输入账号","prefix-icon":"el-icon-user"},model:{value:e.loginForm.account,callback:function(t){e.$set(e.loginForm,"account",t)},expression:"loginForm.account"}})],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.forget,expression:"!forget"}],attrs:{prop:"password"}},[t("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请输入密码","prefix-icon":"el-icon-lock"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.forget,expression:"forget"}],attrs:{prop:"code"}},[t("el-input",{attrs:{placeholder:"请输入验证码",maxlength:"6"},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}},[t("el-button",{attrs:{slot:"append",loading:e.coding},on:{click:function(t){return e.sendCode()}},slot:"append"},[e._v("发送验证码")])],1)],1),e.globalConfig.demon_mode?t("div",{staticClass:"c-666",staticStyle:{"font-size":"12px"}},[e._v("演示账号：13800000002~13800000020，密码:123456")]):e._e(),t("el-form-item",[t("div",{staticClass:"remenber"},[t("el-checkbox",{model:{value:e.loginForm.rememberMe,callback:function(t){e.$set(e.loginForm,"rememberMe",t)},expression:"loginForm.rememberMe"}},[e._v("记住我")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){e.forget=!e.forget}}},[e._v(e._s(e.forget?"密码登陆":"忘记密码"))])],1)]),t("el-form-item",[t("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"small",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e.loading?t("span",[e._v("登 录 中...")]):t("span",[e._v("登 录")])])],1),1==e.globalConfig.sysInfo.regtype?t("el-form-item",[t("el-button",{staticStyle:{width:"100%"},attrs:{size:"small",plain:""},on:{click:function(t){return e.$router.push("/register")}}},[e._v(" 注册 ")])],1):e._e(),t("div",{staticClass:"c-999",attrs:{align:"center"}},[e._v(e._s(e.globalConfig.sysInfo.name)+" for "+e._s(e.$packageData.version))]),t("el-button",{staticClass:"mt-10",staticStyle:{width:"100%"},attrs:{plain:""},on:{click:function(t){return e.downapp()}}},[t("span",[e._v("下载客户端")])])],1)],1)])},Jt=[],Ot={name:"Login",data(){return{Background:Dt,forget:!1,loginForm:{account:"",password:"",code:"",rememberMe:!0},loginRules:{account:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}]},loading:!1,coding:!1,redirect:void 0}},computed:{...(0,v.rn)({globalConfig:e=>e.globalConfig})},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0},forget(e){e&&(this.loginForm.password="123456")}},mounted(){this.$nextTick((()=>{let e=this.$route.query.token;if(e)return this.dologin({token:e});if(this.globalConfig.demon_mode){const e=Math.floor(19*Math.random()+2);this.loginForm.account=138e8+e,this.loginForm.password="123456",this.$refs.account.focus()}const t=r().get("LoginAccount");t&&(this.loginForm.account=t.account,this.loginForm.password=t.password,this.loginForm.rememberMe=!0,this.$refs.account.focus())}))},methods:{handleLogin(){!this.forget||this.loginForm.code?this.$refs.loginForm.validate((e=>{const t={account:this.loginForm.account,password:this.loginForm.password,code:this.loginForm.code};this.loginForm.rememberMe?r().set("LoginAccount",t):r().rm("LoginAccount"),e&&this.dologin(t)})):this.$message.error("请输入验证码")},dologin(e){this.loading=!0,this.$store.dispatch("Login",e).then((e=>{window.location.reload()})).catch((()=>{this.loading=!1}))},sendCode(){if(!this.loginForm.account)return void this.$message.error("请输入账号");this.coding=!0;let e={account:this.loginForm.account,type:1};this.$store.dispatch("sendCode",e).then((e=>{this.$message.success("发送成功"),this.coding=!1})).catch((()=>{this.coding=!1}))},downapp(){window.open(window.BASE_URL+"downapp")}}},$t=Ot,qt=(0,d.Z)($t,Gt,Jt,!1,null,null,null),Yt=qt.exports,Zt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-wrapper",style:"background-image:url("+e.Background+")"},[t("div",{staticClass:"form-box"},[t("div",{staticClass:"form-title"},[t("div",{staticClass:"f-14 cur-handle",on:{click:function(t){return e.$router.push("/login")}}},[t("i",{staticClass:"el-icon-back"},[e._v("返回")])]),e._m(0),t("div")]),t("el-form",{ref:"regForm",staticClass:"login-form",attrs:{model:e.regForm,rules:e.loginRules,"label-width":"0px"}},[t("el-form-item",{attrs:{prop:"account"}},[t("el-input",{ref:"account",attrs:{type:"text","auto-complete":"off",placeholder:e.placeholder,"prefix-icon":"el-icon-user"},on:{input:e.handleInput},model:{value:e.regForm.account,callback:function(t){e.$set(e.regForm,"account",t)},expression:"regForm.account"}})],1),t("el-form-item",{attrs:{prop:"realname"}},[t("el-input",{ref:"realname",attrs:{type:"text","auto-complete":"off",placeholder:"请输入用户名/昵称","prefix-icon":"el-icon-user"},model:{value:e.regForm.realname,callback:function(t){e.$set(e.regForm,"realname",t)},expression:"regForm.realname"}})],1),0!=e.globalConfig.sysInfo.regauth?t("el-form-item",{attrs:{prop:"code"}},[t("el-input",{attrs:{placeholder:"请输入验证码",maxlength:"6"},model:{value:e.regForm.code,callback:function(t){e.$set(e.regForm,"code",t)},expression:"regForm.code"}},[t("el-button",{attrs:{slot:"append",loading:e.loading},on:{click:function(t){return e.sendCode(!0)}},slot:"append"},[e._v("发送验证码")])],1)],1):e._e(),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:"password","show-password":"","auto-complete":"off",placeholder:"请输入密码","prefix-icon":"el-icon-lock"},model:{value:e.regForm.password,callback:function(t){e.$set(e.regForm,"password",t)},expression:"regForm.password"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:"password","show-password":"","auto-complete":"off",placeholder:"请再次输入密码","prefix-icon":"el-icon-lock"},model:{value:e.regForm.repass,callback:function(t){e.$set(e.regForm,"repass",t)},expression:"regForm.repass"}})],1),t("el-form-item",[t("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"small",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegist.apply(null,arguments)}}},[e.loading?t("span",[e._v("注 册 中...")]):t("span",[e._v("注册")])])],1),t("div",{staticClass:"c-999",attrs:{align:"center"}},[e._v(e._s(e.globalConfig.sysInfo.name)+" for "+e._s(e.$packageData.version))])],1)],1)])},Wt=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"mr-40"},[t("b",[e._v("注册用户")])])}],Kt={name:"Register",data(){return{Background:Dt,placeholder:"请输入账号：4-32个字符",regForm:{account:"",realname:"",password:"",repass:"",code:""},loginRules:{account:[{min:4,max:32,message:"长度在 4 到 32 个字符",trigger:"blur"}],realname:[{required:!0,message:"请输入用户名/昵称",trigger:"blur"},{min:2,max:16,message:"长度在 2 到 16 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:16,message:"长度在 6 到 16 个字符",trigger:"blur"}]},loading:!1,redirect:void 0}},computed:{...(0,v.rn)({globalConfig:e=>e.globalConfig})},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},mounted(){let e=this.globalConfig.sysInfo.regauth??0,t="请输入账号：4-32个字符";switch(parseInt(e)){case 1:t="请输入正确的手机号";break;case 2:t="请输入正确的邮箱";break;case 3:t="请输入正确的手机号或者邮箱";break;default:t="请输入正确的账号"}let s={required:!0,message:t,trigger:"blur"};this.loginRules.account.push(s);let i={type:"email",message:t,trigger:"blur",validator:this.validateContact},a={type:"phone",message:t,trigger:"blur",validator:this.validateContact};1==e?(this.placeholder="请输入手机号",this.loginRules.account.push(a)):2==e?(this.placeholder="请输入邮箱账号",this.loginRules.account.push(i)):3==e&&(this.placeholder="请输入手机号/邮箱",this.loginRules.account.push(i),this.loginRules.account.push(a))},methods:{handleInput(e){const t=e.replace(/[\u4e00-\u9fa5]/g,"");this.regForm.account=t},validateContact(e,t,s){t?/^1[3456789]\d{9}$/.test(t)||/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(t)?s():s(new Error("请输入正确的手机号或邮箱")):s()},handleRegist(){this.$refs.regForm.validate((e=>{if(this.regForm.password!=this.regForm.repass)return this.$message.error("两次密码不一致"),!1;const t={account:this.regForm.account,realname:this.regForm.realname,password:this.regForm.password,code:this.regForm.code,inviteCode:this.$route.query.inviteCode??""};if(!e)return this.$message.error("请检查输入项");this.loading=!0,this.$api.commonApi.register(t).then((e=>{this.loading=!1,0===e.code&&(this.$message.success("注册成功"),this.$router.push("/login"))})).catch((e=>{this.loading=!1}))}))},sendCode(){if(!this.regForm.account)return void this.$message.error("请输入账号");this.coding=!0;let e={account:this.regForm.account,type:2};this.$store.dispatch("sendCode",e).then((e=>{this.$message.success("发送成功"),this.coding=!1})).catch((()=>{this.coding=!1}))}}},Ht=Kt,Xt=(0,d.Z)(Ht,Zt,Wt,!1,null,"021f4740",null),es=Xt.exports,ts=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-container"},[t("el-container",{staticStyle:{height:"100vh",border:"1px solid #eee"}},[t("el-header",{staticStyle:{"text-align":"right","font-size":"12px","border-bottom":"1px solid #e6e6e6"}},[t("el-row",{style:{height:"60px"},attrs:{type:"flex",justify:"space-between",align:"middle"}},[t("el-col",{staticClass:"logo",attrs:{span:8}},[t("div",{staticClass:"image"},[t("img",{attrs:{src:e.globalConfig.sysInfo.logo,alt:"logo"}})]),t("div",{staticClass:"f-20 ml-5"},[e._v(e._s(e.globalConfig.sysInfo.name)+" 管理中心")])]),t("el-col",{staticClass:"text-right",attrs:{span:16}},[t("div",{staticClass:"user"},[t("span",{staticClass:"message"},[t("router-link",{attrs:{to:"/chat"}},[t("el-button",[e._v(" 进入聊天 ")])],1)],1),t("span",{staticClass:"message",on:{click:function(t){return e.showMessageBox()}}},[t("el-badge",{attrs:{value:e.unread,max:99,hidden:!e.unread}},[t("i",{staticClass:"el-icon-chat-line-round f-24",attrs:{circle:""}})])],1),t("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[t("div",{staticClass:"lz-flex lz-align-items-center cur-handle"},[t("span",{staticClass:"avatar"},[t("img",{attrs:{src:e.$store.state.userInfo.avatar,alt:"avatar"}})]),t("span",{staticClass:"username"},[e._v(e._s(e.$store.state.userInfo.realname))]),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"profile"}},[e._v("个人信息")]),t("el-dropdown-item",{attrs:{command:"logout"}},[e._v("退出登录")])],1)],1)],1)])],1)],1),t("el-container",[t("el-aside",{staticClass:"main-aside",style:{width:e.asideWidth}},[t("div",{staticClass:"aside-menu"},[t("el-scrollbar",[t("el-menu",{staticClass:"el-menu-vertical-demo",staticStyle:{border:"none"},attrs:{"default-active":e.active,mode:"vertical","ext-color":"#fff",collapse:e.isCollapse},on:{select:e.handleMenuSelect}},[e._l(e.routes,(function(s,i){return[t("el-menu-item",{key:i,attrs:{index:s.path}},[t("i",{class:s.meta.icon}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(s.meta.title))])])]}))],2)],1)],1),t("div",{staticClass:"aside-bottom",on:{click:e.handleCollapse}},[t("span",{staticClass:"el-icon-s-fold f-18"})])]),t("el-main",{staticStyle:{"background-color":"#f5f5f5",padding:"0"}},[t("el-scrollbar",[t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("router-view",{key:e.key})],1)],1)],1)],1)],1),t("Message",{ref:"Message",attrs:{dialogTableVisible:e.dialogTableVisible},on:{"update:dialogTableVisible":function(t){e.dialogTableVisible=t},"update:dialog-table-visible":function(t){e.dialogTableVisible=t}}})],1)},ss=[],is={name:"Index",components:{Message:Bt},data(){return{dialogTableVisible:!1,unread:0,allContacts:[],isCollapse:!1,asideWidth:"200px",active:"",routes:[]}},computed:{...(0,v.rn)({chatSocket:e=>e.unread,getContacts:e=>e.allContacts,globalConfig:e=>e.globalConfig}),key(){return this.$route.path}},watch:{chatSocket(e){this.unread=e},getContacts(e){this.allContacts=e},isCollapse(e){this.asideWidth=e?"65px":"200px"}},mounted(){this.isCollapse=r().get("isCollapse")||!1,this.active=this.$route.path;const e=this.$router.options.routes.filter((e=>"manage"==e.name));this.routes=e[0].children,window.addEventListener("resize",this.handleResize)},methods:{handleResize(){window.innerWidth<900?this.isCollapse=!0:this.isCollapse=!1},handleMenuSelect(e){this.active=e,this.$route.path!=e&&this.$router.push(e)},showMessageBox(){this.dialogTableVisible?this.dialogTableVisible=!1:this.dialogTableVisible=!0},handleCommand(e){"profile"==e?this.$user(this.$store.state.userInfo.user_id):this.$confirm("你确定要退出聊天室吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$store.dispatch("LogOut").then((()=>{this.$router.push({path:"/login"})}))})).catch((()=>{this.$message({type:"info",message:"已取消退出"})}))},handleCollapse(){this.isCollapse=!this.isCollapse,r().set("isCollapse",this.isCollapse)}}},as=is,ns=(0,d.Z)(as,ts,ss,!1,null,"482b879c",null),os=ns.exports,rs=[{path:"/manage",name:"manage",component:os,meta:{title:"管理"},icon:"el-icon-s-tools",children:[{path:"/manage/index",name:"index",component:()=>s.e(142).then(s.bind(s,3142)),meta:{title:"概况",icon:"el-icon-data-line"}},{path:"/manage/setting",name:"setting",component:()=>s.e(103).then(s.bind(s,9103)),meta:{title:"设置",icon:"el-icon-setting"}},{path:"/manage/user",name:"user",component:()=>s.e(584).then(s.bind(s,3584)),meta:{title:"成员",icon:"el-icon-user"}},{path:"/manage/group",name:"group",component:()=>s.e(173).then(s.bind(s,4173)),meta:{title:"群聊",icon:"el-icon-chat-dot-square"}},{path:"/manage/files",name:"files",component:()=>s.e(567).then(s.bind(s,7567)),meta:{title:"文件",icon:"el-icon-folder-opened"}}]}];i["default"].use(E.ZP);const ls=[{path:"/",name:"home",component:Vt,meta:{title:"聊天"}},{path:"/chat",name:"chat",component:Vt,meta:{title:"聊天演示页"}},{path:"/demo",name:"demo",component:Ft,meta:{title:"演示页"}},{path:"/login",name:"login",component:Yt,meta:{title:"登录"}},{path:"/register",name:"register",component:es,meta:{title:"注册"}},{path:"*",redirect:"/404",hidden:!0},{path:"/404",component:()=>s.e(133).then(s.bind(s,4133)),hidden:!0}],cs=()=>new E.ZP({mode:"hash",scrollBehavior:()=>({y:0}),routes:[...ls,...rs]}),ds=cs();function us(){const e=cs();ds.matcher=e.matcher}var ps=ds,ms=s(6265),hs=s.n(ms);const gs={loadingCache:function(){if(r().get("authToken")&&!hs().defaults.headers.authToken){const e=r().get("UserInfo");e&&Ns.commit("SET_USERINFO",e)}Ns.commit("SET_APPNAME",r().get("systemName")),Ns.commit("SET_APPLOGO",r().get("systemLogo"))},updateAxiosCache:function(){hs().defaults.headers.authToken=r().get("authToken"),hs().defaults.headers.sessionId=r().get("sessionId")},updateAxiosHeaders:function(){hs().defaults.headers.authToken=r().get("authToken"),hs().defaults.headers.sessionId=r().get("sessionId")},rmAxiosCache:function(){r().rm("authToken"),r().rm("sessionId")}};var fs=gs;function vs(){return new Promise(((e,t)=>{fs.rmAxiosCache(),delete hs().defaults.headers.authToken,delete hs().defaults.headers.sessionId,e(!0)}))}function Cs(e,t){return new Promise(((s,i)=>{hs().defaults.headers.authToken=e,hs().defaults.headers.sessionId=t,s(!0)}))}function bs(){return r().get("authToken")&&!hs().defaults.headers.authToken&&fs.updateAxiosCache(),!!r().get("authToken")}var ys=s(5410),ws=s.n(ys),xs=s(9070);const As=(0,xs.debounce)(500,(()=>{vs().then((()=>{location.reload()})).catch((()=>{location.reload()}))})),ks=(0,xs.debounce)(500,((e,t="error")=>{(0,m.Message)({message:e,duration:1500,type:t})})),_s=(0,xs.debounce)(1e3,(e=>{m.MessageBox.confirm(e,"提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then((()=>{As()})).catch((()=>{}))}));hs().defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8";const Is=window.location.protocol+"//"+window.location.host;window.location.protocol;window.BASE_URL=Is+"/";const Ss=hs().create({baseURL:window.BASE_URL,timeout:6e4});Ss.baseURL=window.BASE_URL,Ss.interceptors.request.use((e=>{const t=r().get("sessionId"),s=r().get("authToken");t&&s&&(e.headers["sessionId"]=t,e.headers["Authorization"]=s);const i=e.headers["Content-Type"]&&-1!==e.headers["Content-Type"].indexOf("application/json");if(i)void 0!==e.data&&null!==e.data||(e.data={});else{const t=e.headers["Content-Type"]&&-1!==e.headers["Content-Type"].indexOf("multipart/form-data");e.data=t?e.data:ws().stringify(e.data)}return e}),(e=>Promise.reject(e))),Ss.interceptors.response.use((e=>{const t=e.data;if(200!==e.status||"blob"!==e.config.responseType)return 0!==t.code?(-1===t.code?_s(t.msg):[400,402,403,404,405,502,500].includes(t.code)?ks(t.msg,"warning"):ks(t.msg),t):t;if(e.headers["content-disposition"]||e.headers["content-type"]&&-1!=e.headers["content-type"].indexOf("application/pdf"))return e;{const t=new Blob([e.data],{type:"application/json"}),s=new FileReader;s.onload=function(){const e=JSON.parse(this.result);e.msg&&ks(e.msg,1==e.code?"success":"error")},s.readAsText(t)}}),(e=>{if(e.response){const t=e.response;500==t.status?ks("服务器返回错误，请检查！"):t.data&&t.data.msg&&ks(t.data.msg)}return Promise.reject(e)}));var Us=Ss;const Ts={loginAPI:e=>Us({url:"common/pub/login",method:"post",data:e}),logoutAPI:()=>Us({url:"common/pub/logout",method:"post"}),bindClientIdAPI:e=>Us({url:"common/pub/bindUid",method:"post",data:e}),offlineAPI:e=>Us({url:"common/pub/offline",method:"post",data:e}),bindGroupAPI:e=>Us({url:"common/pub/bindGroup",method:"post",data:e}),sendCode:e=>Us({url:"common/pub/sendCode",method:"post",data:e}),getSystemInfo:e=>Us({url:"common/pub/getSystemInfo",method:"post",data:e}),register:e=>Us({url:"common/pub/register",method:"post",data:e}),uploadAvatar:e=>Us({url:"common/upload/uploadAvatar",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})};var Ms=Ts;i["default"].use(v.ZP);const Bs={userInfo:null,allAuth:null,socketAction:"",contactSync:"",toContactId:0,unread:0,allContacts:[],globalConfig:[],wsStatus:!0,setting:{sendKey:"1",theme:"default",isVoice:!0,avatarCricle:!1,hideMessageName:!1,hideMessageTime:!1}},Es={SET_USERINFO:(e,t)=>{r().set("UserInfo",t),e.userInfo=t,t.setting&&(e.setting=t.setting)},SET_AUTH:(e,t)=>{const s=t.authToken,i=t.sessionId;r().set("authToken",s),r().set("sessionId",i),Cs(s,i)},catchSocketAction(e,t){e.socketAction=t},updateUnread:(e,t)=>{e.unread=parseInt(t)},initContacts:(e,t)=>{e.allContacts=t},openChat:(e,t)=>{e.toContactId=t,e.contactSync=Math.random().toString(36).substr(-8)},updateSetting(e,t){e.userInfo.setting=t,e.setting=t},setGlobalConfig(e,t){e.globalConfig=t}},Rs={Login({commit:e,dispatch:t},s){return new Promise(((i,a)=>{Ms.loginAPI(s).then((t=>{const s=t.data||s;e("SET_AUTH",s),e("SET_USERINFO",s.userInfo),i(t)})).catch((e=>{t("LogOut"),a(e)}))}))},LogOut({commit:e}){return new Promise(((e,t)=>{Ms.logoutAPI().then((()=>{r().rm("authToken"),r().rm("sessionId"),r().rm("UserInfo"),vs(),us(),e()})).catch((e=>{t(e)}))}))},getSystemInfo({commit:e}){return new Promise(((t,s)=>{Ms.getSystemInfo().then((s=>{0==s.code&&(r().set("globalConfig",s.data),e("setGlobalConfig",s.data),t(s))})).catch((e=>{s(e)}))}))},sendCode({commit:e},t){return new Promise(((e,s)=>{Ms.sendCode(t).then((t=>{e(t)})).catch((e=>{s(e)}))}))}};var Ns=new v.ZP.Store({state:Bs,mutations:Es,actions:Rs}),Fs=s(5602),Ls=s.n(Fs),Ps=s(1081);i["default"].directive("outside",Ps.Z);var Ds=s(530),js=s.n(Ds);const Qs=["/login","/register"],zs=["/","/demo","/chat"];ps.beforeEach(((e,t,s)=>{if(e.meta.disabled)s(!1);else if(js().start(),bs()){let t=r().get("globalConfig"),i=t.demon_mode,a="";i&&(a="/demo");let n=r().get("UserInfo");Qs.includes(e.path)||"/"==e.path&&a?(s({path:a}),js().done()):zs.includes(e.path)&&0==t.sysInfo.state?(n&&n.role>0||i?s({path:"/manage/index"}):s({path:"/404",query:{msg:t.sysInfo.closeTips}}),js().done()):-1!==e.path.indexOf("manage")?n&&n.role>0||i?s():(m.Message.error("您没有权限访问该页面"),s(!1),js().done()):s()}else-1!==Qs.indexOf(e.path)?s():(s("/login"),js().done())})),ps.afterEach((()=>{js().done()})),ps.onError((e=>{const t=/Loading chunk (\d)+ failed/g,s=e.message.match(t),i=ps.history.pending.fullPath;s&&ps.replace(i)}));var Vs,Gs,Js,Os,$s,qs,Ys,Zs,Ws,Ks,Hs=JSON.parse('{"name":"Raingad-IM","version":"4.2.0","description":"一款基于vue2.0的即时聊天工具","logo":"https://im.file.raingad.com/logo/logo.png","frontUrl":"https://gitee.com/raingad/im-chat-front","backstageUrl":"https://gitee.com/raingad/im-instant-chat","mobileUrl":"https://im.raingad.com/h5","author":"Raingad","license":"Apache2.0","qqGroupUrl":"https://jq.qq.com/?_wv=1027&k=jMQAt9lh","private":true,"funcList":[{"icon":"el-icon-chat-line-round","text":"支持单聊和群聊，支持发送表情、图片、语音、视频和文件消息"},{"icon":"el-icon-potato-strips","text":"单聊支持消息已读未读的状态显示，在线状态显示"},{"icon":"el-icon-user","text":"群聊创建、删除和群成员管理、群公告、群禁言、@群成员等"},{"icon":"el-icon-ice-cream-round","text":"支持置顶联系人，消息免打扰；支持设置新消息声音提醒，浏览器通知"},{"icon":"el-icon-video-camera","text":"支持一对一音视频通话（已打通web端和移动端，小程序不支持）"},{"icon":"el-icon-milk-tea","text":"支持文件、图片和绝大部分媒体文件在线预览"},{"icon":"el-icon-mobile-phone","text":"支持移动端（由uniapp开发，可打包H5、APP和小程序），支持简易后台管理"},{"icon":"el-icon-coffee-cup","text":"全新支持企业模式和社区模式，社区模式支持注册、添加好友功能"}],"scripts":{"serve":"vue-cli-service serve","build":"vue-cli-service build","lint":"vue-cli-service lint"},"dependencies":{"axios":"^0.21.4","core-js":"^3.8.3","cropperjs":"^1.5.13","element-ui":"^2.15.13","js-audio-recorder":"^1.0.7","js-web-screen-shot":"^1.9.8-rc.3","lemon-imui":"^1.7.7","lemon-imui-rx":"^1.8.9","lockr":"^0.8.5","nprogress":"^0.2.0","v-clipboard":"^2.2.3","vue":"^2.6.14","vue-canvas-poster":"^1.2.1","vue-qr":"^4.0.9","vue-router":"^3.5.1","vuex":"^3.6.2"},"devDependencies":{"@babel/core":"^7.12.16","@babel/eslint-parser":"^7.12.16","@vue/cli-plugin-babel":"~5.0.0","@vue/cli-plugin-eslint":"~5.0.0","@vue/cli-plugin-router":"~5.0.0","@vue/cli-plugin-vuex":"~5.0.0","@vue/cli-service":"~5.0.0","eslint":"^7.32.0","eslint-config-prettier":"^8.3.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-vue":"^8.0.3","prettier":"^2.4.1","sass":"^1.32.7","sass-loader":"^12.0.0","vue-template-compiler":"^2.6.14"},"rules":{"generator-star-spacing":"off","no-tabs":"off","no-unused-vars":"off","no-console":"off","no-irregular-whitespace":"off","no-debugger":"off"}}'),Xs=s(8701),ei=s.n(Xs),ti={name:"lemonMessageVoice",inheritAttrs:!1,inject:["IMUI"],render(){const e=arguments[0];return e("lemon-message-basic",ei()([{class:"lemon-message-voice"},{props:{...this.$attrs}},{attrs:{reverse:this.$attrs.reverse,message:this.$attrs.message,hideName:this.$attrs.hideName,hideTime:this.$attrs.hideTime},scopedSlots:{content:t=>e("div",{class:["voice-card lz-flex lz-justify-content-start lz-align-items-center",{"im-rows-reverse":this.$attrs.reverse}],style:{width:3*t.extends.duration+"px"}},[e("div",{class:["iconfont icon-im-yuyin f-16",{"voice-icon":t.isPlay},{rotate180:this.$attrs.reverse}]}),"  ",e("div",[t.extends.duration,'"'])])}}]))}},si=ti,ii=(0,d.Z)(si,Vs,Gs,!1,null,null,null),ai=ii.exports,ni={name:"lemonMessageVideo",inheritAttrs:!1,inject:["IMUI"],render(){const e=arguments[0];return e("lemon-message-basic",ei()([{class:"lemon-message-video"},{props:{...this.$attrs}},{attrs:{reverse:this.$attrs.reverse,message:this.$attrs.message,hideName:this.$attrs.hideName,hideTime:this.$attrs.hideTime},scopedSlots:{content:t=>e("div",{class:["video-card"],style:{}},[e("el-image",{style:"max-height: 200px",attrs:{src:t.extends.poster,fit:"cover"}},[e("div",{slot:"error",class:"image-slot"},[e("i",{class:"el-icon-picture-outline"})])]),e("div",{class:"video-shadow"},[e("div",{class:"el-icon el-icon-video-play c-white f-28 video-icon"})])])}}]))}},oi=ni,ri=(0,d.Z)(oi,Js,Os,!1,null,null,null),li=ri.exports,ci={name:"lemonMessageWebrtc",inheritAttrs:!1,inject:["IMUI"],render(){const e=arguments[0];return e("lemon-message-basic",ei()([{class:"lemon-message-webrtc"},{props:{...this.$attrs}},{attrs:{reverse:this.$attrs.reverse,message:this.$attrs.message,hideName:this.$attrs.hideName,hideTime:this.$attrs.hideTime},scopedSlots:{content:t=>e("div",{class:["voice-card lz-flex lz-justify-content-start lz-align-items-center",{"im-rows-reverse":this.$attrs.reverse}],style:""},[e("div",{class:["el-icon f-16",{"el-icon-phone-outline":0==t.extends.type},{"el-icon-video-camera":1==t.extends.type},{rotate180:this.$attrs.reverse}]}),"  ",e("div",[t.content])])}}]))}},di=ci,ui=(0,d.Z)(di,$s,qs,!1,null,null,null),pi=ui.exports,mi=s(3817),hi={name:"lemonMessageFile",inheritAttrs:!1,render(){const e=arguments[0];return e("lemon-message-basic",ei()([{class:"lemon-message-file"},{props:{...this.$attrs}},{scopedSlots:{content:t=>[e("div",{class:"lemon-message-file__inner"},[e("p",{class:"lemon-message-file__name"},[t.fileName]),e("p",{class:"lemon-message-file__byte"},[(0,mi.hR)(t.fileSize)])]),e("div",{class:"lemon-message-file__sfx"},[e("img",{attrs:{src:t.extUrl},style:"width:34px;height:42px"})])]}}]))}},gi=hi,fi=(0,d.Z)(gi,Ys,Zs,!1,null,"8e81f66c",null),vi=fi.exports,Ci={name:"lemonMessageText",inheritAttrs:!1,inject:["IMUI"],render(){const e=arguments[0];return e("lemon-message-basic",ei()([{class:"lemon-message-text"},{props:{...this.$attrs}},{scopedSlots:{content:t=>{const s=this.IMUI.emojiNameToImage(t.content),i=t.extends&&t.extends.content;return e("div",[e("span",ei()([{},{domProps:{innerHTML:s}}])),i?e("div",{class:"message-quote"},[e("span",[t.extends.content])]):""])}}}]))}},bi=Ci,yi=(0,d.Z)(bi,Ws,Ks,!1,null,"20b10682",null),wi=yi.exports;const xi={getTaskList:e=>Us({url:"/manage/Task/getTaskList",method:"post",data:e}),startTask:e=>Us({url:"/manage/Task/startTask",method:"post",data:e}),stopTask:e=>Us({url:"/manage/Task/stopTask",method:"post",data:e}),getTaskLog:e=>Us({url:"/manage/Task/getTaskLog",method:"post",data:e}),clearTaskLog:e=>Us({url:"/manage/Task/clearTaskLog",method:"post",data:e})};var Ai=xi;const ki={setConfig:e=>Us({url:"manage/config/setConfig",method:"post",data:e}),getConfig:e=>Us({url:"manage/config/getConfig",method:"post",data:e}),getAllConfig:e=>Us({url:"manage/config/getAllConfig",method:"post",data:e}),getInviteLink:e=>Us({url:"manage/config/getInviteLink",method:"post",data:e}),sendTestEmail:e=>Us({url:"manage/config/sendTestEmail",method:"post",data:e})};var _i=ki;const Ii={getUserList:e=>Us({url:"/manage/User/index",method:"post",data:e}),addUser:e=>Us({url:"/manage/User/add",method:"post",data:e}),editUser:e=>Us({url:"/manage/User/edit",method:"post",data:e}),delUser:e=>Us({url:"/manage/User/del",method:"post",data:e}),getUserDetail:e=>Us({url:"/manage/User/detail",method:"post",data:e}),editPassword:e=>Us({url:"/manage/User/editPassword",method:"post",data:e}),setStatus:e=>Us({url:"/manage/User/setStatus",method:"post",data:e}),setRole:e=>Us({url:"/manage/User/setRole",method:"post",data:e})};var Si=Ii;const Ui={getGroupList:e=>Us({url:"/manage/Group/index",method:"post",data:e}),addGroupUser:e=>Us({url:"/manage/Group/addGroupUser",method:"post",data:e}),delGroupUser:e=>Us({url:"/manage/Group/delGroupUser",method:"post",data:e}),changeOwner:e=>Us({url:"/manage/Group/changeOwner",method:"post",data:e}),setManager:e=>Us({url:"/manage/Group/setManager",method:"post",data:e}),delGroup:e=>Us({url:"/manage/Group/del",method:"post",data:e})};var Ti=Ui;const Mi={getContactsAPI:e=>Us({url:"enterprise/im/getContacts",method:"post",data:e}),sendMessageAPI:e=>Us({url:"enterprise/im/sendMessage",method:"post",data:e}),forwardMessageAPI:e=>Us({url:"enterprise/im/forwardMessage",method:"post",data:e}),sendToMsg:e=>Us({url:"enterprise/im/sendToMsg",method:"post",data:e})};Mi.forwardMessageAPI=e=>Us({url:"enterprise/im/forwardMessage",method:"post",data:e}),Mi.sendFileAPI=e=>Us({url:"common/upload/uploadFile",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}}),Mi.getMessageListAPI=e=>Us({url:"enterprise/im/getMessageList",method:"post",data:e}),Mi.setMsgIsReadAPI=e=>Us({url:"enterprise/im/setMsgIsRead",method:"post",data:e}),Mi.undoMessageAPI=e=>Us({url:"enterprise/im/undoMessage",method:"post",data:e}),Mi.removeMessageAPI=e=>Us({url:"enterprise/im/removeMessage",method:"post",data:e}),Mi.settingAPI=e=>Us({url:"enterprise/im/setting",method:"post",data:e}),Mi.editGroupNameAPI=e=>Us({url:"enterprise/group/editGroupName",method:"post",data:e}),Mi.groupUserListAPI=e=>Us({url:"enterprise/group/groupuserlist",method:"post",data:e}),Mi.getAllUserAPI=e=>Us({url:"enterprise/group/getAllUser",method:"post",data:e}),Mi.addGroupAPI=e=>Us({url:"enterprise/group/add",method:"post",data:e}),Mi.setManagerAPI=e=>Us({url:"enterprise/group/setManager",method:"post",data:e}),Mi.removeUserAPI=e=>Us({url:"enterprise/group/removeUser",method:"post",data:e}),Mi.addGroupUserAPI=e=>Us({url:"enterprise/group/addGroupUser",method:"post",data:e}),Mi.removeGrouprAPI=e=>Us({url:"enterprise/group/removeGroup",method:"post",data:e}),Mi.setNoticeAPI=e=>Us({url:"enterprise/group/setNotice",method:"post",data:e}),Mi.groupSettingAPI=e=>Us({url:"enterprise/group/groupSetting",method:"post",data:e}),Mi.clearMessageAPI=e=>Us({url:"enterprise/group/clearMessage",method:"post",data:e}),Mi.getGroupInfoAPI=e=>Us({url:"enterprise/group/groupInfo",method:"post",data:e}),Mi.changeOwnerAPI=e=>Us({url:"enterprise/group/changeOwner",method:"post",data:e}),Mi.isNoticeAPI=e=>Us({url:"enterprise/im/isNotice",method:"post",data:e}),Mi.setChatTopAPI=e=>Us({url:"enterprise/im/setChatTop",method:"post",data:e}),Mi.getUserInfo=e=>Us({url:"enterprise/im/getUserInfo",method:"post",data:e}),Mi.getFileList=e=>Us({url:"enterprise/files/index",method:"post",data:e}),Mi.updateUserInfo=e=>Us({url:"enterprise/im/updateUserInfo",method:"post",data:e}),Mi.editAccount=e=>Us({url:"enterprise/im/editAccount",method:"post",data:e}),Mi.editPassword=e=>Us({url:"enterprise/im/editpassword",method:"post",data:e}),Mi.searchUser=e=>Us({url:"enterprise/im/searchUser",method:"post",data:e});var Bi=Mi;const Ei={getApplyList:e=>Us({url:"enterprise/friend/index",method:"post",data:e}),addFriend:e=>Us({url:"enterprise/friend/add",method:"post",data:e}),delFriend:e=>Us({url:"enterprise/friend/del",method:"post",data:e}),acceptFriend:e=>Us({url:"enterprise/friend/update",method:"post",data:e}),setNickname:e=>Us({url:"enterprise/friend/setNickname",method:"post",data:e}),getApplyMsg:e=>Us({url:"enterprise/friend/getApplyMsg",method:"post",data:e})};var Ri=Ei,Ni={taskApi:Ai,configApi:_i,userApi:Si,groupApi:Ti,imApi:Bi,commonApi:Ms,friendApi:Ri};i["default"].use(x),i["default"].use(T),i["default"].use(h(),{size:"small"}),i["default"].use(B()),i["default"].use(Ns),i["default"].use(Ls()),i["default"].config.productionTip=!1,i["default"].prototype.$packageData=Hs,i["default"].component(li.name,li),i["default"].component(ai.name,ai),i["default"].component(pi.name,pi),i["default"].component(vi.name,vi),i["default"].component(wi.name,wi),i["default"].prototype.$api=Ni,new i["default"]({el:"#app",router:ps,store:Ns,components:{App:p},template:"<App/>"})},3817:function(e,t,s){"use strict";function i(e){let t=new Array(" B"," KB"," MB"," GB"," TB"),s=e+"B";for(let i=0;e>=1024&&i<4;i++)e/=1024,s=e.toFixed(2)+t[i+1];return s}function a(e){var t="https://file.lcoce.com/ext/",s=e.split("."),i=s[s.length-1],a=i.toUpperCase(),n=["jpg","jpeg","png","bmp","gif","pdf","mp3","wav","wmv","amr","mp4","3gp","avi","m2v","mkv","mov","webp","ppt","pptx","doc","docx","xls","xlsx","pdf"];return n.includes(a)?t+a+".png":t+"icon/document.svg"}function n(e,t){let s=document.createElement("a"),i=e.split(".").pop(),a=["jpg","jpeg","png","bmp","gif","pdf","mp3","wav","wmv","amr","mp4","3gp","avi","m2v","mkv","mov","webp"];-1!==a.indexOf(i)?s.download=t||"pic":s.download=t||"file",s.href=e,s.click()}s.d(t,{AC:function(){return a},LR:function(){return n},hR:function(){return i}})},2325:function(e,t,s){"use strict";s.d(t,{L4:function(){return n},NW:function(){return l},Nj:function(){return a},hT:function(){return r},i$:function(){return o},iu:function(){return i},nZ:function(){return c}});s(2801),s(7658),s(3408),s(4590);function i(e,t,s){if("object"!==typeof e)return!1;for(var i=[],a=0;e.length>a;a++)if("object"==typeof t)for(var n=0;t.length>n;n++){var o=t[n],r=e[a][o];if(-1!=r.indexOf(s)){i.push(e[a]);break}}else{r=e[a][t];-1!=r.indexOf(s)&&i.push(e[a])}return i}function a(e,t,s){s="undefined"!==typeof s&&s;for(var i=[],a=0;a<e.length;a++)i.push(e[a][t]);return!0===s?i.join(","):i}function n(e,t,s){for(var i=0;i<e.length;i++)e[i]["disabled"]=!1,e[i][t]==s&&(e[i]["disabled"]=!0);return e}function o(e){const t=new Date,s=new Date(e),i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(i-864e5),n=new Date(i-24*(i.getDay()-1)*60*60*1e3),o=new Date(t.getFullYear(),0,1);if(s>=i)return r("H:i",e/1e3);if(s>=a&&s<i)return"昨天";if(s>=n&&s<a){const e=["周日","周一","周二","周三","周四","周五","周六"],t=e[s.getDay()];return t}return r(s>=o&&s<n?"m-d":"Y-m-d",e/1e3)}function r(e,t){var s=t?new Date(1e3*t):new Date,i=function(e,t){return(e+="").length<t?new Array(++t-e.length).join("0")+e:e},a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n={1:"st",2:"nd",3:"rd",21:"st",22:"nd",23:"rd",31:"st"},o=["","January","February","March","April","May","June","July","August","September","October","November","December"],l={d:function(){return i(l.j(),2)},D:function(){return l.l().substr(0,3)},j:function(){return s.getDate()},l:function(){return a[l.w()]},N:function(){return l.w()+1},S:function(){return n[l.j()]?n[l.j()]:"th"},w:function(){return s.getDay()},z:function(){return(s-new Date(s.getFullYear()+"/1/1"))/864e5>>0},W:function(){var e,t=l.z(),i=364+l.L()-t,a=(new Date(s.getFullYear()+"/1/1").getDay()||7)-1;return i<=2&&(s.getDay()||7)-1<=2-i?1:t<=2&&a>=4&&t>=6-a?(e=new Date(s.getFullYear()-1+"/12/31"),r("W",Math.round(e.getTime()/1e3))):1+(a<=3?(t+a)/7:(t-(7-a))/7)>>0},F:function(){return o[l.n()]},m:function(){return i(l.n(),2)},M:function(){return l.F().substr(0,3)},n:function(){return s.getMonth()+1},t:function(){var e;return 2===(e=s.getMonth()+1)?28+l.L():1&e&&e<8||!(1&e)&&e>7?31:30},L:function(){var e=l.Y();return 3&e||!(e%100)&&e%400?0:1},Y:function(){return s.getFullYear()},y:function(){return(s.getFullYear()+"").slice(2)},a:function(){return s.getHours()>11?"pm":"am"},A:function(){return l.a().toUpperCase()},B:function(){var e=60*(s.getTimezoneOffset()+60),t=3600*s.getHours()+60*s.getMinutes()+s.getSeconds()+e,i=Math.floor(t/86.4);return i>1e3&&(i-=1e3),i<0&&(i+=1e3),1===String(i).length&&(i="00"+i),2===String(i).length&&(i="0"+i),i},g:function(){return s.getHours()%12||12},G:function(){return s.getHours()},h:function(){return i(l.g(),2)},H:function(){return i(s.getHours(),2)},i:function(){return i(s.getMinutes(),2)},s:function(){return i(s.getSeconds(),2)},O:function(){var e=i(Math.abs(s.getTimezoneOffset()/60*100),4);return e=s.getTimezoneOffset()>0?"-"+e:"+"+e,e},P:function(){var e=l.O();return e.substr(0,3)+":"+e.substr(3,2)},c:function(){return l.Y()+"-"+l.m()+"-"+l.d()+"T"+l.h()+":"+l.i()+":"+l.s()+l.P()},U:function(){return Math.round(s.getTime()/1e3)}};let c="";return e.replace(/[\\]?([a-zA-Z])/g,(function(e,t){return c=e!==t?t:l[t]?l[t]():t,c}))}function l(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var s=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?s:3&s|8).toString(16)}));return t}function c(e,t){let s="[暂不支持的消息类型]";switch(e){case"image":s="[图片]";break;case"voice":s="[语音]";break;case"video":s="[视频]";break;case"file":s="[文件]";break;case"webrtc":s=t?"[正在请求与您视频通话]":"[正在请求与您语音通话]";break}return s}},5617:function(e){"use strict";e.exports="data:image/png;base64,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"},9072:function(e){"use strict";e.exports="data:image/png;base64,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"},8421:function(e){"use strict";e.exports="data:image/png;base64,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"},8516:function(e){"use strict";e.exports="data:image/png;base64,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"},2414:function(e){"use strict";e.exports="data:image/png;base64,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"},2942:function(e){"use strict";e.exports="data:image/png;base64,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"},7420:function(e,t,s){"use strict";e.exports=s.p+"assets/media/calling.69742e4c.mp3"},1739:function(e,t,s){"use strict";e.exports=s.p+"assets/media/guaduan.c0b3124b.mp3"},444:function(e,t,s){"use strict";e.exports=s.p+"assets/media/notify.3d49176d.mp3"},1315:function(e,t,s){"use strict";e.exports=s.p+"assets/media/notify.7668dd76.ogg"},8611:function(e,t,s){"use strict";e.exports=s.p+"assets/media/notify.e6953ff1.wav"},4654:function(){}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var n=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=e,function(){s.amdO={}}(),function(){var e=[];s.O=function(t,i,a,n){if(!i){var o=1/0;for(d=0;d<e.length;d++){i=e[d][0],a=e[d][1],n=e[d][2];for(var r=!0,l=0;l<i.length;l++)(!1&n||o>=n)&&Object.keys(s.O).every((function(e){return s.O[e](i[l])}))?i.splice(l--,1):(r=!1,n<o&&(o=n));if(r){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[i,a,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,i){return s.f[i](e,t),t}),[]))}}(),function(){s.u=function(e){return"assets/js/"+e+"."+{103:"b4d6ff11",133:"3a1dfa9e",142:"e41fdf4c",173:"717de65b",567:"a6404721",584:"ee3c939b"}[e]+".js"}}(),function(){s.miniCssF=function(e){return"assets/css/"+e+"."+{103:"3dea0404",133:"7f9367b6",142:"44e0da9b",173:"fc941ab9",567:"08ec972a",584:"265b8ce0"}[e]+".css"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="Raingad-IM:";s.l=function(i,a,n,o){if(e[i])e[i].push(a);else{var r,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+n){r=u;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,s.nc&&r.setAttribute("nonce",s.nc),r.setAttribute("data-webpack",t+n),r.src=i),e[i]=[a];var p=function(t,s){r.onerror=r.onload=null,clearTimeout(m);var a=e[i];if(delete e[i],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach((function(e){return e(s)})),t)return t(s)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p=""}(),function(){var e=function(e,t,s,i){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var n=function(n){if(a.onerror=a.onload=null,"load"===n.type)s();else{var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=o,l.request=r,a.parentNode.removeChild(a),i(l)}};return a.onerror=a.onload=n,a.href=t,document.head.appendChild(a),a},t=function(e,t){for(var s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var a=s[i],n=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(n===e||n===t))return a}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){a=o[i],n=a.getAttribute("data-href");if(n===e||n===t)return a}},i=function(i){return new Promise((function(a,n){var o=s.miniCssF(i),r=s.p+o;if(t(o,r))return a();e(i,r,a,n)}))},a={143:0};s.f.miniCss=function(e,t){var s={103:1,133:1,142:1,173:1,567:1,584:1};a[e]?t.push(a[e]):0!==a[e]&&s[e]&&t.push(a[e]=i(e).then((function(){a[e]=0}),(function(t){throw delete a[e],t})))}}(),function(){var e={143:0};s.f.j=function(t,i){var a=s.o(e,t)?e[t]:void 0;if(0!==a)if(a)i.push(a[2]);else{var n=new Promise((function(s,i){a=e[t]=[s,i]}));i.push(a[2]=n);var o=s.p+s.u(t),r=new Error,l=function(i){if(s.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var n=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;r.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",r.name="ChunkLoadError",r.type=n,r.request=o,a[1](r)}};s.l(o,l,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,n,o=i[0],r=i[1],l=i[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(l)var d=l(s)}for(t&&t(i);c<o.length;c++)n=o[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(d)},i=self["webpackChunkRaingad_IM"]=self["webpackChunkRaingad_IM"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(6066)}));i=s.O(i)})();