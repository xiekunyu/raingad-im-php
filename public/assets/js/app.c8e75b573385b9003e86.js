webpackJsonp([2],{"/gcQ":function(t,e){},"/q88":function(t,e){},"0xDb":function(t,e,n){"use strict";e.e=function(t,e,n){if("object"!==(void 0===t?"undefined":a()(t)))return!1;for(var i=[],s=0;t.length>s;s++)if("object"==(void 0===e?"undefined":a()(e)))for(var o=0;e.length>o;o++){var r=e[o],c=t[s][r];if(-1!=c.indexOf(n)){i.push(t[s]);break}}else{var c=t[s][e];-1!=c.indexOf(n)&&i.push(t[s])}return i},e.a=function(t,e,n){n=void 0!==n&&n;for(var i=[],a=0;a<t.length;a++)i.push(t[a][e]);return!0===n?i.join(","):i},e.c=function(t,e,n){for(var i=0;i<t.length;i++)t[i][e]==n&&t.splice(i,1);return t},e.d=function(t,e,n){for(var i=0;i<t.length;i++)t[i].disabled=!1,t[i][e]==n&&(t[i].disabled=!0);return t},e.f=o,e.b=r;var i=n("pFYg"),a=n.n(i),s=n("mvHQ");n.n(s);function o(t){var e=parseInt(t/1e3);return function(t){return(new Date).getTime()-t<864e5}(t)?r("H:i",e):r("Y/m/d",e)}function r(t,e){var n=e?new Date(1e3*e):new Date,i=function(t,e){return(t+="").length<e?new Array(++e-t.length).join("0")+t:t},a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={1:"st",2:"nd",3:"rd",21:"st",22:"nd",23:"rd",31:"st"},o=["","January","February","March","April","May","June","July","August","September","October","November","December"],c={d:function(){return i(c.j(),2)},D:function(){return c.l().substr(0,3)},j:function(){return n.getDate()},l:function(){return a[c.w()]},N:function(){return c.w()+1},S:function(){return s[c.j()]?s[c.j()]:"th"},w:function(){return n.getDay()},z:function(){return(n-new Date(n.getFullYear()+"/1/1"))/864e5>>0},W:function(){var t,e=c.z(),i=364+c.L()-e,a=(new Date(n.getFullYear()+"/1/1").getDay()||7)-1;return i<=2&&(n.getDay()||7)-1<=2-i?1:e<=2&&a>=4&&e>=6-a?(t=new Date(n.getFullYear()-1+"/12/31"),r("W",Math.round(t.getTime()/1e3))):1+(a<=3?(e+a)/7:(e-(7-a))/7)>>0},F:function(){return o[c.n()]},m:function(){return i(c.n(),2)},M:function(){return c.F().substr(0,3)},n:function(){return n.getMonth()+1},t:function(){var t;return 2===(t=n.getMonth()+1)?28+c.L():1&t&&t<8||!(1&t)&&t>7?31:30},L:function(){var t=c.Y();return 3&t||!(t%100)&&t%400?0:1},Y:function(){return n.getFullYear()},y:function(){return(n.getFullYear()+"").slice(2)},a:function(){return n.getHours()>11?"pm":"am"},A:function(){return c.a().toUpperCase()},B:function(){var t=60*(n.getTimezoneOffset()+60),e=3600*n.getHours()+60*n.getMinutes()+n.getSeconds()+t,i=Math.floor(e/86.4);return i>1e3&&(i-=1e3),i<0&&(i+=1e3),1===String(i).length&&(i="00"+i),2===String(i).length&&(i="0"+i),i},g:function(){return n.getHours()%12||12},G:function(){return n.getHours()},h:function(){return i(c.g(),2)},H:function(){return i(n.getHours(),2)},i:function(){return i(n.getMinutes(),2)},s:function(){return i(n.getSeconds(),2)},O:function(){var t=i(Math.abs(n.getTimezoneOffset()/60*100),4);return t=n.getTimezoneOffset()>0?"-"+t:"+"+t},P:function(){var t=c.O();return t.substr(0,3)+":"+t.substr(3,2)},c:function(){return c.Y()+"-"+c.m()+"-"+c.d()+"T"+c.h()+":"+c.i()+":"+c.s()+c.P()},U:function(){return Math.round(n.getTime()/1e3)}};return t.replace(/[\\]?([a-zA-Z])/g,function(t,e){return t!==e?e:c[e]?c[e]():e})}},"301y":function(t,e){},"8kha":function(t,e,n){"use strict";var i=n("0xDb");function a(t){for(var e=new Array(" B"," KB"," MB"," GB"," TB"),n=t+"B",i=0;t>=1024&&i<4;i++)n=(t/=1024).toFixed(2)+e[i+1];return n}function s(t){var e=t.split(".");if(!(n=e[e.length-1].toUpperCase()))var n="";return"https://file.lcoce.com/ext/"+n+".png"}function o(t,e,n){var i=document.createElement("a");i.download="image"==n?e||"pic":e||"file",i.href=t,i.click()}var r={name:"chatItem",components:{preview:n("pjYA").a},props:{data:{type:Object,default:{}}},computed:{formatTime:function(){return function(t){return t=parseInt(t/1e3),Object(i.b)("Y/m/d H:i:s",t)}},fileSize:function(){return function(t){return a(t)}},fileExt:function(){return function(t){return s(t)}}},data:function(){return{drawer:!1,previewUrl:"",componentKey:1}},methods:{copyText:function(t){this.$clipboard(t),this.$message({type:"success",message:"复制成功!"})},onlinePreview:function(t){this.drawer=!0,this.componentKey+=1,this.previewUrl=t.preview},downloadFile:function(t){o(t.content,t.fileName,t.type)}},created:function(){}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chat-list-item"},[n("div",{staticClass:"chat-list-avatar"},[n("el-avatar",{attrs:{shape:"square",size:"medium",src:t.data.fromUser.avatar}})],1),t._v(" "),n("div",{staticClass:"chat-list-body"},[n("div",{staticClass:"chat-list-title"},[t._v("\n      "+t._s(t.data.fromUser.realname)+"\n      "),n("span",{staticClass:"time"},[t._v(" "+t._s(t.formatTime(t.data.sendTime)))])]),t._v(" "),"text"==t.data.type?n("div",{staticClass:"chat-list-text",domProps:{innerHTML:t._s(t.data.content)}}):t._e(),t._v(" "),"text"==t.data.type?n("div",{staticClass:"chat-list-tools"},[n("el-tooltip",{attrs:{effect:"dark",content:"复制文本",placement:"top"}},[n("i",{staticClass:"el-icon-document-copy",on:{click:function(e){return t.copyText(t.data.content)}}})])],1):t._e(),t._v(" "),"image"==t.data.type?n("div",{staticClass:"chat-list-image"},[n("el-image",{staticStyle:{"max-width":"300px","max-height":"200px"},attrs:{src:t.data.content,"z-index":3e3,"preview-src-list":[t.data.content],fit:"contain"}})],1):t._e(),t._v(" "),"file"==t.data.type?n("div",{staticClass:"chat-list-file"},[n("el-card",{staticStyle:{width:"260px"},attrs:{"body-style":{padding:"10px 10px 0 10px"}}},[n("div",{staticClass:"chat-file-content"},[n("div",{staticClass:"chat-file-ext"},[n("el-image",{staticStyle:{width:"35px"},attrs:{src:t.fileExt(t.data.fileName),fit:"fill"}})],1),t._v(" "),n("div",{staticClass:"chat-file-title"},[n("div",{staticClass:"chat-file-name"},[n("span",{staticClass:"fileName"},[t._v(t._s(t.data.fileName)+" ")]),t._v(" "),n("span",{staticClass:"fileSize"},[t._v("("+t._s(t.fileSize(t.data.fileSize))+")")])]),t._v(" "),n("div",{staticClass:"chat-file-remark"},[t._v("\n              文件已成功发送, 文件助手永久保存\n            ")])])]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"bottom clearfix",attrs:{align:"right"}},[n("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(e){return t.downloadFile(t.data)}}},[t._v("下载")]),t._v(" "),n("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(e){return t.onlinePreview(t.data)}}},[t._v("在线预览")])],1)])],1):t._e()]),t._v(" "),n("preview",{key:t.componentKey,attrs:{drawer:t.drawer,previewUrl:t.previewUrl}})],1)},staticRenderFns:[]};var l=n("VU/8")(r,c,!1,function(t){n("iw6e")},"data-v-6f00e0e0",null).exports,u={name:"chatImage",props:{data:{type:Object,default:{}},previewUrl:{type:Array,default:function(){return[]}}},computed:{formatTime:function(){return function(t){return t=parseInt(t/1e3),Object(i.b)("Y/m/d",t)}},fileSize:function(){return function(t){return a(t)}},fileExt:function(){return function(t){return s(t)}}},data:function(){return{currentDate:new Date}},methods:{copyText:function(t){this.$clipboard(t),this.$message({type:"success",message:"复制成功!"})},downloadFile:function(t){o(t.content,t.fileName,t.type)}},created:function(){}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-col",{staticStyle:{padding:"0 12px 12px 0"},attrs:{span:6}},[n("el-card",{attrs:{"body-style":{padding:"0px"}}},[n("el-image",{staticStyle:{width:"100%",height:"120px"},attrs:{src:t.data.content,"preview-src-list":t.previewUrl,"z-index":9999,fit:"cover"}}),t._v(" "),n("div",{staticStyle:{padding:"10px"}},[n("div",{staticClass:"bottom clearfix"},[n("time",{staticClass:"time"},[t._v(t._s(t.data.fromUser.realname)+" 上传于 "+t._s(t.formatTime(t.data.sendTime)))])])])],1)],1)],1)},staticRenderFns:[]};var _=n("VU/8")(u,d,!1,function(t){n("KRSj")},"data-v-13ae8544",null).exports,p=n("yBYt"),m={name:"chatRecord",components:{ChatItem:l,ChatImage:_},props:{contact:{type:Object,default:{}}},computed:{formatTime:function(){return function(t){return t/=1e3,Object(i.b)("Y/m/d H:i:s",t)}},fileSize:function(){return function(t){return a(t)}},fileExt:function(){return function(t){return s(t)}}},data:function(){return{activeName:"all",keywords:"",msgType:"all",pageSize:1,listRows:20,total:0,singlePage:!1,dataList:[],previewList:[]}},methods:{handleClick:function(t,e){this.pageSize=1,this.msgType=t.name,this.getMessage()},searchMessage:function(){this.getMessage()},getMessage:function(){var t=this;Object(p.g)({toContactId:this.contact.id,is_group:this.contact.is_group,type:this.msgType,keywords:this.keywords,pageSize:this.pageSize,listRows:this.listRows}).then(function(e){t.dataList=e.data,t.total=e.count,e.count<=t.listRows?t.singlePage=!0:t.singlePage=!1,"image"==t.msgType&&(t.previewList=Object(i.a)(e.data,"content",!1))}).catch(function(t){console.log(t)})},handleCurrentChange:function(t){console.log(t),this.pageSize=t,this.getMessage()},downloadFile:function(t){o(t.content,t.fileName,t.type)}},created:function(){this.getMessage()},mounted:function(){}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chat-main"},[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入关键字搜索聊天"},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchMessage},slot:"append"})],1),t._v(" "),n("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"全部",name:"all"}},[n("div",{staticClass:"el-tab-body-list"},[n("el-scrollbar",{staticStyle:{height:"100%"}},t._l(t.dataList,function(t,e){return n("ChatItem",{key:e,attrs:{data:t}})}),1)],1)]),t._v(" "),n("el-tab-pane",{attrs:{label:"文本",name:"text"}},[n("div",{staticClass:"el-tab-body-list"},[n("el-scrollbar",{staticStyle:{height:"100%"}},t._l(t.dataList,function(t,e){return n("ChatItem",{key:e,attrs:{data:t}})}),1)],1)]),t._v(" "),n("el-tab-pane",{attrs:{label:"图片",name:"image"}},[n("div",{staticClass:"el-tab-body-list"},[n("el-scrollbar",{staticStyle:{height:"100%"}},[n("el-row",{staticStyle:{}},t._l(t.dataList,function(e,i){return n("ChatImage",{key:i,attrs:{data:e,previewUrl:t.previewList}})}),1)],1)],1)]),t._v(" "),n("el-tab-pane",{attrs:{label:"文件",name:"file"}},[n("div",{staticClass:"el-tab-body-list"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dataList,height:"450"}},[n("el-table-column",{attrs:{prop:"fileName",label:"文件",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"chat-file"},[n("div",[n("el-image",{staticClass:"fileExt",attrs:{fit:"cover",src:t.fileExt(e.row.fileName)}})],1),t._v(" "),n("div",{staticClass:"fileName"},[t._v(t._s(e.row.fileName))])])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"sendTime",label:"上传时间",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(t.formatTime(e.row.sendTime))+"\n            ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"fileSize",label:"大小",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(t.fileSize(e.row.fileSize))+"\n            ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"fromUser.realname",label:"上传者",width:"100"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.downloadFile(e.row)}}},[t._v("下载")])]}}])})],1)],1)])],1),t._v(" "),n("el-pagination",{attrs:{background:"","hide-on-single-page":t.singlePage,"page-size":t.listRows,"current-page":t.pageSize,layout:"prev, pager, next",total:t.total},on:{"update:pageSize":function(e){t.listRows=e},"update:page-size":function(e){t.listRows=e},"update:currentPage":function(e){t.pageSize=e},"update:current-page":function(e){t.pageSize=e},"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]};var g=n("VU/8")(m,f,!1,function(t){n("LBec")},"data-v-e3c82366",null);e.a=g.exports},IcnI:function(t,e,n){"use strict";var i=n("//Fk"),a=n.n(i),s=n("mvHQ"),o=n.n(s),r=n("7+uW"),c=n("NYxO"),l=n("RRJN"),u=n.n(l),d=n("TIfe"),_=n("M9A7"),p=n("YaEn");r.default.use(c.a);var m={SET_USERINFO:function(t,e){t.userInfo=e,localStorage.setItem("loginUserInfo",o()(e)),u.a.set("UserInfo",e)},SET_AUTH:function(t,e){var n=e.authToken,i=e.sessionId;u.a.set("authToken",n),u.a.set("sessionId",i),Object(d.a)(n,i)},catchSocketAction:function(t,e){t.socketAction=e}},f={Login:function(t,e){var n=t.commit,i=t.dispatch;return new a.a(function(t,a){Object(_.c)(e).then(function(e){var i=e.data||i;n("SET_AUTH",i),n("SET_USERINFO",i.userInfo),t(e)}).catch(function(t){console.log(t),i("LogOut"),a(t)})})},GetUserInfo:function(t){t.commit,t.state;return new a.a(function(t,e){})},LogOut:function(t){t.commit;return new a.a(function(t,e){Object(_.d)().then(function(){u.a.rm("authToken"),u.a.rm("sessionId"),Object(d.c)(),Object(p.b)(),t()}).catch(function(t){e(t)})})}};e.a=new c.a.Store({state:{userInfo:null,allAuth:null,socketAction:""},mutations:m,actions:f})},Ifj2:function(t,e){},KRSj:function(t,e){},LBec:function(t,e){},M9A7:function(t,e,n){"use strict";e.c=function(t){return Object(i.a)({url:"common/pub/login",method:"post",data:t})},e.d=function(){return Object(i.a)({url:"common/pub/logout",method:"post"})},e.a=function(t){return Object(i.a)({url:"common/pub/bindUid",method:"post",data:t})},e.b=function(t){return Object(i.a)({url:"common/pub/bindGroup",method:"post",data:t})};var i=n("vLgD")},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},a,!1,function(t){n("/q88")},null,null).exports,o=(n("tvR6"),n("zL8q")),r=n.n(o),c=n("tD9O"),l=n.n(c),u=(n("Ifj2"),n("YaEn")),d=n("IcnI"),_=n("DOD7"),p=n.n(_),m=n("Y81h"),f=n.n(m),g=(n("mtWM"),n("UVIz"),n("TIfe")),h=["/login","/welcome"];u.a.beforeEach(function(t,e,n){t.meta.disabled?n(!1):(f.a.start(),Object(g.b)()?h.includes(t.path)?(n({path:"/"}),f.a.done()):n():-1!==h.indexOf(t.path)?n():(n("/login"),f.a.done()))}),u.a.afterEach(function(){f.a.done()}),u.a.onError(function(t){var e=t.message.match(/Loading chunk (\d)+ failed/g),n=u.a.history.pending.fullPath;e&&u.a.replace(n)}),i.default.use(r.a,{size:"small"}),i.default.use(l.a),i.default.use(d.a),i.default.use(p.a),i.default.config.productionTip=!1,new i.default({el:"#app",router:u.a,store:d.a,components:{App:s},template:"<App/>"})},TIfe:function(t,e,n){"use strict";var i=n("//Fk"),a=n.n(i),s=n("mtWM"),o=n.n(s),r=n("IcnI"),c=n("RRJN"),l=n.n(c),u={loadingCache:function(){if(l.a.get("authKey")&&!o.a.defaults.headers.authKey){var t=l.a.get("loginUserInfo");t&&r.a.commit("SET_USERINFO",t)}r.a.commit("SET_APPNAME",l.a.get("systemName")),r.a.commit("SET_APPLOGO",l.a.get("systemLogo"))},updateAxiosCache:function(){o.a.defaults.headers.authKey=l.a.get("authKey"),o.a.defaults.headers.sessionId=l.a.get("sessionId"),r.a.dispatch("GetUserInfo")},updateAxiosHeaders:function(){o.a.defaults.headers.authKey=l.a.get("authKey"),o.a.defaults.headers.sessionId=l.a.get("sessionId")},rmAxiosCache:function(){l.a.rm("authKey"),l.a.rm("sessionId")}};e.c=function(){return new a.a(function(t,e){u.rmAxiosCache(),delete o.a.defaults.headers.authToken,delete o.a.defaults.headers.sessionId,t(!0)})},e.a=function(t,e){return new a.a(function(n,i){o.a.defaults.headers.authToken=t,o.a.defaults.headers.sessionId=e,n(!0)})},e.b=function(){l.a.get("authToken")&&!o.a.defaults.headers.authToken&&u.updateAxiosCache();if(l.a.get("authToken"))return!0;return!1}},UOlw:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__=__webpack_require__("Xxa5"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__=__webpack_require__("exGp"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise__=__webpack_require__("//Fk"),__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise__),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_extends__=__webpack_require__("Dd8w"),__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_extends___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_extends__),__WEBPACK_IMPORTED_MODULE_5_vuex__=__webpack_require__("NYxO"),__WEBPACK_IMPORTED_MODULE_6__utils_emoji__=__webpack_require__("ZEMu"),__WEBPACK_IMPORTED_MODULE_7__assets_img_login_background_jpg__=__webpack_require__("XEZe"),__WEBPACK_IMPORTED_MODULE_7__assets_img_login_background_jpg___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__assets_img_login_background_jpg__),__WEBPACK_IMPORTED_MODULE_8__api_im__=__webpack_require__("yBYt"),__WEBPACK_IMPORTED_MODULE_9__api_login__=__webpack_require__("M9A7"),__WEBPACK_IMPORTED_MODULE_10__utils_index__=__webpack_require__("0xDb"),__WEBPACK_IMPORTED_MODULE_11_lockr__=__webpack_require__("RRJN"),__WEBPACK_IMPORTED_MODULE_11_lockr___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_lockr__),__WEBPACK_IMPORTED_MODULE_12__components_socket__=__webpack_require__("wfVY"),__WEBPACK_IMPORTED_MODULE_13__components_preview__=__webpack_require__("pjYA"),__WEBPACK_IMPORTED_MODULE_14__components_chatRecord__=__webpack_require__("8kha"),__WEBPACK_IMPORTED_MODULE_15__components_chatSet__=__webpack_require__("c7hg"),__WEBPACK_IMPORTED_MODULE_16__components_chatTop__=__webpack_require__("gzb7"),getTime=function(){return(new Date).getTime()},generateRandId=function(){return Math.random().toString(36).substr(-8)},user=__WEBPACK_IMPORTED_MODULE_11_lockr___default.a.get("UserInfo");__webpack_exports__.a={name:"app",components:{Socket:__WEBPACK_IMPORTED_MODULE_12__components_socket__.a,preview:__WEBPACK_IMPORTED_MODULE_13__components_preview__.a,ChatRecord:__WEBPACK_IMPORTED_MODULE_14__components_chatRecord__.a,ChatSet:__WEBPACK_IMPORTED_MODULE_15__components_chatSet__.a,ChatTop:__WEBPACK_IMPORTED_MODULE_16__components_chatTop__.a},data:function(){var t=this,e=this.$createElement,n=this;return{Background:__WEBPACK_IMPORTED_MODULE_7__assets_img_login_background_jpg___default.a,componentKey:1,version:"0.6.26",softname:"Raingad IM",logo:"https://img.file.raingad.com/logo/logo.png",searchResult:!1,createChatBox:!1,addGroupUserBox:!1,forwardBox:!1,noticeBox:!1,messageBox:!1,groupSetting:!1,contactSetting:{},groupUserCount:0,notice:"",createChatTitles:["待选成员","已选成员"],selectUid:[],defaultProps:{key:"user_id",label:"realname",pinyin:"name_py"},contactsProps:{key:"id",label:"realname"},searchList:[],keywords:"",displayName:"",oldName:"",drawer:!1,previewUrl:"",isEdit:!1,settingBox:!1,tabPosition:"left",sendTips:"使用 Enter 键发送消息",setting:{theme:"blue",hideMessageName:!1,hideMessageTime:!1,avatarCricle:!0,sendKey:1,isVoice:!0},user:{id:user.user_id,displayName:user.realname,avatar:user.avatar,account:user.account},height:"640px",pageSize:1,listRows:10,is_group:0,group_id:0,contacts:[],allUser:[],groupUser:[],currentChat:{},currentMessage:{},chatTopList:[],groupMenu:[{text:"发送消息",click:function(t,e,n){var i=e.IMUI,a=e.contact;i.changeContact(a.user_id),n()},visible:function(e){return e.contact.user_id!=t.user.id}},{text:"设置管理员",click:function(e,n,i){n.IMUI;var a=n.contact;i(),t.$confirm("确定设置该成员为管理员吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.p)({id:t.group_id,user_id:a.user_id,role:2}),t.$message({type:"success",message:"设置成功!"})})},visible:function(e){return 3==e.contact.role&&t.currentChat.owner_id==t.user.id}},{text:"取消管理员",click:function(e,n,i){n.IMUI;var a=n.contact;i(),t.$confirm("确定取消该成员的管理员权限吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.p)({id:t.group_id,user_id:a.user_id,role:3}),t.$message({type:"success",message:"取消成功!"})})},visible:function(e){return 2==e.contact.role&&t.currentChat.owner_id==t.user.id}},{text:"移出群聊",color:"red",click:function(e,n,i){n.IMUI;var a=n.contact;i(),t.$confirm("确定移除该成员吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.l)({id:t.group_id,user_id:a.user_id})})},visible:function(e){return e.contact.user_id!=t.user.id&&t.currentChat.owner_id!=e.contact.user_id&&t.currentChat.role<=2}}],contactContextmenu:[{icon:"el-icon-upload2",text:"置顶聊天",click:function(e,n,i){var a=n.IMUI,s=n.contact;Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.o)({id:s.id,is_top:1,is_group:s.is_group}).then(function(e){0==e.code&&(a.updateContact({id:s.id,is_top:1}),s.is_top=1,t.chatTopList.push(s))}),i()},visible:function(t){return 0==t.contact.is_top}},{icon:"el-icon-download",text:"取消置顶",click:function(e,n,i){var a=n.IMUI,s=n.contact;Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.o)({id:s.id,is_top:0,is_group:s.is_group}).then(function(e){0==e.code&&(a.updateContact({id:s.id,is_top:0}),Object(__WEBPACK_IMPORTED_MODULE_10__utils_index__.c)(t.chatTopList,"id",s.id))}),i()},visible:function(t){return 1==t.contact.is_top}},{click:function(t,e,n){var i=e.IMUI,a=e.contact;n(),Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.j)({id:a.id,is_notice:0,is_group:a.is_group}),i.updateContact({id:a.id,is_notice:0})},icon:"el-icon-bell",text:"消息免打扰",visible:function(t){return 1==t.contact.is_notice}},{click:function(t,e,n){var i=e.IMUI,a=e.contact;n(),Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.j)({id:a.id,is_notice:1,is_group:a.is_group}),i.updateContact({id:a.id,is_notice:1})},icon:"el-icon-close-notification",text:"取消免打扰",visible:function(t){return 0==t.contact.is_notice}},{click:function(t,e,i){e.IMUI;var a=e.contact;i(),n.groupSetting=!0,n.contactSetting=a},icon:"el-icon-setting",text:"群管理",visible:function(t){return 1==t.contact.role&&1==t.contact.is_group}},{click:function(t,e,i){e.IMUI;var a=e.contact;i(),n.$confirm("确定删除该群聊吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.k)({id:a.id}),n.$message({type:"success",message:"删除成功!"})})},icon:"el-icon-delete",color:"red",text:"删除群聊",visible:function(t){return t.contact.owner_id==n.user.id&&1==t.contact.is_group}},{click:function(t,e,i){e.IMUI;var a=e.contact;i(),n.$confirm("确定退出该群聊吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.l)({id:a.id,user_id:n.user.id}),n.$message({type:"success",message:"退出成功!"})})},icon:"el-icon-remove-outline",color:"red",text:"退出群聊",visible:function(t){return t.contact.owner_id!=n.user.id&&1==t.contact.is_group}}],contextmenu:[{click:function(n,i,a){var s=i.IMUI,o=i.message;Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.t)({id:o.id}).then(function(t){var n={id:o.id,type:"event",content:e("div",[e("span",["你撤回了一条消息"," ",e("span",{directives:[{name:"show",value:"text"==o.type}],style:"color:#409EFF;cursor:pointer",attrs:{content:o.content},on:{click:function(t){s.setEditorValue(t.target.getAttribute("content"))}}},["重新编辑"])])]),toContactId:o.toContactId,sendTime:getTime()};s.updateMessage(n)}).catch(function(e){t.$message.error("发生错误")}),a()},visible:function(e){return e.message.fromUser.id==t.user.id&&getTime()-e.message.sendTime<12e4},text:"撤回消息"},{text:"转发",click:function(e,n,i){t.currentMessage=n.message;var a=t.$refs.IMUI,s=a.getContacts(),o=a.getCurrentContact();t.allUser=Object(__WEBPACK_IMPORTED_MODULE_10__utils_index__.d)(s,"id",o.id),i(),t.forwardBox=!0}},{visible:function(t){return"text"==t.message.type},text:"复制文字",click:function(e,n,i){t.$clipboard(n.message.content),t.$message({type:"success",message:"复制成功!"}),i()}},{visible:function(t){return"image"==t.message.type},text:"下载图片",click:function(e,n,i){var a=n.message;t.download(a.content,a.fileName,a.type),i()}},{visible:function(t){return"file"==t.message.type},text:"下载文件",click:function(e,n,i){var a=n.message;t.download(a.content,a.fileName,a.type),i()}}]}},computed:__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_extends___default()({},Object(__WEBPACK_IMPORTED_MODULE_5_vuex__.b)({socketAction:function(t){return t.socketAction}}),{formatTime:function(){return function(t){return Object(__WEBPACK_IMPORTED_MODULE_10__utils_index__.f)(t)}}}),watch:{keywords:function(){var t=this.$refs.IMUI.getContacts();this.searchContact(t)},"setting.sendKey":function(t){this.sendTips=1==t?"使用 Enter 键发送消息":"使用 Ctrl + Enter 键发送消息"},setting:{handler:function(t,e){Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.s)(t),user.setting=t,__WEBPACK_IMPORTED_MODULE_11_lockr___default.a.set("UserInfo",user)},deep:!0},socketAction:function(t){var e=this.$createElement,n=t.data,i=this.$refs.IMUI;switch(t.type){case"simple":var a=this.getContact(n.toContactId);this.setting.isVoice&&1==a.is_notice&&this.popNotice(n),this.recieveMsg(n);break;case"group":if(n.fromUser.id!=this.user.id){a=this.getContact(n.toContactId);this.setting.isVoice&&1==a.is_notice&&this.popNotice(n),this.recieveMsg(n)}break;case"undoMessage":i.updateMessage(n);break;case"editGroupName":i.updateContact({id:n.id,displayName:n.displayName});var s={id:generateRandId(),type:"event",content:e("div",[e("span",[n.editUserName," 修改了群名为 ",n.displayName])]),toContactId:n.id,sendTime:getTime()};i.appendMessage(s,!0);break;case"isRead":this.setLocalMsgIsRead(n);break;case"addGroup":var o=__WEBPACK_IMPORTED_MODULE_11_lockr___default.a.get("client_id");n.owner_id!=this.user.id&&i.appendContact(n),Object(__WEBPACK_IMPORTED_MODULE_9__api_login__.b)({client_id:o,group_id:n.id});break;case"setManager":case"addGroupUser":case"removeUser":n.group_id==this.group_id&&this.getGroupUserList(n.group_id);break;case"removeGroup":i.removeContact(n.group_id),i.currentContactId==n.group_id&&i.changeContact(null);break;case"setNotice":i.updateContact({id:n.group_id,notice:n.notice}),i.appendMessage({id:generateRandId(),type:"event",content:e("div",[e("span",["管理员 发布了公告： ",n.notice])]),toContactId:n.group_id,sendTime:getTime()},!0);break;case"groupSetting":i.updateContact({id:n.group_id,setting:n.setting})}}},mounted:function(){this.searchResult&&document.addEventListener("click",function(t){that.$refs.configforms.contains(t.target)||(that.searchResult=!1)}),this.getSimpleChat()},created:function created(){user.setting&&(console.log(user.setting),this.setting=eval(user.setting)),window.Notification?"granted"==Notification.permission?console.log("允许通知"):"denied"!=Notification.permission&&(console.log("需要通知权限"),Notification.requestPermission(function(t){})):console.error("浏览器不支持Notification")},methods:{getSimpleChat:function(){var t=this,e=this.$createElement,n=this.$refs.IMUI;Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.e)().then(function(e){var i=e.data;t.contacts=i,t.getChatTop(i),n.initContacts(i)}),n.initMenus([{name:"messages"},{name:"contacts"},{name:"custom2",title:"系统设置",unread:0,click:function(){t.settingBox=!0},render:function(t){return e("i",{class:"el-icon-setting"})},isBottom:!0}]),n.initEditorTools([{name:"emoji"},{name:"uploadImage",title:"发送图片"},{name:"uploadFile",title:"发送文件"}]),n.initEmoji(__WEBPACK_IMPORTED_MODULE_6__utils_emoji__.a)},getChatTop:function(){for(var t=this.contacts,e=[],n=0;n<t.length;n++)1==t[n].is_top&&e.push(t[n]);this.chatTopList=e},getContact:function(t){for(var e=this.$refs.IMUI.getContacts(),n=0;n<e.length;n++)if(e[n].id==t)return e[n]},setSendKey:function(t){return 1==this.setting.sendKey?13==t.keyCode:13==t.keyCode&&!0===t.ctrlKey},handleMessageClick:function(t,e,n,i){if("status"==e)return i.updateMessage({id:n.id,status:"going",content:"这个功能没做"}),void setTimeout(function(){i.updateMessage({id:n.id,status:"failed",content:"还是发送失败，哈哈哈哈！！！"})},2e3);if("image"==n.type||"file"==n.type){if(!n.preview)return this.$message.error("没有配置预览接口");this.previewUrl=n.preview,this.drawer=!0}},openChat:function(t,e){this.keywords="",e.changeContact(t)},handleChangeContact:function(t,e){var n=this;e.updateContact({id:t.id,unread:0}),this.pageSize=1,this.displayName=t.displayName,this.oldName=t.displayName,this.currentChat=t,1==t.is_group&&this.group_id!=t.id&&this.getGroupUserList(t.id),this.is_group=t.is_group,1==this.is_group&&(this.group_id=t.id,this.notice=t.notice);for(var i=[],a=this.$refs.IMUI.getMessages(t.id),s=0;a.length>s;s++)0==a[s].is_read&&a[s].fromUser.id!=this.user.id&&i.push(a[s]);i.length>0&&Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.q)({is_group:t.is_group,toContactId:t.id,messages:i,fromUser:t.id}).then(function(t){0==t.code&&n.setLocalMsgIsRead(i)}),e.closeDrawer()},handleSend:function(t,e,n){var i=new FormData;t.is_group=this.is_group;var a=this.$refs.IMUI;if(n){if(n.size>5242880)return a.removeMessage(t.id),this.$message.error("上传的内容不等大于5MB！");i.append("file",n),i.append("message",__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify___default()(t)),Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.m)(i).then(function(t){a.updateMessage(t.data),e()}).catch(function(n){401==n.code?a.removeMessage(t.id):e({status:"failed"})})}else Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.n)(t).then(function(t){a.setEditorValue(""),a.updateMessage(t.data),e()}).catch(function(n){401==n.code?a.removeMessage(t.id):e({status:"failed"})})},handlePullMessages:function(t,e,n){var i=this;return Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.g)({toContactId:t.id,is_group:t.is_group,pageSize:this.pageSize,listRows:this.listRows}).then(function(t){i.pageSize++;var n=!1,a=t.data;a.length<i.listRows&&(n=!0),e(a,n)}).catch(function(t){e([],!0)}),!0},publishNotice:function(){var t=this;this.noticeBox=!1,Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.r)({id:this.group_id,notice:this.notice}).then(function(e){0==e.code&&t.$message({type:"success",message:"发布成功!"})})},openNotice:function(){var t="<div style='white-space: pre;'>"+this.notice+"</div>";this.$alert(t,"群公告",{confirmButtonText:"确定",dangerouslyUseHTMLString:!0})},getAllUser:function(t){var e=this;Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.d)(t).then(function(t){var n=t.data;e.allUser=n})},openCreateGroup:function(){this.getAllUser({}),this.createChatBox=!0},openAddGroupUser:function(){var t=Object(__WEBPACK_IMPORTED_MODULE_10__utils_index__.a)(this.groupUser,"user_id");this.getAllUser({user_ids:t}),this.addGroupUserBox=!0},fn:function(t){var e=this;return new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function(n,i){Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.n)(t).then(function(t){0===t.code?n(t):e.$message.error(t.msg)}).catch(function(t){})})},test:function(t){var e=this;return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function n(){var i;return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.fn(t);case 2:return i=n.sent,n.abrupt("return",i);case 4:case"end":return n.stop()}},n,e)}))()},forwardUser:function(){var t=this,e=this.selectUid;if(this.selectUid=[],e.length>5)return this.$message.error("转发的人数不能超过5人！");this.forwardBox=!1;for(var n=this.currentMessage,i=[],a=0;a<e.length;a++){var s=e[a].toString();n.id=generateRandId(),n.status="successd",n.sendTime=getTime(),n.toContactId=s,n.fromUser=this.user,n.is_group=0,-1!=s.indexOf("group")&&(n.is_group=1),i.push(this.test(n))}__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a.all(i).then(function(e){console.log(e);for(var n=t.$refs.IMUI,i=0;i<e.length;i++){var a=e[i].data;0==a.is_group&&(a.toContactId=parseInt(a.toContactId)),n.appendMessage(a),n.updateContact({id:a.toContactId,unread:0})}}).catch(function(t){console.log("error",t)})},addGroupUser:function(){this.addGroupUserBox=!1,Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.b)({user_ids:this.selectUid,id:this.group_id}),this.selectUid=[]},createGroup:function(){var t=this;this.createChatBox=!1,Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.a)({user_ids:this.selectUid}).then(function(e){var n=e.data,i=t.$refs.IMUI;0==e.code&&(i.appendContact(n),i.changeContact(n.id)),t.selectUid=[]})},getGroupUserList:function(t){var e=this;Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.i)({group_id:t}).then(function(t){if(0==t.code){var n=t.data;e.groupUser=n,e.groupUserCount=n.length}})},saveGroupName:function(t){var e=this;if(this.displayName.length<1)return this.$notify({title:"警告",message:"名称不能为空！",type:"warning"}),this.isEdit=!1,!1;if(this.displayName!=this.oldName){var n=this.$refs.IMUI;Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.c)({id:t.id,displayName:this.displayName}).then(function(i){n.updateContact({id:t.id,displayName:e.displayName})})}this.isEdit=!1},closeSearch:function(){var t=this;setTimeout(function(){t.searchResult=!1},300)},searchContact:function(t){""!=this.keywords&&(this.searchList=Object(__WEBPACK_IMPORTED_MODULE_10__utils_index__.e)(t,["displayName","name_py"],this.keywords))},setLocalMsgIsRead:function(t){for(var e=this.$refs.IMUI,n=0;t.length>n;n++){var i={id:t[n].id,is_read:1,status:"succeed",content:t[n].content+" "};e.updateMessage(i)}},download:function(t,e,n){var i=document.createElement("a");i.download="image"==n?e||"pic":e||"file",i.href=t,i.click()},popNotice:function(t){var e=this;if("granted"==Notification.permission){var n=new Notification("收到一条新消息",{body:t.fromUser.displayName+"："+t.content,icon:t.fromUser.avatar});n.onclick=function(t){e.$nextTick(function(){setTimeout(function(){},500)}),window.focus(),n.close()},console.log("浏览器通知！")}else{console.log("声音通知！");var i=document.getElementById("chatAudio");i.currentTime=0,i.play()}},recieveMsg:function(t){var e=this.$refs.IMUI,n=e.getCurrentContact();if(n.id==t.toContactId){var i=[];i.push(t),Object(__WEBPACK_IMPORTED_MODULE_8__api_im__.q)({toContactId:n.id,is_group:n.is_group,messages:i,fromUser:t.fromUser.id})}e.appendMessage(t,!0)},openGallery:function(){this.$message({message:"即将呈现！",type:"warning"})},openMessageBox:function(){this.messageBox=!0,this.componentKey+=1},changeDrawer:function(t,e){var n=this.$createElement;e.changeDrawer({offsetX:0,offsetY:1,render:function(){return n("div",{class:"drawer-content"},[n("p",[n("b",["自定义抽屉"])]),n("p",[t.displayName])])}})},logout:function(){var t=this;this.$confirm("你确定要退出聊天室吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$store.dispatch("LogOut").then(function(){t.$router.push({path:"/login"})})}).catch(function(){t.$message({type:"info",message:"已取消退出"})})}}}},UVIz:function(t,e){},XEZe:function(t,e,n){t.exports=n.p+"assets/img/login-background.7002311.jpg"},YaEn:function(t,e,n){"use strict";var i=n("7+uW"),a=n("/ocq"),s=n("UOlw"),o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-container",style:"background-image:url("+t.Background+")"},[n("div",{staticClass:"chat-box"},[n("lemon-imui",{ref:"IMUI",staticStyle:{"min-height":"600px"},attrs:{user:t.user,width:"1000px",height:t.height,contextmenu:t.contextmenu,"contact-contextmenu":t.contactContextmenu,theme:t.setting.theme,"hide-message-name":t.setting.hideMessageName,"hide-message-time":t.setting.hideMessageTime,avatarCricle:t.setting.avatarCricle,sendKey:t.setSendKey},on:{"change-contact":t.handleChangeContact,"pull-messages":t.handlePullMessages,"message-click":t.handleMessageClick,send:t.handleSend},scopedSlots:t._u([{key:"cover",fn:function(){return[n("div",[n("div",{staticClass:"cover"},[n("i",{staticClass:"lemon-icon-message"}),t._v(" "),n("p",[n("b",[t._v("即时聊天 Raingad")]),t._v(" IM")])])])]},proxy:!0},{key:"message-title",fn:function(e){return[n("div",{staticClass:"message-title-box"},[n("div",[0==t.isEdit?n("span",[1==t.is_group?n("span",{staticClass:"displayName",on:{click:function(e){t.isEdit=!0}}},[1==e.is_group?n("el-tag",{attrs:{size:"mini"}},[t._v("群聊")]):t._e(),t._v(" "+t._s(e.displayName)+" "),n("span",[t._v("("+t._s(t.groupUserCount)+")")]),t._v(" "),1==e.setting.nospeak?n("el-tag",{attrs:{size:"mini",type:"warning"}},[t._v("仅群管理员可发言")]):t._e(),t._v(" "),2==e.setting.nospeak?n("el-tag",{attrs:{size:"mini",type:"danger"}},[t._v("全员禁言中")]):t._e()],1):t._e(),t._v(" "),0==t.is_group?n("span",{staticClass:"displayName"},[t._v(t._s(e.displayName))]):t._e()]):t._e(),t._v(" "),1==t.isEdit?n("input",{directives:[{name:"model",rawName:"v-model",value:t.displayName,expression:"displayName"}],staticClass:"editInput",domProps:{value:t.displayName},on:{blur:function(n){return t.saveGroupName(e)},input:function(e){e.target.composing||(t.displayName=e.target.value)}}}):t._e()]),t._v(" "),1==e.is_group?n("div",{staticClass:"message-title-tools"},[n("i",{staticClass:"el-icon-time",attrs:{title:"消息管理器"},on:{click:t.openMessageBox}})]):t._e()])]}},{key:"sidebar-message",fn:function(e){return[n("span",{staticClass:"lemon-badge lemon-contact__avatar"},[n("span",{staticClass:"lemon-avatar",class:{"lemon-avatar--circle":t.setting.avatarCricle},staticStyle:{width:"40px",height:"40px","line-height":"40px","font-size":"20px"}},[n("img",{attrs:{src:e.avatar}})]),t._v(" "),e.unread>0&&1==e.is_notice?n("span",{staticClass:"lemon-badge__label"},[t._v(t._s(e.unread))]):t._e()]),t._v(" "),n("div",{staticClass:"lemon-contact__inner"},[n("p",{staticClass:"lemon-contact__label"},[n("span",{staticClass:"lemon-contact__name"},[1==e.is_group?n("el-tag",{attrs:{size:"mini"}},[t._v("群聊")]):t._e(),t._v("\n              "+t._s(e.displayName)+"\n            ")],1),t._v(" "),n("span",{staticClass:"lemon-contact__time",domProps:{textContent:t._s(t.formatTime(e.lastSendTime))}})]),t._v(" "),n("p",{staticClass:"lemon-contact__content lemon-last-content"},[n("span",{staticClass:"lastContent"},[0==e.is_notice&&e.unread>0?n("span",[t._v("["+t._s(e.unread)+"条未读]")]):t._e(),t._v(" "),n("span",{domProps:{innerHTML:t._s(e.lastContent)}})]),t._v(" "),0==e.is_notice?n("span",{staticClass:"el-icon-close-notification font-16"}):t._e()])])]}},{key:"sidebar-message-fixedtop",fn:function(e){return[n("div",{staticClass:"contact-fixedtop-box"},[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"搜索联系人","prefix-icon":"el-icon-search"},on:{blur:t.closeSearch,focus:function(e){t.searchResult=!0}},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}}),t._v(" "),n("div",{staticStyle:{"margin-left":"10px"}},[n("el-button",{attrs:{title:"创建群聊",icon:"el-icon-plus",circle:""},on:{click:t.openCreateGroup}})],1),t._v(" "),t.searchResult?n("div",{staticClass:"search-list"},[t._l(t.searchList,function(i,a){return t.searchList.length>0?n("div",{key:a,staticClass:"search-list-item"},[n("lemon-contact",{attrs:{contact:i},on:{click:function(n){return t.openChat(i.id,e)}}})],1):t._e()}),t._v(" "),0==t.searchList.length?n("div",{staticStyle:{margin:"20px"},attrs:{align:"center"}},[t._v("\n              暂无\n            ")]):t._e()],2):t._e()],1)]}},{key:"sidebar-message-top",fn:function(e){return[t.chatTopList.length>0?n("div",{staticClass:"chat-top-list"},t._l(t.chatTopList,function(i,a){return n("ChatTop",{key:a,attrs:{contact:i,avatarCricle:t.setting.avatarCricle,currentId:t.currentChat.id},nativeOn:{click:function(n){return t.openChat(i.id,e)}}})}),1):t._e()]}},{key:"sidebar-contact-fixedtop",fn:function(e){return[n("div",{staticStyle:{margin:"15px 10px"}},[t._v("\n          联系人\n        ")])]}},{key:"message-side",fn:function(e){return[1==e.is_group?n("div",{staticClass:"slot-group-list"},[n("div",{staticClass:"group-side-box"},[n("div",{staticClass:"group-notice"},[n("div",{staticClass:"group-side-title"},[n("h4",[t._v("群公告")]),t._v(" "),n("div",[e.role<3||0==e.setting.manage?n("span",{staticClass:"el-icon-edit font-18 handle",on:{click:function(e){t.noticeBox=!0}}}):t._e()])]),t._v(" "),n("hr"),t._v(" "),e.notice?n("div",{staticClass:"group-side-body",on:{click:t.openNotice}},[t._v("\n                "+t._s(e.notice)+"\n              ")]):t._e(),t._v(" "),e.notice?t._e():n("div",{staticClass:"group-side-body"},[t._v("\n                暂无公告\n              ")])]),t._v(" "),n("div",{staticClass:"group-user"},[n("div",{staticClass:"group-side-title"},[n("h4",[t._v("群成员")]),t._v(" "),n("div",[e.role<3||1==e.setting.invite?n("span",{staticClass:"el-icon-circle-plus-outline font-18 handle",on:{click:t.openAddGroupUser}}):t._e()])]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"group-user-body",attrs:{id:"group-user"}},[n("el-scrollbar",{staticStyle:{height:"100%"}},t._l(t.groupUser,function(e,i){return n("lemon-contact",{directives:[{name:"lemon-contextmenu",rawName:"v-lemon-contextmenu.contact",value:t.groupMenu,expression:"groupMenu",modifiers:{contact:!0}}],key:i,staticClass:"user-list",attrs:{contact:e}},[n("div",{staticClass:"user-avatar"},[n("el-avatar",{attrs:{size:20,src:e.userInfo.avatar}})],1),t._v(" "),n("div",{staticClass:"user-name"},[e.userInfo.id==t.user.id?n("span",{staticClass:"fc-danger"},[t._v(t._s(e.userInfo.displayName)+"（我）")]):t._e(),t._v(" "),e.userInfo.id!=t.user.id?n("span",[t._v(t._s(e.userInfo.displayName))]):t._e()]),t._v(" "),n("div",{staticClass:"user-role"},[1==e.role?n("i",{staticClass:"el-icon-user-solid fc-danger",attrs:{title:"创建者"}}):t._e(),t._v(" "),2==e.role?n("i",{staticClass:"el-icon-user-solid fc-warning",attrs:{title:"管理员"}}):t._e()])])}),1)],1)])])]):t._e()]}},{key:"message-after",fn:function(e){return[e.fromUser.id==t.user.id&&0==e.is_group?n("span",{staticStyle:{visibility:"visible"}},[e.is_read?t._e():n("span",[t._v(" 未读 ")]),t._v(" "),e.is_read?n("span",{staticStyle:{color:"green"}},[t._v(" 已读 ")]):t._e()]):t._e()]}},{key:"editor-footer",fn:function(){return[t._v("\n        "+t._s(t.sendTips)+"\n      ")]},proxy:!0}])})],1),t._v(" "),n("el-dialog",{attrs:{title:"创建群聊",visible:t.createChatBox,modal:!0,width:"612px"},on:{"update:visible":function(e){t.createChatBox=e}}},[n("el-transfer",{attrs:{filterable:"",titles:t.createChatTitles,"filter-placeholder":"请输入关键词",props:t.defaultProps,data:t.allUser},model:{value:t.selectUid,callback:function(e){t.selectUid=e},expression:"selectUid"}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.createChatBox=!1,t.selectUid=[]}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.createGroup}},[t._v("确 定")])],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"添加成员",visible:t.addGroupUserBox,modal:!0,width:"612px"},on:{"update:visible":function(e){t.addGroupUserBox=e}}},[n("el-transfer",{attrs:{filterable:"",titles:t.createChatTitles,"filter-placeholder":"请输入关键词",props:t.defaultProps,data:t.allUser},model:{value:t.selectUid,callback:function(e){t.selectUid=e},expression:"selectUid"}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.addGroupUserBox=!1,t.selectUid=[]}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.addGroupUser}},[t._v("确 定")])],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"设置",visible:t.settingBox,modal:!0,width:"550px"},on:{"update:visible":function(e){t.settingBox=e}}},[n("el-tabs",{staticStyle:{"min-height":"300px"},attrs:{"tab-position":t.tabPosition}},[n("el-tab-pane",{attrs:{label:"账号设置"}},[n("div",{attrs:{align:"center"}},[n("el-avatar",{attrs:{src:t.user.avatar,size:50}}),t._v(" "),n("br"),n("br"),t._v(" "),n("p",[t._v(t._s(t.user.displayName))]),t._v(" "),n("br"),t._v(" "),n("p",[t._v("账号："+t._s(t.user.account))]),t._v(" "),n("br"),t._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:t.logout}},[t._v("退出登录")])],1)]),t._v(" "),n("el-tab-pane",{attrs:{label:"通用设置"}},[n("el-form",{ref:"form",attrs:{model:t.setting,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"发送消息："}},[n("el-radio-group",{model:{value:t.setting.sendKey,callback:function(e){t.$set(t.setting,"sendKey",e)},expression:"setting.sendKey"}},[n("el-radio-button",{attrs:{label:"1"}},[t._v("Enter")]),t._v(" "),n("el-radio-button",{attrs:{label:"2"}},[t._v("Ctrl + Enter")])],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"系统主题："}},[n("el-radio-group",{model:{value:t.setting.theme,callback:function(e){t.$set(t.setting,"theme",e)},expression:"setting.theme"}},[n("el-radio-button",{attrs:{label:"default"}}),t._v(" "),n("el-radio-button",{attrs:{label:"blue"}})],1)],1)],1),t._v(" "),n("div",{staticClass:"setting-switch"},[n("el-switch",{model:{value:t.setting.isVoice,callback:function(e){t.$set(t.setting,"isVoice",e)},expression:"setting.isVoice"}}),t._v(" 开启新消息声音提醒\n        ")],1),t._v(" "),n("div",{staticClass:"setting-switch"},[n("el-switch",{model:{value:t.setting.avatarCricle,callback:function(e){t.$set(t.setting,"avatarCricle",e)},expression:"setting.avatarCricle"}}),t._v(" 开启聊天圆形头像（需要刷新）\n        ")],1),t._v(" "),n("div",{staticClass:"setting-switch"},[n("el-switch",{model:{value:t.setting.hideMessageName,callback:function(e){t.$set(t.setting,"hideMessageName",e)},expression:"setting.hideMessageName"}}),t._v(" 是否隐藏聊天窗口内的联系人名字\n        ")],1),t._v(" "),n("div",{staticClass:"setting-switch"},[n("el-switch",{model:{value:t.setting.hideMessageTime,callback:function(e){t.$set(t.setting,"hideMessageTime",e)},expression:"setting.hideMessageTime"}}),t._v(" 是否隐藏聊天窗口内的消息发送时间\n        ")],1)],1),t._v(" "),n("el-tab-pane",{attrs:{label:"关于 IM"}},[n("div",{attrs:{align:"center"}},[n("el-avatar",{attrs:{src:t.logo,size:50}}),t._v(" "),n("br"),n("br"),t._v(" "),n("p",[n("span",{staticClass:"main-color"},[t._v(" "+t._s(t.softname)+" ")]),t._v("for "+t._s(t.version)+"\n          ")])],1),t._v(" "),n("div",{staticClass:"setting-version"},[n("b",[t._v(" 已经支持功能：")]),t._v(" "),n("p",[t._v("1、单聊和群聊，新增消息管理器")]),t._v(" "),n("p",[t._v("2、支持发送表情、图片和文件")]),t._v(" "),n("p",[t._v("3、单聊支持消息已读未读的状态显示")]),t._v(" "),n("p",[t._v("4、支持设置新消息声音提醒，浏览器通知")]),t._v(" "),n("p",[t._v("5、支持部分Lemon-imui内功能设置")]),t._v(" "),n("p",[t._v("6、支持文件、图片和绝大部分媒体文件在线预览")]),t._v(" "),n("p",[t._v("7、群聊创建、删除和群成员管理、群公告、群禁言等")]),t._v(" "),n("p",[t._v("8、可以置顶联系人，所有联系人可以设置消息免打扰")])])]),t._v(" "),n("el-tab-pane",{attrs:{label:"开源"}},[n("div",{attrs:{align:"center"}},[n("el-avatar",{attrs:{src:t.logo,size:50}}),t._v(" "),n("br"),n("br"),t._v(" "),n("p",[n("span",{staticClass:"main-color"},[t._v(" "+t._s(t.softname)+" ")]),t._v("for "+t._s(t.version)+"\n          ")])],1),t._v(" "),n("div",{staticClass:"setting-version"},[n("p",[t._v("\n            前端地址："),n("a",{staticClass:"main-color",attrs:{href:"https://gitee.com/raingad/im-chat-front",target:"_blank"}},[t._v("[链接] im-chat-front")])]),t._v(" "),n("p",[t._v("\n            后端地址："),n("a",{staticClass:"main-color",attrs:{href:"https://gitee.com/raingad/im-instant-chat",target:"_blank"}},[t._v("[链接] im-instant-chat")])])]),t._v(" "),n("div",{staticClass:"setting-version",staticStyle:{color:"#a6a6a6"}},[n("p",[t._v("前端技术栈：vue+Lemon-IMUI+element-UI")]),t._v(" "),n("p",[t._v("后端技术栈：thinkphp6+workerman")])]),t._v(" "),n("div",{staticClass:"setting-version"},[n("p",[t._v("\n            QQ交流群：\n            "),n("a",{staticClass:"main-color",attrs:{href:"https://jq.qq.com/?_wv=1027&k=jMQAt9lh",target:"_blank"}},[t._v("336921267")])])])])],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"发布公告",visible:t.noticeBox,modal:!0,width:"500px"},on:{"update:visible":function(e){t.noticeBox=e}}},[n("el-input",{attrs:{type:"textarea",rows:10,placeholder:"请输入内容"},model:{value:t.notice,callback:function(e){t.notice=e},expression:"notice"}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.noticeBox=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.publishNotice}},[t._v("确 定")])],1)],1),t._v(" "),n("transition",{attrs:{name:"fade-user"}},[t.drawer?n("div",{staticClass:"previewBox"},[n("el-button",{staticClass:"drawer-close",attrs:{type:"danger",icon:"el-icon-close",circle:""},on:{click:function(e){t.drawer=!t.drawer}}}),t._v(" "),n("iframe",{attrs:{src:t.previewUrl,frameborder:"0",width:"100%",height:"100%"}})],1):t._e()]),t._v(" "),n("el-dialog",{attrs:{title:"转发",visible:t.forwardBox,modal:!0,width:"612px"},on:{"update:visible":function(e){t.forwardBox=e}}},[n("el-transfer",{attrs:{filterable:"",titles:t.createChatTitles,"filter-placeholder":"请输入关键词",props:t.contactsProps,data:t.allUser},model:{value:t.selectUid,callback:function(e){t.selectUid=e},expression:"selectUid"}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.forwardBox=!1,t.selectUid=[]}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.forwardUser}},[t._v("确 定")])],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"消息管理器",visible:t.messageBox,modal:!0,width:"800px"},on:{"update:visible":function(e){t.messageBox=e}}},[n("ChatRecord",{key:t.componentKey,attrs:{contact:t.currentChat}})],1),t._v(" "),n("el-dialog",{attrs:{title:"群设置",visible:t.groupSetting,modal:!0,width:"500px"},on:{"update:visible":function(e){t.groupSetting=e}}},[n("ChatSet",{key:t.componentKey,attrs:{contact:t.contactSetting}})],1),t._v(" "),n("Socket",{ref:"socket"})],1)},staticRenderFns:[]};var r=function(t){n("301y")},c=n("VU/8")(s.a,o,!1,r,"data-v-808e15fe",null).exports,l=n("XEZe"),u=n.n(l),d={name:"Login",data:function(){return{Background:u.a,loginForm:{username:"13800000002",password:"123456",rememberMe:!0},loginRules:{username:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}]},loading:!1,redirect:void 0}},watch:{$route:{handler:function(t){this.redirect=t.query&&t.query.redirect},immediate:!0}},mounted:function(){var t=this;this.$nextTick(function(){t.$refs.username.focus()})},methods:{handleLogin:function(){var t=this;this.$refs.loginForm.validate(function(e){var n={username:t.loginForm.username,password:t.loginForm.password};e&&(t.loading=!0,t.$store.dispatch("Login",n).then(function(t){window.location.reload()}).catch(function(){t.loading=!1}))})}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-wrapper",style:"background-image:url("+t.Background+")"},[n("div",{staticClass:"form-box"},[t._m(0),t._v(" "),n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,rules:t.loginRules,"label-width":"0px"}},[n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{ref:"username",attrs:{type:"text","auto-complete":"off",placeholder:"请输入账号","prefix-icon":"el-icon-user"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),t._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请输入密码","prefix-icon":"el-icon-lock"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin(e)}},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),t._v(" "),n("el-form-item",[n("el-checkbox",{model:{value:t.loginForm.rememberMe,callback:function(e){t.$set(t.loginForm,"rememberMe",e)},expression:"loginForm.rememberMe"}},[t._v("记住我")])],1),t._v(" "),n("el-form-item",[n("el-button",{staticStyle:{width:"100%"},attrs:{loading:t.loading,size:"small",type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t.loading?n("span",[t._v("登 录 中...")]):n("span",[t._v("登 录")])])],1)],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-title"},[e("img",{attrs:{src:n("qvJq"),alt:"icon"}}),this._v(" "),e("p",[this._v("账 号 登 录")])])}]};var p=n("VU/8")(d,_,!1,function(t){n("yKiv")},null,null).exports;e.b=function(){var t=f();g.matcher=t.matcher},i.default.use(a.a);var m=[{path:"/",name:"home",component:c,meta:{title:"首页"}},{path:"/login",name:"login",component:p,meta:{title:"登录"}},{path:"*",redirect:"/404",hidden:!0},{path:"/404",component:function(){return n.e(0).then(n.bind(null,"+H76"))},hidden:!0}],f=function(){return new a.a({mode:"hash",scrollBehavior:function(){return{y:0}},routes:m})},g=f();e.a=g},ZEMu:function(t,e,n){"use strict";e.a=[{label:"表情",children:[{name:"1f600",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f600.png"},{name:"1f62c",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f62c.png"},{name:"1f601",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f601.png"},{name:"1f602",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f602.png"},{name:"1f923",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f923.png"},{name:"1f973",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f973.png"},{name:"1f603",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f603.png"},{name:"1f604",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f604.png"},{name:"1f605",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f605.png"},{name:"1f606",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f606.png"},{name:"1f607",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f607.png"},{name:"1f609",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f609.png"},{name:"1f60a",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f60a.png"},{name:"1f642",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f642.png"},{name:"1f643",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f643.png"},{name:"1263a",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/263a.png"},{name:"1f60b",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f60b.png"},{name:"1f60c",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f60c.png"},{name:"1f60d",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f60d.png"},{name:"1f970",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f970.png"},{name:"1f618",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f618.png"},{name:"1f617",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f617.png"},{name:"1f619",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f619.png"},{name:"1f61a",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f61a.png"},{name:"1f61c",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f61c.png"},{name:"1f92a",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f92a.png"},{name:"1f928",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f928.png"},{name:"1f9d0",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f9d0.png"},{name:"1f61d",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f61d.png"},{name:"1f61b",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f61b.png"},{name:"1f911",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f911.png"},{name:"1f913",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f913.png"},{name:"1f60e",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f60e.png"},{name:"1f929",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f929.png"},{name:"1f921",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f921.png"},{name:"1f920",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f920.png"},{name:"1f917",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f917.png"},{name:"1f60f",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f60f.png"},{name:"1f636",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f636.png"},{name:"1f610",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f610.png"},{name:"1f611",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f611.png"},{name:"1f612",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f612.png"},{name:"1f644",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f644.png"},{name:"1f914",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f914.png"},{name:"1f925",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f925.png"},{name:"1f92d",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f92d.png"},{name:"1f92b",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f92b.png"},{name:"1f92c",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f92c.png"},{name:"1f92f",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f92f.png"},{name:"1f633",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f633.png"},{name:"1f61e",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f61e.png"},{name:"1f61f",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f61f.png"},{name:"1f620",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f620.png"},{name:"1f621",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f621.png"}]},{label:"收藏",children:[{name:"1f62c",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f62c.png"},{name:"1f621",title:"微笑",src:"https://twemoji.maxcdn.com/2/72x72/1f621.png"}]}]},c35E:function(t,e,n){t.exports=n.p+"assets/media/notify.e23f379.mp3"},c7hg:function(t,e,n){"use strict";var i=n("yBYt"),a={name:"chatSet",props:{contact:{type:Object,default:{}}},data:function(){return{setting:{},groupInfo:{}}},methods:{groupSetting:function(){Object(i.h)({id:this.contact.id,setting:this.setting})}},created:function(){var t=this;Object(i.f)({group_id:this.contact.id}).then(function(e){var n=e.data;t.groupInfo=n,t.setting=n.setting})}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"group-item"},[n("div",{staticClass:"group-avatar"},[n("el-avatar",{attrs:{shape:"square",src:t.contact.avatar}})],1),t._v(" "),n("div",{staticClass:"group-content"},[n("div",{staticClass:"group-title"},[t._v(t._s(t.contact.displayName)+" "),n("span",[t._v("("+t._s(t.groupInfo.groupUserCount)+")")])]),t._v(" "),n("div",{staticClass:"group-user"},[t._v("群主："+t._s(t.groupInfo.ownerName))])])]),t._v(" "),n("div",{staticClass:"setting-item"},[n("div",{staticClass:"setting-title"},[t._v("群管理：")]),t._v(" "),n("div",{staticClass:"setting-option"},[n("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},on:{change:t.groupSetting},model:{value:t.setting.manage,callback:function(e){t.$set(t.setting,"manage",e)},expression:"setting.manage"}})],1),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"setting-item"},[n("div",{staticClass:"setting-title"},[t._v("群成员邀请：")]),t._v(" "),n("div",{staticClass:"setting-option"},[n("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},on:{change:t.groupSetting},model:{value:t.setting.invite,callback:function(e){t.$set(t.setting,"invite",e)},expression:"setting.invite"}})],1),t._v(" "),t._m(1)]),t._v(" "),n("div",{staticClass:"setting-item"},[n("div",{staticClass:"setting-title"},[t._v("群禁言：")]),t._v(" "),n("div",{staticClass:"setting-option"},[n("el-radio-group",{attrs:{size:"mini"},on:{change:t.groupSetting},model:{value:t.setting.nospeak,callback:function(e){t.$set(t.setting,"nospeak",e)},expression:"setting.nospeak"}},[n("el-radio-button",{attrs:{label:"0"}},[t._v("关闭")]),t._v(" "),n("el-radio-button",{attrs:{label:"1"}},[t._v("仅管理员可发言")]),t._v(" "),n("el-radio-button",{attrs:{label:"2"}},[t._v("仅群主可发言")])],1)],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"setting-description"},[e("div",{staticClass:"des-title"},[this._v("仅群主和群管理员可以管理")]),this._v(" "),e("div",{staticClass:"des-comment"},[this._v("启用后，其他成员不能修改群名称，编辑公告等")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"setting-description"},[e("div",{staticClass:"des-title"},[this._v("允许群成员邀请")]),this._v(" "),e("div",{staticClass:"des-comment"},[this._v("启用后，其他成员可以邀请其他人加入群聊")])])}]};var o=n("VU/8")(a,s,!1,function(t){n("nfpm")},"data-v-b8ee8c48",null);e.a=o.exports},gzb7:function(t,e,n){"use strict";var i={name:"chatTop",props:{contact:{type:Object,default:{}},currentId:[String,Number],avatarCricle:{type:Boolean,default:!1}},data:function(){return{}},methods:{},created:function(){}},a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chatTop"},[n("el-tooltip",{attrs:{content:t.contact.displayName,placement:"top-start",effect:"light"}},[n("div",{staticClass:"top-item",class:t.currentId==t.contact.id?"active":""},[n("div",{staticClass:"avatar"},[n("el-avatar",{attrs:{shape:t.avatarCricle?"circle":"square",size:"small",src:t.contact.avatar}})],1),t._v(" "),n("div",{staticClass:"username"},[t._v("\n            "+t._s(t.contact.displayName)+"\n        ")])])])],1)},staticRenderFns:[]};var s=n("VU/8")(i,a,!1,function(t){n("ysqy")},"data-v-9e5ad92c",null);e.a=s.exports},iw6e:function(t,e){},nfpm:function(t,e){},pjYA:function(t,e,n){"use strict";var i={name:"preview",props:{drawer:{type:Boolean,default:!1},previewUrl:{type:String,default:""}},data:function(){return{myDrawer:this.drawer}},methods:{closeDrawer:function(){this.myDrawer=!1}},created:function(){}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("transition",{attrs:{name:"fade-user"}},[this.myDrawer?e("div",{staticClass:"previewBox"},[e("el-button",{staticClass:"drawer-close",attrs:{type:"danger",icon:"el-icon-close",circle:""},on:{click:this.closeDrawer}}),this._v(" "),e("iframe",{attrs:{src:this.previewUrl,frameborder:"0",width:"100%",height:"100%"}})],1):this._e()])],1)},staticRenderFns:[]};var s=n("VU/8")(i,a,!1,function(t){n("/gcQ")},"data-v-781ba882",null);e.a=s.exports},qvJq:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAABfCAYAAACZZx5QAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjEwMjNDRUUyRkNBMDExRUFBRTJGQjRCOUJBOUM2OUY0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjEwMjNDRUUzRkNBMDExRUFBRTJGQjRCOUJBOUM2OUY0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTAyM0NFRTBGQ0EwMTFFQUFFMkZCNEI5QkE5QzY5RjQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTAyM0NFRTFGQ0EwMTFFQUFFMkZCNEI5QkE5QzY5RjQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4hDxzBAAAgJElEQVR42uydB3yURfrH5y3bS3rvCYFA6CVU6R0EaQJi+aOn3omciKBIk34IHpa7U049PbCAeBakKFUU6QFCSSGN9E2yaZtkd7Plfd//zLvZkEAi2RAQzfP9fFbJ7jt95vc+z7wz81KCICAAAIC2CA1VAAAACCAAAAAIIAAAAAggAAAACCAAAAAIIAAAAAggAAAACCAAAAAIIAAAAAggAAAACCAAAAAIIAAAAAggAAAACCAAAMB9ANuWC3/ixAlUXl4OveAeI9g5xFntSBXopWZoiapKX1xEUTSiaQYq57e0hmgaDR06FCmVyjZTZqotnwfYo0cPlJCQAD3/XsMgRcCEuEfCHxywyLS30KvgwtWt+tzk9xDidFA5vy3p6ekoKioKLMC2gEKhgB5/D5FqlZLQCX1nhj/Y/2V1iE8Xu8mKKGU1ahfbZ0VEp27P6vMy3tFlJf27xlhZArV175FIJIiiKHCBAaCVhY8OHd93Vvik/gvVwT69OIsV2arNCPGiQ4w4uw3REsY3IDJ2nU9w1J/1+Rnv6q4nbcVCCPMTAAgg8Du1KDRKKmx83JTwyQNewsI3oE74CDcZGmQqhrNZyTxgcGBE7AafoKhnsEX4NrYIP8ZCaIDaBEAAgd+H8KkVCAvfxPDJA5dgV3cgZ7HdEL7bQITQ7hDC8MDI2DexEM7HFuEWLIT/xUJohNoFQACB+9TiU8hDx8WNiJg8YKE6xHe4K8LXpBAyTCQWwn9iIXxen5/+li4r+UsshGVQ2wAIIHBf4dk5IqbH4pl7LRXVLRa+XxHCmJD2Pbfiv5mspLPvQm0DrQEshAZajZKEjEuFJxO/pZm70a0oZK6uyCnKvvYF1DQAAgjcd3Bmi5Dy8Q/LsZVmQa28nIJhWVSYlbzGbDSUQk0DIIDA/WoFJurPp33EKqStZ/vRNLKYjQmF2SnboYYBEEDgvib5w/3r7WZLBRGuVumkNIPy0hJW2Kw1NqhdAAQQuHcdRKJgaIncpTAVqXn5+UcTtrAq+Z2nzzDIVFl2pDg3da+LZiNi5VrYXAyAAAItR+YRFBI04vnproZL3/HjOzWlhhzqDh+IUIji8tIvLeN53qVw3j0finOPGToYWhAAAQRaDG8xcmETl65UBXf2cCVcdZ7ecP3rX9ayClmL02ZYCaooKfiipOD6GZc6NStD0bO2rMMR+EALAiCAQMsFkLfXsCqPLqHjlrzgatisPae3m/UVlyi2xZ6oKT/zyipXA/nGzRqujQobxVtMVdCCAAggcEdwNUaz/8CHX9SE9wx0JZylvMqa+umRFYxM0iLrryQ/8z2DviDNlXAStTcTOWPDBt7xuESA1gNAAIE7QuDtVlYp0UbNeONVV8Nm7z29pzKj4IgrIkiOZOI5uz4vPWGTq+kFDfvLTFVQYF/eDu0GgAACrYTdjJBnt2F/cu8wpKNLLrTNjlI/O7KcomkONXNtNMOwqDg3bZOpqqLYlbQUPpGqkHELVttrbmgptBwAAgi0Ctgwk0dO37iGPGRwhfwjF08Xx1/7gpXfPpy46LnGlJ6bevE9V/MXNnH5c3Ivz3bCDevPDK0GgAACrQJnwVZg137TfPs8PMjVsOk7flwl8ILpdlvkiPVXlHNttc1a49LRV+qQrn5+g2a/bG8oeVZoNQAEEGg1BBuiQh9cupaRqV1yL/UX0tLyDsVvlSibtgLJomdjZdnZgoyrO1zNV9TMLa9KlHJvoeFyQXCBARBAoBWtQGxTadvFDA0Z/eJkV8Om7Ty2yW62ljS1RY6mWaTLTFzOcTbOlXjdY4bGeHUb8Wy9uT8AAAEE7g48FpqgUfPXsEoPl048qMoqLMo9GL+psYMSiPVXVV68T1+QeciVOClGgto98vZqikZyWPQCgAACd18A7QgpfH26hE14da6rYVM+PvCuucSQQddbHE2mBSlE2XJS4lfwnGvrV3zjHh7k3r7rDDI/2Zg+QmsBIIBA67vCWHBCxi5YrvCLdnclnKW8ypi15/Qqpt4WOZphUUWJbntFScFFV+KSqDyoiKnr1vO2JoUOVgMCIIBA6yNwCLEqSXDYxOUub5HL2HVsR2V6wVlaxjoXPVdmp5xb52o8gcPmTdOEhQ/mGz8kizwOgWUwAAggcJesQCwvgUMfX+DeYXCwK+HsJguX8eVPKxipxLHlTZf1D6OhNMuVOGQeQfKQMX9dw8GDDwAEEPhNrECBuK/IPXTi8qWuhs07fOGgITXviEALVbrMq1tcDR8+efUzCl+fjrDlDQABBH47K9CCkHf3UU95dhnb2bVwNpTynwOrCjKuLjKZKlx6zaUyIMbLf9CjS+3g4AIggMBvbQVSNJJGzdyymixJcQXdqau/ZJ48+b6rabab9ebLEpXMT+Ch/gEQQOA+sALdojpO8ekzw+UTmAXONRVzix7Uzrvn2Hmw6BkAAQTuG3g7oiIeWrWeVbrftbV34qLn2W+uwhanqhmLnsnsoAlaBgABBO6+ANoQ0kZGDwocNm/q3UrDp/eMvh6des9qYtHzLVlCsA4QAAEE7pkrjN3SkDHz10jd/OWtHTfFSlHYxCXrsKXpyvn6sBMEAAEE7pkbjBR+fp3CH1rzVGvHHTxqwSS36C4jeTjgCgABBO5bK9CMUMCgR5cqfCI9WitOVuEmDR374loeXosOgAAC9xiKomi2uReTpSkStSIQW4ELWysD4ZNWPqnw8+/qigBSNJJQNAP9GwABBO4AQbAIAl9Cu7DEjyxRCRgyZ75b9KDQO01e7hPpHjTqueXNfPDh6NRScm6hvchmLK+GBgRAAIEWYzOWGRL/OXWUqSDjB1aJmvdYgSyOZpBb2MRly+80/YjJr70kUcmDhOYckYrzRvJoLsz44eLfRg+tzDhZCC0IgAACd2AB8qg8+Wha/Kp+43MPvP8ytq5qmmMNkifC3j3HPOHdfVLXlibt1m5gWMDQx19ozqJnkieSN5JHkteKlB/ToPEAEECgdSzB6hLh2sfPbk5694mh1sriC6I1eDsrkKakEVPXr3FhCrGBORf24IrXKBppbrfomeSF5InkjeSR5BVaDAABBFqdwhPbz8Sv7Du46NTuN1mV6Oo2bQVayPtDOk/2G/DYMFfT8Y17uKdP3JjHfu24K5I2yQPJC8kTyRu0EAACCNxVakqzjFfefmhh6vZXJ/I2UxbzK8ueydxd5Iy/rWOVHs3uaxTNoNAJS9cjHjVpOpI0SdokDyQvJE/QMgAIIHDPyNm3cd/5NQP7G1LP7pSoxaUnt0CWrij9/QYEDHlmenPjDRoxf6x7+65jG3vyS9IgaZE0SdokD9ASAAgg8JtQnZNQeHHD8NnXv37jaUQJZXQj74njsZCFjl+4WuYZorhdfIxCy4ZOeGVdY2v+xLhxGiQtkiZJG1oAAAEEflM4qxGl71z8YcLrowfW6HOO3rxchmyRU/r6xoRNWPr07eIKHffyY0o//14NTnquXd5C4iZpkLRImgAAAgjcN5QnHU6JX9VvdMHRT1YyUmSt//CXnN4cMPjxJcqAGM+mwsu9wzWh419aWd/1JXGQuEicJG6SBtQ0AAII3JdYDTou6f3H1yZtfWqE3VR2ma11eh1b5JQBUTP//lKT1t/EpS9I1PJw50nPJCyJg8RF4iRxQw0DIIDAfY/u+Ee/nHut3wP6+P3vEveVPLywi4ujx83XRvYLv/l6bVT/oODhf1pILEVyLQlDwpI4SFxQowAIIPC7wlyUVnnp7xPmpe94bbrAW/OwK4tdWkoTMXXdCrLUpT5k2xwloTzINeRaEoaEJXFATQIggMDvlqzda766sH5I/8qM81+ROT3fPiPmevea2t35u3fPKV38+k14hmgiuYZcS8JAzQEggMAfgsqM03kX/zZievaefz2P/6yJeGjVm87fIqetf4tikIX8Rq4h10KNAfcCFqoAuFfYzQaU+snz/ypJ2Hei8/M7PgoaOX88/pqXewd6nF87fkDZle8ToJYAsACBPzRE6M4u6zlY7hlC4w9L/g3iB4AFCLQZakoyqzN2vbwXagIACxAAAAAEEAAAAAQQAAAABBAAAAAEEAAAAAQQAAAABPCO4W010AMAoG482Npcmdv0OkBtZFxnTblCy7BkXVp+ak1pdsnN18h9IjzlngEx5M1k1uoKvakgKY2WyBl1aPfuFE3LKAohS3lhllmfWeAMQzb6q0N7dKElUg05zNNWXaHD4a5TrBRpwnp2xeHUN950RjV+E6LI+zRsxqrsiwn4/816yxnOF60J79kLxy0h4Xm7zVR1/VyjC4wZuZpVh3Ttjq+VkpcLmfW5aTjfNrlnUKzjOCqh7j/kNsmZq0urc69co3CB1eE9Y2lW6lb7/l9kLEhLslXpKxpkn7zOLaJPV4phHGXFcZh0aYn4OoPUzV+l9I/sKnDiZchcnJ1mqcjX4zgpdVjPLs76IXGbCq9ftRp0DQ5EUAbEREk0nn7kzFWzPvuapTy/FDVRiaqg2ChWpfUj8QmcvcqoS7miDoqNc7xIUyyiUM8c4Iy5iRftZoNV7hXqI/cKjnYezeVoEarRtyKTfNboc5NrynJKGalKpg7rRuqVqRfupjYWYxVIndiNhmxjfmK+2GfCenajWYmKhOBqTKXVOQnXxPL6dwiVaL2CEX+jdlFTb2hmkGAqSE3A9WxU+LXzk7n5Rompkf5gtZZXZccnNxAApbtaFdRJfHUpI3AG3L6JbUkDKEFoq28QFNBfD1B7zhegiSoVQqVXzn5+cX2/OTfXR7fFRz7y7TN8LunCeYd3vpW0dfaLnrFjInqu+CGVtyGWkSGkv3B8W8LGwf9XN0ADY7z6bkhOoVnkTQZHdV7WsdMvRw6Tan01/d/ISWMVUj9npyThmxpUnBnln1wY3cFcnN6s449Dxy+ZGjP3b1+RI6XEYccgLmHTpN6lCXsSbhX/vh36rD2djPNBESkovXT8a4Vf+2BNqF+c8zRm8WBSIkT4BmEpM8SfXhzWh7PVyAduyUuXe3sHkevIy4kKT+x778rbE5+rH797+wfa93rt5ys4fimJgxxvlb7z9T9n/m/Jv4NHzh/f6c/v7LObHN/nHvh0bfIHj62UeQS799+clcrIGR9SP+QI/PJE3C4bh8xxWusUI0Fx65OOasLbDSMHK+Qe/Hx18vtzVjWqBTI16rsx7ajC33+YYCfl4bLNhamH3Dt0/JOzmcnR+86XrpP04leP7FWRfORClxf2rPYfNHElZ3beXJp+Ax4pQ8p/1j59/ZuVHwYOfXZE7Lyth8nb7EgaJI83vxWUs5KEHXWnP39sR8Lrwx5h5Fp1/zeyM2Ue7j4kHUNGyqVzyzqKB0bErUvcqW3XaSZvrc2LrCkpJq8UQOjCukdGFp/ZcaTjM59sDhn16CKxP9Ci1lclbBzbqyzxYN07k0PGvDS949NvfGklbSGg3G2TuU6Bbkw1WIB/eHvfivTnDuwUAidNJOfUaSN7jFH4d/A06VLK6oTMr72He/uBD5IOhAeAUHz2i8/EQchKWDxABSIApLNSNCtrKF4SKe77EvF3QfxCUWtssDxno3lOKgoL/rchdduiJyzlebpbpiNoRGErwIAtS1OzrD9sXfoNeOJpIlp87YBmWcQEDZ/3JBbAv96q/4KEXEeEhnzUwd2i03Ys2MiZDaLSYAvXP2zS0jconHciHqKtJhoyAoXzzZCwYnhcNx6xoybIvcIU2II2O6P37DJuBB74Ultt7sm12AKWOewfjnWGd9ShpPZNIqR+rDTFKcQ88Tg2z85xs/ziZr2pO/Hf+Bv2D8M6RRqHbfoNxZRofDmutZM2ZPzKkw5du/7NcvKCJoFYzOFT1r6iCozsLV7DiZkTxwTNSGTkO5JHckRX4clv3y86+cnHtVYxdVNbCZXpZ8STqiUab4WYd7tDNMuTz36Vu//112rDkTTl0Y9v3S330ISQ6sRFcXfGguuVEutJzIaNqedRSJx5wXUqZH658Tls2V9ofApL4MqTj111/IuTOusZiTcrShMxbcOr5clHnhRqOwluE4mzHbD1KMEWu6QtyUDbFUDcO4vP7dpvGzFEL3dz82GVEi/vHpMfyNGl7HZe4tN31iipVuZN7tjG3Otnyi7vP18rHgLuzryjS4u9lb9JXBy/o7rfuTqzUxB45xDizCad7ucPdnNW8x0Xx63DkPbaiJhhRAAdZ+o5LDgs4NNlniHLLWW5lbeYwI4yMMQKLUz47kzhLx9/7vyxPOkwCh6zcBErV0XcUkZnGQSHJSPVSkPdOwzpW3hy+zGn8LjHDB8rDiqhLrX6cQg36u7m7+viFvDNxYzjUIaMf2VZ0ZkdU3i7xZl803V/ix7wdfXN2+yG7H0b/mE1FNUduq8O79VXE7awt/gSJgHd8P3rpUFuclj8DujPf336tn4Fz9WFIwJYmXk2CYdr4Fa6tR/8tkenASNxnrBwnv6u0XoVbjjfdXlxOOzmolOffWPMv1rUDC/nRhkoZMJlVLrH9Jrt1W3i5pKLu5NrL6nfFnxty7QdGWi7M4A0MuqSyiszTu4lHZV0N6+u4x9C9abmvHs89DAZGOR33GG283Zr63YOGg8tmmmVqAIGP/0YzrKMiJnuxK53KlJO7iOuq9RDHeDX75EHbztU7Bam4RyhRtW0o1XfnTPnkSHj0Xn0ROd3qoCOHtqongNx3dnwIDe0aG4G98yq7Mtb7SabWRsVM9m376wBrTHv4ShX/XRYaXMCYnfadWNBFE/2ljpM3f7nv59Z0nXcmVe6js/YtXhr3axeM2GkSqWrdWkxFB03F2UdxD1OHjZh2XKqlfodWIC/Zy/YZkUFxz74PLT/uLnEylOHdhspdQ9QWSt0RlVQrI8mvNsI0c2zCxW64x9+3aozkFhwWbk6LPYvuz6wGcsLb74ZYdGlTQUZidd3r/oU3cbIkXkGK7y7T5hDyoA7e03WNytXaiLj+nt2HTCBCLj/wP97KvfAls8Ezvbro6QFI9xw7ef9Xt3HPOUZO2YCq3RfYjdV2N3aDezLqiRetio7dlspHrtVca7GjIWc0p/78oA1epCHX/8xc0PHv7K8+PTn428Y0/ewn2B7MezB5YuwyHcn5WngAlPiMy/79W/WvWfSJeuwS86SGyaZ9yNzi759Hn6UlWtlDluZ2Hy8Dd9ILeIzEAmiKpJPntAd/+hI8zOD3WipUoia+caTcs+AaJ7DJpydPL6ttRhpgc/Zt/k/Jl2Krn7T2qpLTPmH/7G54zNbR7t36jPDs+uETaUJ310CAWzDMFIFqr5w6BdLWUUGq3aPknm4BXvGju5feGLbYewOj2OVtDvpxCUXju4z5icWtWrixDqgaaln5zFz7CbDLT4whQeRwjf7SNaedZ8KztnvJvDrN2eM1E0ZQcTOmJd23FR4zcBZTSeslaZCRqb0V4fFPOAeM7RzeeKhq607i0Ch8ms/xatCug9SBvh1wml0K7nw7XmvHpNGixP5KccOKQJi4uTewS0wAck0rYnK3rN+g0/vMY9qozqO8+nz8JCi05/9dM8FkCM3x+g+UreAqFtuIpT4kIjLO/jut/gvXXX2xYzq3KyfcZMxohvPslKvLuPG1lmgCk2QRMN6iQ9BFLiNfTruIQLY3GeRZHKFlsgoj47Dpyn8wvtRtJySeSo8hNo5UUZJHhz9eAkL4J6bLFh10alPTwWNeP5795jO48InLluOBXDG7W6uIIB/YMgTRWSvrilLOvq/gIFTXyGi5N1r2iSHAD40Q7A5hEgf/+W21k+bHBBq1F1cP6AP7qz6xju7YPtVq612BPr2nf2k4JggR0VndnxBvrWU5VZVZcYf9ugy+FGaRmzgA089hgXwlVYVQJYsbUkuNKQdP6oJn97Jp+eUsWVXDpzXhPceSQZkefLRg3Lf6P4tvkHJNEocd3pF0tkdnt3iHg8d/+oy/fmvfhJ4/p7OU5Gntbk//Htxxq5F7wh2axNTf3axoUov7U08uWDvkBvWF4Pqu5vuHYd36rZ43yWBo1kiepzFaHGx39B2Y5lwfnXvidi9ltBSFer49H83+cZNeoGz1E7lcTbuVgOfoXBaKGffxlVu0Z+Oce8UN8Wt/aD2XE11m37BMuwEwRQc+/cufCPkidZoI/sO84wdFa4O6TqYdNAaffk1/bn/3RWrQ7BzBktZjg67RNbGPs1Z/6eN6hepCe88iri/xAIMGb3gtbj1yWfIR9tuwGTH8g+EvLpPmC3zCFK1fhlsqOLase+JAGsi+ozyiB3VTuHrH2spq9SVJR46R0vl8pb3Tlp0NbP3rl+Py2Z2axc7yq/vI8M4S+U9XaZB5ufKkw5lY7GwNtFWNqcHqvRrH9Bu9ualUTM3r4yasXExq/JU49+R82PMvVzJ1dg4V+b8GpmuoATs+ZK07aZya3nKz/lUM6b0yHQnvpmfNaQnfc1IERM2YflKSipHSAABbNNUpp9MMBfmnSfujFTrE9X+ifc30KxESywcffxXO2zGUuvdGVnkMYj0jpYd+D8wdw4jY+SUuOC6OrMy89xha2XxNfIxpP7yDW/jqomQS93VIdhVHt/qHYiVyksv7//ZZkRGuXd4j7AJr76IXUK68nr8z6bCFCPNyu7YyyhJ+C616NTuj4k1HjphyTKpxlcl3GPPDZejWe3k3Xtar3azF62PmLJodfScVzZ5dBzR7iavg7kLbdC8OsaWKBHh9B0vruVqkM0jdsQ037iZY/ENss1KIAggIhZSNV929cAuRnweSCkU/uGzHa4Eshae/GTH7edlGk6k1LogzelUgrhsooVI1F4yn97THiMWHnmJeO7Bvy+99MbIJxNeH/K4+Nk07AlD2i87SbnIkhT/gU/MpZpY5iVwdu6mMtibUwYKC4OlNKfaXJh5hlUqtG4d+j1LQpUnHznA2yyt1kZZe9a+bjdyVaqg6BFyr5ABQsuehQi15bq5rZph6VqblyKFq9pEXuhOpjjEmV6hoa9sv+OFJo30N5f6UHniwcsll45+LlGxcrfovk8JbXgaEASwlqJTn3zNWXmzuAWtdhFrZVbyj5WZp1N/vTMS8dFqJWpvllW40eQj8wjRUDS6rcVAUZSckala3AY+vaePVHh7Rovb9AxmfdGpTw/e6t6//4VjDRxC6rBOI9w7DG5/6wSWuN3KH7trshtlCPagmNoF3L/qjTEUeTJbkrDne3E5EYcYnFZN+ZUffqRacU1tddb5nOJz370npiEgWYsMboZWybzC/J1lxB9W4Rft2RwBUAZ1VjdTnRr8ydtrGtwFpFo/jpGxdItFkEIstvgaLN1RBsQoXd3QRR4u4WYz47LLUFPb6toAbfohCMfduKlXXPspszIr5YQ2utNI8tCVwl2s4PhH2xqb9OYFihZYJBPn13AUqvBuk+I2Xc/AN2bRamKkSg+BQhqBFr0O/IVMSQYGx/MU/rdaYByiQ6s1Yd2Xnblo1CWXNTbvxNtq8pM/nPs4V1VkaWQ0U35D/7JAXFuBZao04fgBc1F6+S3u45XvT5jLKvNl7togXCap/7B5z5UnHVnA8QIpA0MsKY64yH7R0b3XJR2npQovJD5plHvQMqknX7sQGOdbxZE1vrjAAi0Vy0B6D1+70avkysFDYVNeQIwKi1VOXnJVzuUsihQbhxPLiz885Vhzh9NjSLw3PpTje0f93Lj+pk1k179bu8U7bsoz2MV2JwNevI6WSH+tfUljiNeJAkFLO837divNMGG1gsFKNNpQ8fEFuYYV8yO6qAI2bZ35IL+HTn7tLbdOo+fy9lsP0CBrL/OP/He9/tT270me68JxiAqbumFbwIj5qbXGBo9vLNECy0hIvYv1iiu8Nq8UrgcFaQvaUSd1c6fkGmefIRoa85cvD5p0KfmOtDWUW3Tv3g3KIG5eFOtG5gyH60HB1+/vKUdT9RePfOQTN2Kec9seDqtua1LYpgVQqVQihcJp5Aio8tz2t9XqR92IAFo4rth0dfeeG7/XqzRLid52/dI2QWA04sp5shYMdzbyf4e5wnN2XtzxiQQJomx5aacVOC1WQlXbsk58QLl5h+IBIA5BCStTeAZEMrfqG6Lt1RWVKoVMsNkVjQw6FSvjjTpb9tWj2CoyVF747K3G8op4k7kq/rMVki4PTMMDUqnRaK0qtRuScJX5tusXtmFN0hCrynDmuy8YucbDu/voyVjGyY4Mzl7qUH88nChbaeFlpZxFglRt5YuvfGS3+oRylMAxRt0Fkq4t9/SVgq83L5K6qQMrM68cVOBrGZkU4fLupL38u+OByKPSa/HkWgVlK5QzKJHDdcPiHihD5lTyPcsK1VZ8vVTrGcEzuAnyzyfWL5OgTyrSH3rree/uI6eIK4OwRPCFlw80Wm6xDhlUc+3gDkl451wiApbyooyyy99/Fzj86cX4b1b0Hqty48WdO2RnDrJbJbaKXBKfJePYYS44IIxz6h1uYHfvAFkjK5YpLIB8hVxqqcbh+IKEJFvW1V24DskyGKSSyZXqgEi/eu5qmT3nqvjSdwHHhsv4A0mPkSksuB7OKCQoELc9ZRHMF53lqkk9tFshMVtwmcU+I2WlcnlAJOs037mCpP3ibiNy02QEnjEVpZCwfNHVn+y5V9uT0tVkJPyglEvxZUxdfy/av3qdm4+nFndSFRFAG2fO5MwdqpBa22Y0oA0fhoBQcXExslqt9dwVK3FLG0waU40sECabgMk0DNXMR3lkVxPZLizudOJsjcbZeDiB7FQg6trEvJ2ttis7fJimXE6yhcyZJomTZiWOHWJkzNQrA3kMTjc1R0jKQCYT8fVYGpFj15roxpPdDuLvnLmy9gAAVjyIQNwRyFnFtGv3l4lPIkmZpG7+jJht8eFNmZ23mhrUT6NlwuHJoQgkvfp11ORmDnK9GB9Vd60YP8lDk/VNi/m7pS/czuulxP3DYt2I8TTTknL2jdo5XQobe4woxqYqO3mPcqP98jZ5cbZJ/XBiPZG6rN/e4tZC6kbc+JqAoGB8o5aCAAIAAPzRgYcgAAC0Wf5fgAEAc5ccmUWW9tAAAAAASUVORK5CYII="},tvR6:function(t,e){},vLgD:function(t,e,n){"use strict";var i=n("//Fk"),a=n.n(i),s=n("mtWM"),o=n.n(s),r=n("zL8q"),c=(n.n(r),n("TIfe")),l=n("mw3O"),u=n.n(l),d=n("HzcN"),_=(n.n(d),n("YaEn"),n("RRJN")),p=n.n(_),m=Object(d.debounce)(500,function(){Object(c.c)().then(function(){location.reload()}).catch(function(){location.reload()})}),f=Object(d.debounce)(500,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";Object(r.Message)({message:t,duration:1500,type:e})}),g=Object(d.debounce)(1e3,function(t){r.MessageBox.confirm(t,"提示",{confirmButtonText:"确定",showCancelButton:!1,type:"warning"}).then(function(){m()}).catch(function(){})});o.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8";var h=[],v=(h=-1!=window.location.href.indexOf("index.html")?window.location.href.split("index.html"):window.location.href.split("#")).length>0?h[0]:window.location.href;window.BASE_URL=v+"/";var b=o.a.create({baseURL:window.BASE_URL,timeout:6e5});b.interceptors.request.use(function(t){var e=p.a.get("sessionId"),n=p.a.get("authToken");if(e&&n&&(t.headers.sessionId=e,t.headers.authToken=n),t.headers["Content-Type"]&&-1!==t.headers["Content-Type"].indexOf("application/json"))void 0!==t.data&&null!==t.data||(t.data={});else{var i=t.headers["Content-Type"]&&-1!==t.headers["Content-Type"].indexOf("multipart/form-data");t.data=i?t.data:u.a.stringify(t.data)}return t},function(t){return a.a.reject(t)}),b.interceptors.response.use(function(t){var e=t.data;if(200!==t.status||"blob"!==t.config.responseType)return 0!==e.code?(-1===e.code?g(e.msg):f(e.msg),a.a.reject(e)):e;if(t.headers["content-disposition"]||t.headers["content-type"]&&-1!=t.headers["content-type"].indexOf("application/pdf"))return t;var n=new Blob([t.data],{type:"application/json"}),i=new FileReader;i.onload=function(){var t=JSON.parse(this.result);t.msg&&f(t.msg,1==t.code?"success":"error")},i.readAsText(n)},function(t){if(t.response){var e=t.response;500==e.status?f("网络错误，请检查您的网络"):e.data&&e.data.msg&&f(e.data.msg)}return a.a.reject(t)}),e.a=b},wfVY:function(t,e,n){"use strict";var i=n("7+uW"),a=n("M9A7"),s=n("RRJN"),o=n.n(s),r={name:"socket",data:function(){return{websocket:null}},methods:{getWsUrl:function(){var t="ws://im.raingad.com:8282",e=document.domain,n="ws://";return"https:"==window.location.protocol&&(n="wss://"),t=n+e+":8282",console.log(t),t},initWebSocket:function(){var t=this.getWsUrl();this.websocket=new WebSocket(t),this.websocket.onmessage=this.websocketOnMessage,this.websocket.onclose=this.websocketClose,i.default.prototype.$websocket=this.websocket},websocketOnMessage:function(t){var e=JSON.parse(t.data),n=o.a.get("UserInfo");switch(e.type){case"ping":this.websocket.send('{"type":"pong"}');break;case"init":o.a.set("client_id",e.client_id),Object(a.a)({client_id:e.client_id,user_id:n.user_id}).then(function(t){console.log(e.client_id,"消息服务启动成功")}).catch(function(t){console.log("连接失败")});break;default:this.$store.commit("catchSocketAction",e)}},websocketSend:function(t){console.log("发送消息："),console.log(t),this.websocket.send(t)},websocketClose:function(t){console.log("connection closed ("+t.code+")")},playAudio:function(){var t=document.getElementById("chatAudio");t.currentTime=0,t.play()}},created:function(){this.initWebSocket()}},c={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("audio",{attrs:{id:"chatAudio"}},[e("source",{attrs:{src:n("c35E"),type:"audio/mpeg"}})])])}]},l=n("VU/8")(r,c,!1,null,null,null);e.a=l.exports},yBYt:function(t,e,n){"use strict";e.e=function(t){return Object(i.a)({url:"enterprise/im/getContacts",method:"post",data:t})},e.n=function(t){return Object(i.a)({url:"enterprise/im/sendMessage",method:"post",data:t})},e.m=function(t){return Object(i.a)({url:"enterprise/upload/uploadFile",method:"post",data:t,headers:{"Content-Type":"multipart/form-data"}})},e.g=function(t){return Object(i.a)({url:"enterprise/im/getMessageList",method:"post",data:t})},e.q=function(t){return Object(i.a)({url:"enterprise/im/setMsgIsRead",method:"post",data:t})},e.t=function(t){return Object(i.a)({url:"enterprise/im/undoMessage",method:"post",data:t})},e.s=function(t){return Object(i.a)({url:"enterprise/im/setting",method:"post",data:t})},e.c=function(t){return Object(i.a)({url:"enterprise/group/editGroupName",method:"post",data:t})},e.i=function(t){return Object(i.a)({url:"enterprise/group/groupuserlist",method:"post",data:t})},e.d=function(t){return Object(i.a)({url:"enterprise/group/getAllUser",method:"post",data:t})},e.a=function(t){return Object(i.a)({url:"enterprise/group/add",method:"post",data:t})},e.p=function(t){return Object(i.a)({url:"enterprise/group/setManager",method:"post",data:t})},e.l=function(t){return Object(i.a)({url:"enterprise/group/removeUser",method:"post",data:t})},e.b=function(t){return Object(i.a)({url:"enterprise/group/addGroupUser",method:"post",data:t})},e.k=function(t){return Object(i.a)({url:"enterprise/group/removeGroup",method:"post",data:t})},e.r=function(t){return Object(i.a)({url:"enterprise/group/setNotice",method:"post",data:t})},e.h=function(t){return Object(i.a)({url:"enterprise/group/groupSetting",method:"post",data:t})},e.f=function(t){return Object(i.a)({url:"enterprise/group/groupInfo",method:"post",data:t})},e.j=function(t){return Object(i.a)({url:"enterprise/im/isNotice",method:"post",data:t})},e.o=function(t){return Object(i.a)({url:"enterprise/im/setChatTop",method:"post",data:t})};var i=n("vLgD")},yKiv:function(t,e){},ysqy:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c8e75b573385b9003e86.js.map